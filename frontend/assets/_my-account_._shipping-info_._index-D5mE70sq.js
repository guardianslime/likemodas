import{E as e,F as t,I as n,d as r}from"./chunk-C37GKA54-CqdiFsO7.js";import"./jsx-runtime-D8Rx4V8w.js";import{b as i,f as a,j as o,l as s,s as c}from"./state-Dz9ZreR7.js";import{$ as l,H as u,M as d,N as f,O as p,P as m,Q as h,_ as g,m as _,s as v}from"./esm-Bz5HR5JP.js";import{b as y,c as b,d as x,v as S,y as C}from"./stateful_components-BfFDNpPz.js";import{b as w}from"./createLucideIcon-B8Sw3JMW.js";const T=[[`path`,{d:`M18 6 7 17l-5-5`,key:`116fxf`}],[`path`,{d:`m22 10-7.5 7.5L13 16`,key:`ke71qq`}]],E=w(`check-check`,T),D=[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]],O=w(`map-pin`,D);var k=n(t());function A(){let[e,t]=(0,k.useContext)(o),n=(0,k.useCallback)(t=>{let n=t.target;t.preventDefault();let r={...Object.fromEntries(new FormData(n).entries())};((...t)=>e([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.add_new_address`,{form_data:r},{})],t,{}))(t),n.reset()});return c(C,{className:`Root `,css:{width:`100%`},onSubmit:n},c(p,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`4`},c(l,{css:{width:`100%`},size:`6`},`Nueva Dirección de Envío`),c(u,{css:{gridColumn:`span 2`}}),c(m,{css:{height:`1em`}}),c(g,{as:`p`,color:`gray`,css:{textAlign:`center`,width:`100%`},size:`2`},`Opcional: Para mayor precisión en la entrega, añade tu ubicación exacta.`),c(I,{}),c(p,{align:`start`,className:`rx-Stack`,css:{width:`100%`,marginTop:`1em`},direction:`row`,justify:`end`,gap:`3`},c(N,{}),c(d,{css:{width:`auto`},type:`submit`},`Guardar Dirección`))))}function j(){let e=(0,k.useContext)(s.reflex___state____state);return c(k.Fragment,{},e.is_hydrated_rx_state_?c(k.Fragment,{},c(p,{align:`start`,className:`rx-Stack`,css:{alignItems:`start`,minHeight:`85vh`,width:`100%`},direction:`row`,gap:`3`},c(p,{align:`start`,className:`rx-Stack`,css:{alignItems:`start`,padding:`1em`,borderRight:`1px solid #ededed`,height:`100%`,minWidth:`250px`},direction:`column`,gap:`3`},c(l,{css:{marginBottom:`1em`},size:`6`},`Mi Cuenta`),c(v,{asChild:!0,css:{width:`100%`,padding:`0.5em`,"&:hover":{color:`var(--accent-8)`}}},c(r,{to:`/my-purchases`},c(g,{as:`p`},`Mis Compras`))),c(v,{asChild:!0,css:{width:`100%`,padding:`0.5em`,"&:hover":{color:`var(--accent-8)`}}},c(r,{to:`/my-account/shipping-info`},c(g,{as:`p`},`Información para envíos`))),c(v,{asChild:!0,css:{width:`100%`,padding:`0.5em`,"&:hover":{color:`var(--accent-8)`}}},c(r,{to:`/my-account/saved-posts`},c(g,{as:`p`},`Publicaciones Guardadas`)))),c(m,{css:{padding:`2em`,width:`100%`}},c(P,{})))):c(k.Fragment,{},c(p,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`85vh`}},c(f,{size:`3`}))))}function M(){let e=(0,k.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(k.Fragment,{},e.show_form_rx_state_?c(k.Fragment,{}):c(k.Fragment,{},c(z,{})))}function N(){let[e,t]=(0,k.useContext)(o),n=(0,k.useCallback)(t=>e([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.toggle_form`,{},{})],[t],{}),[e,i]);return c(d,{color:`gray`,onClick:n},`Cancelar`)}function P(){let e=(0,k.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state),[t,n]=(0,k.useContext)(o);return c(p,{align:`start`,className:`rx-Stack`,css:{alignItems:`start`,width:`100%`,maxWidth:`700px`},direction:`column`,gap:`3`},c(l,{size:`7`},`Mi Información para Envíos`),c(g,{as:`p`,css:{marginBottom:`1.5em`}},`Aquí puedes gestionar tus direcciones de envío.`),e.addresses_rx_state_.map((e,n)=>c(m,{css:{border:`1px solid #ededed`,borderRadius:`md`,padding:`1em`,width:`100%`},key:n},c(p,{align:`start`,className:`rx-Stack`,css:{alignItems:`start`},direction:`column`,gap:`2`},c(p,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`row`,gap:`3`},c(g,{as:`p`,weight:`bold`},e.name),c(p,{css:{flex:1,justifySelf:`stretch`,alignSelf:`stretch`}}),c(k.Fragment,{},e.is_default?c(k.Fragment,{},c(h,{color:`green`},`Predeterminada`)):c(k.Fragment,{}))),c(g,{as:`p`},e.address+`, `+e.neighborhood),c(g,{as:`p`},e.city),c(g,{as:`p`},`Tel: `+e.phone),c(k.Fragment,{},a(e.latitude)?c(k.Fragment,{},c(v,{asChild:!0,css:{"&:hover":{color:`var(--accent-8)`}}},c(r,{target:`_blank`,to:`https://www.google.com/maps?q=`+e.latitude+`,`+e.longitude},c(h,{color:`blue`,css:{paddingInlineStart:`0.75em`,paddingInlineEnd:`0.75em`,marginTop:`0.5em`},variant:`soft`},c(E,{size:14}),`Ubicación guardada. Ver en mapa.`)))):c(k.Fragment,{})),c(_,{size:`4`}),c(p,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`row`,justify:`end`,gap:`3`},c(d,{color:`red`,onClick:n=>t([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.delete_address`,{address_id:e.id},{})],[n],{}),size:`2`,variant:`soft`},`Eliminar`),c(d,{css:{isDisabled:e.is_default},onClick:n=>t([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.set_as_default`,{address_id:e.id},{})],[n],{}),size:`2`,variant:`outline`},`Hacer Predeterminada`))))),c(M,{}),c(R,{}))}function F(){let e=(0,k.useContext)(s.reflex___state____state),t=(0,k.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state);return c(k.Fragment,{},e.is_hydrated_rx_state_&&t.is_authenticated_rx_state_?c(j,{}):c(k.Fragment,{},c(p,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`}},c(S,{}))))}function I(){let[e,t]=(0,k.useContext)(o),n=(0,k.useCallback)((t,n)=>e([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.set_location_coordinates`,{lat:t,lon:n},{})],[t,n],{}),[e,i]),r=(0,k.useCallback)((...t)=>e([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.on_location_error`,{},{})],t,{}),[e,i]);return c(div,{onLocationError:r,onLocationSuccess:n},c(d,{css:{width:`100%`},onClick:t=>e([i(`_call_script`,{javascript_code:`getLocation(None, None)`,callback:null},{})],[t],{}),variant:`outline`},c(O,{css:{marginRight:`0.5em`}}),`Añadir mi ubicación con mapa`))}function L(){let e=(0,k.useContext)(s.reflex___state____state);return c(k.Fragment,{},e.is_hydrated_rx_state_?c(B,{}):c(k.Fragment,{},c(p,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`100vh`,width:`100%`,background:`var(--gray-2)`}},c(f,{size:`3`}))))}function R(){let e=(0,k.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(k.Fragment,{},e.show_form_rx_state_?c(k.Fragment,{},c(A,{})):c(k.Fragment,{}))}function z(){let[e,t]=(0,k.useContext)(o),n=(0,k.useCallback)(t=>e([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.toggle_form`,{},{})],[t],{}),[e,i]);return c(d,{css:{marginTop:`2em`},onClick:n},`Crear Nueva Dirección`)}function B(){let e=(0,k.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(k.Fragment,{},e.is_admin_rx_state_?c(k.Fragment,{},c(m,{css:{width:`100%`,minHeight:`100vh`}},c(b,{}),c(m,{css:{padding:`1em`,width:`100%`}},c(k.Fragment,{},c(F,{}))))):c(k.Fragment,{},c(m,{css:{width:`100%`}},c(y,{}),c(m,{css:{paddingTop:`6rem`,paddingInlineStart:`1em`,paddingInlineEnd:`1em`,paddingBottom:`1em`,width:`100%`}},c(k.Fragment,{},c(F,{}))),c(m,{css:{position:`fixed`,bottom:`1.5rem`,right:`1.5rem`,zIndex:`1000`}},c(x,{})))))}var V=e(function(){return c(k.Fragment,{},c(L,{}),c(`title`,{},`Información de Envío`),c(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{V as default};