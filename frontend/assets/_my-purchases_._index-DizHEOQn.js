import{w as v,a,v as h}from"./chunk-QMGIS6GS-suYYFPSk.js";import{j as e,h as r,E as I,f as u,l as N,i as z}from"./state-Bxcit_oo.js";import{T as B,M as f,D as x,a as w,B as y,L as j,F as T,b as D,c as E,d as L,e as $,f as M,g as R,h as q}from"./stateful_components-BDYjoLdo.js";import{az as s,ad as H,ay as t,aZ as k,a_ as b,aD as C,a$ as F,b0 as o,aQ as m,aT as W,a5 as p,aO as S,a4 as n,b1 as O,aL as P,aK as A}from"./createLucideIcon-oHWkVJpQ.js";import"./index-GZitOFEf.js";function K(){const _=a.useContext(r.reflex___state____state);return e(a.Fragment,{},_.is_hydrated_rx_state_?e(J,{}):e(a.Fragment,{},e(s,{css:{width:"100%"}},e(s,{css:{backdropFilter:"blur(10px)",position:"fixed",top:"0",left:"0",right:"0",width:"100%",padding:"0.75rem 1.5rem",zIndex:"999",background:"#2C004BF0"}},e(H,{columns:"auto 1fr auto",css:{alignItems:"center",width:"100%",gap:"1.5rem"}},e(t,{align:"center",className:"rx-Stack",direction:"row",justify:"start",gap:"4"},e(s,{css:{width:"8em",height:"36px",background:"var(--gray-4)",borderRadius:"md"}})),e(s,{css:{height:"36px",background:"var(--gray-4)",borderRadius:"md",width:"100%"}}),e(t,{align:"center",className:"rx-Stack",direction:"row",justify:"end",gap:"3"},e(s,{css:{width:"36px",height:"36px",background:"var(--gray-4)",borderRadius:"full"}}),e(s,{css:{width:"36px",height:"36px",background:"var(--gray-4)",borderRadius:"full"}})))),e(s,{css:{paddingTop:"6rem",paddingInlineStart:"1em",paddingInlineEnd:"1em",paddingBottom:"1em",width:"100%"}},e(a.Fragment,{},e(c,{}))))))}function Q(){const _=a.useContext(r.reflex___state____state);return e(a.Fragment,{},_.is_hydrated_rx_state_?e(a.Fragment,{},e(t,{align:"start",className:"rx-Stack",css:{alignItems:"start",minHeight:"85vh",width:"100%"},direction:"row",gap:"3"},e(t,{align:"start",className:"rx-Stack",css:{alignItems:"start",padding:"1em",borderRight:"1px solid #ededed",height:"100%",minWidth:"250px"},direction:"column",gap:"3"},e(p,{css:{marginBottom:"1em"},size:"6"},"Mi Cuenta"),e(S,{asChild:!0,css:{width:"100%",padding:"0.5em","&:hover":{color:"var(--accent-8)"}}},e(h,{to:"/my-purchases"},e(n,{as:"p"},"Mis Compras"))),e(S,{asChild:!0,css:{width:"100%",padding:"0.5em","&:hover":{color:"var(--accent-8)"}}},e(h,{to:"/my-account/shipping-info"},e(n,{as:"p"},"Información para envíos")))),e(s,{css:{padding:"2em",width:"100%"}},e(t,{css:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},e(t,{align:"center",className:"rx-Stack",css:{width:"100%",maxWidth:"960px"},direction:"column",gap:"6"},e(p,{size:"7"},"Mi Historial de Compras"),e(U,{}),e(G,{})))))):e(a.Fragment,{},e(t,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"85vh"}},e(W,{size:"3"}))))}function U(){const _=a.useContext(r.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state),[i,g]=a.useContext(I),l=a.useCallback(d=>i([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.set_search_query_user_history",{query:d.target.value},{})],[d],{}),[i,u]);return e(q,{css:{width:"100%",maxWidth:"400px",marginTop:"1.5em",marginBottom:"1.5em"},debounceTimeout:300,element:O,onChange:l,placeholder:"Buscar por ID o producto...",value:N(_.search_query_user_history_rx_state_)?_.search_query_user_history_rx_state_:""})}function Z(){const _=a.useContext(r.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return e(a.Fragment,{},_.filtered_user_purchases_rx_state_.map((i,g)=>e(P,{css:{width:"100%",padding:"1.5em"},key:g},e(t,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"4"},e(t,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"row",justify:"between",gap:"3"},e(t,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"3"},e(n,{as:"p",size:"5",weight:"bold"},"Compra del: "+i.purchase_date_formatted),e(n,{as:"p",color:"gray",size:"2"},"ID de Compra: #"+i.id)),e(t,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),e(t,{align:"start",className:"rx-Stack",css:{alignItems:"end"},direction:"column",gap:"3"},e(A,{color:"blue",size:"2",variant:"soft"},i.status),e(p,{size:"6"},i.total_price_cop))),e(m,{size:"4"}),e(t,{align:"start",className:"rx-Stack",css:{alignItems:"start",width:"100%"},direction:"column",gap:"1"},e(n,{as:"p",size:"4",weight:"medium"},"Detalles de Envío:"),e(n,{as:"p",size:"3"},"Nombre: "+i.shipping_name),e(n,{as:"p",size:"3"},"Dirección: "+i.shipping_address+", "+i.shipping_neighborhood+", "+i.shipping_city),e(n,{as:"p",size:"3"},"Teléfono: "+i.shipping_phone)),e(m,{size:"4"}),e(t,{align:"start",className:"rx-Stack",css:{alignItems:"start",width:"100%"},direction:"column",gap:"1"},e(n,{as:"p",size:"4",weight:"medium"},"Artículos Comprados:"),i.items_formatted.map((l,d)=>e(n,{as:"p",key:d,size:"3"},l)))))))}function c(){const _=a.useContext(r.reflex___state____state),i=a.useContext(r.reflex___state____state__reflex_local_auth___local_auth____local_auth_state);return e(a.Fragment,{},_.is_hydrated_rx_state_&&i.is_authenticated_rx_state_?e(Q,{}):e(a.Fragment,{},e(t,{css:{display:"flex",alignItems:"center",justifyContent:"center"}},e(B,{}))))}function G(){const _=a.useContext(r.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return e(a.Fragment,{},z(_.filtered_user_purchases_rx_state_)?e(Z,{}):e(a.Fragment,{},e(t,{css:{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"2em",paddingBottom:"2em"}},e(n,{as:"p"},"No se encontraron compras para tu búsqueda."))))}function J(){const _=a.useContext(r.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return e(a.Fragment,{},_.is_admin_rx_state_?e(a.Fragment,{},e(s,{},e(t,{align:"start",className:"rx-Stack",css:{"@media screen and (min-width: 0)":{display:"flex"},"@media screen and (min-width: 30em)":{display:"flex"},"@media screen and (min-width: 48em)":{display:"none"},"@media screen and (min-width: 62em)":{display:"none"},"@media screen and (min-width: 80em)":{display:"none"}},direction:"column",gap:"0"},e(t,{align:"center",className:"rx-Stack",css:{width:"100%",padding:"0.5em 1em",background:"#2C004B"},direction:"row",gap:"3"},e(s,{css:{"@media screen and (min-width: 0)":{display:"block"},"@media screen and (min-width: 30em)":{display:"block"},"@media screen and (min-width: 48em)":{display:"none"},"@media screen and (min-width: 62em)":{display:"none"},"@media screen and (min-width: 80em)":{display:"none"}}},e(k,{},e(b,{},e(C,{variant:"ghost"},e(f,{size:22}))),e(F,{},e(x,{}),e(o,{}),e(o,{}),e(w,{})))),e(t,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),e("img",{css:{width:"6em",height:"auto"},src:"/logo.png"}),e(t,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),e(y,{})),e(s,{css:{padding:"1em",width:"100%"}},e(a.Fragment,{},e(c,{})))),e(t,{align:"start",className:"rx-Stack",css:{"@media screen and (min-width: 0)":{display:"none"},"@media screen and (min-width: 30em)":{display:"none"},"@media screen and (min-width: 48em)":{display:"flex"},"@media screen and (min-width: 62em)":{display:"flex"},"@media screen and (min-width: 80em)":{display:"flex"},width:"100%",minHeight:"100vh"},direction:"row",gap:"0"},e(a.Fragment,{},e(s,{css:{width:"16em","@media screen and (min-width: 0)":{display:"none"},"@media screen and (min-width: 30em)":{display:"none"},"@media screen and (min-width: 48em)":{display:"block"},"@media screen and (min-width: 62em)":{display:"block"},"@media screen and (min-width: 80em)":{display:"block"}}},e(t,{align:"start",className:"rx-Stack",css:{paddingInlineStart:"1em",paddingInlineEnd:"1em",paddingTop:"1.5em",paddingBottom:"1.5em",background:"#2C004B",height:"100vh"},direction:"column",gap:"5"},e(t,{align:"center",className:"rx-Stack",css:{width:"100%",marginBottom:"1.5em"},direction:"row",justify:"center",gap:"3"},e("img",{css:{width:"9em",height:"auto",borderRadius:"25%"},src:"/logo.png"})),e(t,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"1"},e(j,{}),e(T,{}),e(D,{}),e(E,{})),e(t,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),e(t,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"5"},e(t,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"1"},e(y,{}),e(L,{})),e(m,{size:"4"}),e($,{})))),e(s,{css:{"@media screen and (min-width: 0)":{display:"block"},"@media screen and (min-width: 30em)":{display:"block"},"@media screen and (min-width: 48em)":{display:"none"},"@media screen and (min-width: 62em)":{display:"none"},"@media screen and (min-width: 80em)":{display:"none"}}},e(k,{},e(b,{},e(C,{variant:"ghost"},e(f,{size:22}))),e(F,{},e(x,{}),e(o,{}),e(o,{}),e(w,{}))))),e(s,{css:{padding:"1em",width:"100%"}},e(a.Fragment,{},e(c,{})))))):e(a.Fragment,{},e(s,{css:{width:"100%"}},e(M,{}),e(s,{css:{paddingTop:"6rem",paddingInlineStart:"1em",paddingInlineEnd:"1em",paddingBottom:"1em",width:"100%"}},e(a.Fragment,{},e(c,{}))),e(s,{css:{position:"fixed",bottom:"1.5rem",right:"1.5rem",zIndex:"1000"}},e(R,{})))))}const te=v(function(){return e(a.Fragment,{},e(K,{}),e("title",{},"Mis Compras"),e("meta",{content:"favicon.ico",property:"og:image"}))});export{te as default};
