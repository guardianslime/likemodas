import{x as getDefaultExportFromCjs,t as React,a as reactExports,o as useLocation,p as useNavigate,z as useParams,A as useSearchParams}from"./chunk-QMGIS6GS-CgUBpFMi.js";const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[e]]=e});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,encodePacket=({type:e,data:t},_,a)=>withNativeBlob$1&&t instanceof Blob?_?a(t):encodeBlobAsBase64(t,a):withNativeArrayBuffer$2&&(t instanceof ArrayBuffer||isView$1(t))?_?a(t):encodeBlobAsBase64(new Blob([t]),a):a(PACKET_TYPES[e]+(t||"")),encodeBlobAsBase64=(e,t)=>{const _=new FileReader;return _.onload=function(){const a=_.result.split(",")[1];t("b"+(a||""))},_.readAsDataURL(e)};function toArray(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(e,t){if(withNativeBlob$1&&e.data instanceof Blob)return e.data.arrayBuffer().then(toArray).then(t);if(withNativeArrayBuffer$2&&(e.data instanceof ArrayBuffer||isView$1(e.data)))return t(toArray(e.data));encodePacket(e,!1,_=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),t(TEXT_ENCODER.encode(_))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<chars.length;e++)lookup$1[chars.charCodeAt(e)]=e;const decode$1=e=>{let t=e.length*.75,_=e.length,a,s=0,r,u,o,i;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const E=new ArrayBuffer(t),h=new Uint8Array(E);for(a=0;a<_;a+=4)r=lookup$1[e.charCodeAt(a)],u=lookup$1[e.charCodeAt(a+1)],o=lookup$1[e.charCodeAt(a+2)],i=lookup$1[e.charCodeAt(a+3)],h[s++]=r<<2|u>>4,h[s++]=(u&15)<<4|o>>2,h[s++]=(o&3)<<6|i&63;return E},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(e,t)=>{if(typeof e!="string")return{type:"message",data:mapBinary(e,t)};const _=e.charAt(0);return _==="b"?{type:"message",data:decodeBase64Packet(e.substring(1),t)}:PACKET_TYPES_REVERSE[_]?e.length>1?{type:PACKET_TYPES_REVERSE[_],data:e.substring(1)}:{type:PACKET_TYPES_REVERSE[_]}:ERROR_PACKET},decodeBase64Packet=(e,t)=>{if(withNativeArrayBuffer$1){const _=decode$1(e);return mapBinary(_,t)}else return{base64:!0,data:e}},mapBinary=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},SEPARATOR="",encodePayload=(e,t)=>{const _=e.length,a=new Array(_);let s=0;e.forEach((r,u)=>{encodePacket(r,!1,o=>{a[u]=o,++s===_&&t(a.join(SEPARATOR))})})},decodePayload=(e,t)=>{const _=e.split(SEPARATOR),a=[];for(let s=0;s<_.length;s++){const r=decodePacket(_[s],t);if(a.push(r),r.type==="error")break}return a};function createPacketEncoderStream(){return new TransformStream({transform(e,t){encodePacketToBinary(e,_=>{const a=_.length;let s;if(a<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,a);else if(a<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,a)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(_)})}})}let TEXT_DECODER;function totalLength(e){return e.reduce((t,_)=>t+_.length,0)}function concatChunks(e,t){if(e[0].length===t)return e.shift();const _=new Uint8Array(t);let a=0;for(let s=0;s<t;s++)_[s]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),_}function createPacketDecoderStream(e,t){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const _=[];let a=0,s=-1,r=!1;return new TransformStream({transform(u,o){for(_.push(u);;){if(a===0){if(totalLength(_)<1)break;const i=concatChunks(_,1);r=(i[0]&128)===128,s=i[0]&127,s<126?a=3:s===126?a=1:a=2}else if(a===1){if(totalLength(_)<2)break;const i=concatChunks(_,2);s=new DataView(i.buffer,i.byteOffset,i.length).getUint16(0),a=3}else if(a===2){if(totalLength(_)<8)break;const i=concatChunks(_,8),E=new DataView(i.buffer,i.byteOffset,i.length),h=E.getUint32(0);if(h>Math.pow(2,21)-1){o.enqueue(ERROR_PACKET);break}s=h*Math.pow(2,32)+E.getUint32(4),a=3}else{if(totalLength(_)<s)break;const i=concatChunks(_,s);o.enqueue(decodePacket(r?i:TEXT_DECODER.decode(i),t)),a=0}if(s===0||s>e){o.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Emitter.prototype.once=function(e,t){function _(){this.off(e,_),t.apply(this,arguments)}return _.fn=t,this.on(e,_),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var _=this._callbacks["$"+e];if(!_)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,s=0;s<_.length;s++)if(a=_[s],a===t||a.fn===t){_.splice(s,1);break}return _.length===0&&delete this._callbacks["$"+e],this};Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),_=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(_){_=_.slice(0);for(var a=0,s=_.length;a<s;++a)_[a].apply(this,t)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,_)=>_(t,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(e,...t){return t.reduce((_,a)=>(e.hasOwnProperty(a)&&(_[a]=e[a]),_),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(e,t){t.useNativeTimers?(e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(e.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),e.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(e){return typeof e=="string"?utf8Length(e):Math.ceil((e.byteLength||e.size)*BASE64_OVERHEAD)}function utf8Length(e){let t=0,_=0;for(let a=0,s=e.length;a<s;a++)t=e.charCodeAt(a),t<128?_+=1:t<2048?_+=2:t<55296||t>=57344?_+=3:(a++,_+=4);return _}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode(e){let t="";for(let _ in e)e.hasOwnProperty(_)&&(t.length&&(t+="&"),t+=encodeURIComponent(_)+"="+encodeURIComponent(e[_]));return t}function decode(e){let t={},_=e.split("&");for(let a=0,s=_.length;a<s;a++){let r=_[a].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class TransportError extends Error{constructor(t,_,a){super(t),this.description=_,this.context=a,this.type="TransportError"}}class Transport extends Emitter{constructor(t){super(),this.writable=!1,installTimerFunctions(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,_,a){return super.emitReserved("error",new TransportError(t,_,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const _=decodePacket(t,this.socket.binaryType);this.onPacket(_)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,_={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(_)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const _=encode(t);return _.length?"?"+_:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const _=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||_()})),this.writable||(a++,this.once("drain",function(){--a||_()}))}else _()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const _=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};decodePayload(t,this.socket.binaryType).forEach(_),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,encodePayload(t,_=>{this.doWrite(_,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",_=this.query||{};return this.opts.timestampRequests!==!1&&(_[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!_.sid&&(_.b64=1),this.createUri(t,_)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor(t){if(super(t),typeof location<"u"){const _=location.protocol==="https:";let a=location.port;a||(a=_?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,_){const a=this.request({method:"POST",data:t});a.on("success",_),a.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(_,a)=>{this.onError("xhr poll error",_,a)}),this.pollXhr=t}}class Request extends Emitter{constructor(t,_,a){super(),this.createRequest=t,installTimerFunctions(this,a),this._opts=a,this._method=a.method||"GET",this._uri=_,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const _=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");_.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(_);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&a.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var s;a.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(e,unloadHandler,!1)}}function unloadHandler(){for(let e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}const hasXHR2=function(){const e=newRequest({xdomain:!1});return e&&e.responseType!==null}();class XHR extends BaseXHR{constructor(t){super(t);const _=t&&t.forceBase64;this.supportsBinary=hasXHR2&&!_}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),t)}}function newRequest(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||hasCORS))return new XMLHttpRequest}catch{}if(!t)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const t=this.uri(),_=this.opts.protocols,a=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,_,a)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let _=0;_<t.length;_++){const a=t[_],s=_===t.length-1;encodePacket(a,this.supportsBinary,r=>{try{this.doWrite(a,r)}catch{}s&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",_=this.query||{};return this.opts.timestampRequests&&(_[this.opts.timestampParam]=randomString()),this.supportsBinary||(_.b64=1),this.createUri(t,_)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket(t,_,a){return isReactNative?new WebSocketCtor(t,_,a):_?new WebSocketCtor(t,_):new WebSocketCtor(t)}doWrite(t,_){this.ws.send(_)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const _=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(_).getReader(),s=createPacketEncoderStream();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const r=()=>{a.read().then(({done:o,value:i})=>{o||(this.onPacket(i),r())}).catch(o=>{})};r();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let _=0;_<t.length;_++){const a=t[_],s=_===t.length-1;this._writer.write(a).then(()=>{s&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(e){if(e.length>8e3)throw"URI too long";const t=e,_=e.indexOf("["),a=e.indexOf("]");_!=-1&&a!=-1&&(e=e.substring(0,_)+e.substring(_,a).replace(/:/g,";")+e.substring(a,e.length));let s=re.exec(e||""),r={},u=14;for(;u--;)r[parts[u]]=s[u]||"";return _!=-1&&a!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=pathNames(r,r.path),r.queryKey=queryKey(r,r.query),r}function pathNames(e,t){const _=/\/{2,9}/g,a=t.replace(_,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function queryKey(e,t){const _={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,s,r){s&&(_[s]=r)}),_}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(e=>e())},!1);class SocketWithoutUpgrade extends Emitter{constructor(t,_){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(_=t,t=null),t){const a=parse$2(t);_.hostname=a.host,_.secure=a.protocol==="https"||a.protocol==="wss",_.port=a.port,a.query&&(_.query=a.query)}else _.host&&(_.hostname=parse$2(_.host).host);installTimerFunctions(this,_),this.secure=_.secure!=null?_.secure:typeof location<"u"&&location.protocol==="https:",_.hostname&&!_.port&&(_.port=this.secure?"443":"80"),this.hostname=_.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=_.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},_.transports.forEach(a=>{const s=a.prototype.name;this.transports.push(s),this._transportsByName[s]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},_),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const _=Object.assign({},this.opts.query);_.EIO=protocol$1,_.transport=t,this.id&&(_.sid=this.id);const a=Object.assign({},this.opts,{query:_,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const _=this.createTransport(t);_.open(),this.setTransport(_)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",_=>this._onClose("transport close",_))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const _=new Error("server error");_.code=t.data,this._onError(_);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let _=1;for(let a=0;a<this.writeBuffer.length;a++){const s=this.writeBuffer[a].data;if(s&&(_+=byteLength(s)),a>0&&_>this._maxPayload)return this.writeBuffer.slice(0,a);_+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,_,a){return this._sendPacket("message",t,_,a),this}send(t,_,a){return this._sendPacket("message",t,_,a),this}_sendPacket(t,_,a,s){if(typeof _=="function"&&(s=_,_=void 0),typeof a=="function"&&(s=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const r={type:t,data:_,options:a};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},_=()=>{this.off("upgrade",_),this.off("upgradeError",_),t()},a=()=>{this.once("upgrade",_),this.once("upgradeError",_)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,_){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);a!==-1&&OFFLINE_EVENT_LISTENERS.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,_),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let _=this.createTransport(t),a=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const s=()=>{a||(_.send([{type:"ping",data:"probe"}]),_.once("packet",f=>{if(!a)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",_),!_)return;SocketWithoutUpgrade.priorWebsocketSuccess=_.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(h(),this.setTransport(_),_.send([{type:"upgrade"}]),this.emitReserved("upgrade",_),_=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=_.name,this.emitReserved("upgradeError",x)}}))};function r(){a||(a=!0,h(),_.close(),_=null)}const u=f=>{const x=new Error("probe error: "+f);x.transport=_.name,r(),this.emitReserved("upgradeError",x)};function o(){u("transport closed")}function i(){u("socket closed")}function E(f){_&&f.name!==_.name&&r()}const h=()=>{_.removeListener("open",s),_.removeListener("error",u),_.removeListener("close",o),this.off("close",i),this.off("upgrading",E)};_.once("open",s),_.once("error",u),_.once("close",o),this.once("close",i),this.once("upgrading",E),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||_.open()},200):_.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const _=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&_.push(t[a]);return _}}let Socket$1=class extends SocketWithUpgrade{constructor(t,_={}){const a=typeof t=="object"?t:_;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(s=>transports[s]).filter(s=>!!s)),super(t,a)}};function url(e,t="",_){let a=e;_=_||typeof location<"u"&&location,e==null&&(e=_.protocol+"//"+_.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=_.protocol+e:e=_.host+e),/^(https?|wss?):\/\//.test(e)||(typeof _<"u"?e=_.protocol+"//"+e:e="https://"+e),a=parse$2(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const r=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+r+":"+a.port+t,a.href=a.protocol+"://"+r+(_&&_.port===a.port?"":":"+a.port),a}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(e){return withNativeArrayBuffer&&(e instanceof ArrayBuffer||isView(e))||withNativeBlob&&e instanceof Blob||withNativeFile&&e instanceof File}function hasBinary(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let _=0,a=e.length;_<a;_++)if(hasBinary(e[_]))return!0;return!1}if(isBinary(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return hasBinary(e.toJSON(),!0);for(const _ in e)if(Object.prototype.hasOwnProperty.call(e,_)&&hasBinary(e[_]))return!0;return!1}function deconstructPacket(e){const t=[],_=e.data,a=e;return a.data=_deconstructPacket(_,t),a.attachments=t.length,{packet:a,buffers:t}}function _deconstructPacket(e,t){if(!e)return e;if(isBinary(e)){const _={_placeholder:!0,num:t.length};return t.push(e),_}else if(Array.isArray(e)){const _=new Array(e.length);for(let a=0;a<e.length;a++)_[a]=_deconstructPacket(e[a],t);return _}else if(typeof e=="object"&&!(e instanceof Date)){const _={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(_[a]=_deconstructPacket(e[a],t));return _}return e}function reconstructPacket(e,t){return e.data=_reconstructPacket(e.data,t),delete e.attachments,e}function _reconstructPacket(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let _=0;_<e.length;_++)e[_]=_reconstructPacket(e[_],t);else if(typeof e=="object")for(const _ in e)Object.prototype.hasOwnProperty.call(e,_)&&(e[_]=_reconstructPacket(e[_],t));return e}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(t){this.replacer=t}encode(t){return(t.type===PacketType.EVENT||t.type===PacketType.ACK)&&hasBinary(t)?this.encodeAsBinary({type:t.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let _=""+t.type;return(t.type===PacketType.BINARY_EVENT||t.type===PacketType.BINARY_ACK)&&(_+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(_+=t.nsp+","),t.id!=null&&(_+=t.id),t.data!=null&&(_+=JSON.stringify(t.data,this.replacer)),_}encodeAsBinary(t){const _=deconstructPacket(t),a=this.encodeAsString(_.packet),s=_.buffers;return s.unshift(a),s}}function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}class Decoder extends Emitter{constructor(t){super(),this.reviver=t}add(t){let _;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");_=this.decodeString(t);const a=_.type===PacketType.BINARY_EVENT;a||_.type===PacketType.BINARY_ACK?(_.type=a?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(_),_.attachments===0&&super.emitReserved("decoded",_)):super.emitReserved("decoded",_)}else if(isBinary(t)||t.base64)if(this.reconstructor)_=this.reconstructor.takeBinaryData(t),_&&(this.reconstructor=null,super.emitReserved("decoded",_));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let _=0;const a={type:Number(t.charAt(0))};if(PacketType[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===PacketType.BINARY_EVENT||a.type===PacketType.BINARY_ACK){const r=_+1;for(;t.charAt(++_)!=="-"&&_!=t.length;);const u=t.substring(r,_);if(u!=Number(u)||t.charAt(_)!=="-")throw new Error("Illegal attachments");a.attachments=Number(u)}if(t.charAt(_+1)==="/"){const r=_+1;for(;++_&&!(t.charAt(_)===","||_===t.length););a.nsp=t.substring(r,_)}else a.nsp="/";const s=t.charAt(_+1);if(s!==""&&Number(s)==s){const r=_+1;for(;++_;){const u=t.charAt(_);if(u==null||Number(u)!=u){--_;break}if(_===t.length)break}a.id=Number(t.substring(r,_+1))}if(t.charAt(++_)){const r=this.tryParse(t.substr(_));if(Decoder.isPayloadValid(a.type,r))a.data=r;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,_){switch(t){case PacketType.CONNECT:return isObject(_);case PacketType.DISCONNECT:return _===void 0;case PacketType.CONNECT_ERROR:return typeof _=="string"||isObject(_);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(_)&&(typeof _[0]=="number"||typeof _[0]=="string"&&RESERVED_EVENTS$1.indexOf(_[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(_)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const _=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),_}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(e,t,_){return e.on(t,_),function(){e.off(t,_)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(t,_,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=_,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,..._){var a,s,r;if(RESERVED_EVENTS.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(_.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(_),this;const u={type:PacketType.EVENT,data:_};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof _[_.length-1]=="function"){const h=this.ids++,f=_.pop();this._registerAckCallback(h,f),u.id=h}const o=(s=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||s===void 0?void 0:s.writable,i=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!o||(i?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(t,_){var a;const s=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(s===void 0){this.acks[t]=_;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);_.call(this,new Error("operation has timed out"))},s),u=(...o)=>{this.io.clearTimeoutFn(r),_.apply(this,o)};u.withError=!0,this.acks[t]=u}emitWithAck(t,..._){return new Promise((a,s)=>{const r=(u,o)=>u?s(u):a(o);r.withError=!0,_.push(r),this.emit(t,..._)})}_addToQueue(t){let _;typeof t[t.length-1]=="function"&&(_=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...r)=>a!==this._queue[0]?void 0:(s!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),_&&_(s)):(this._queue.shift(),_&&_(null,...r)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const _=this._queue[0];_.pending&&!t||(_.pending=!0,_.tryCount++,this.flags=_.flags,this.emit.apply(this,_.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,_){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,_),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case PacketType.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(t);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(t);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const _=t.data||[];t.id!=null&&_.push(this.ack(t.id)),this.connected?this.emitEvent(_):this.receiveBuffer.push(Object.freeze(_))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const _=this._anyListeners.slice();for(const a of _)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const _=this;let a=!1;return function(...s){a||(a=!0,_.packet({type:PacketType.ACK,id:t,data:s}))}}onack(t){const _=this.acks[t.id];typeof _=="function"&&(delete this.acks[t.id],_.withError&&t.data.unshift(null),_.apply(this,t.data))}onconnect(t,_){this.id=t,this.recovered=_&&this._pid===_,this._pid=_,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const _=this._anyListeners;for(let a=0;a<_.length;a++)if(t===_[a])return _.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const _=this._anyOutgoingListeners;for(let a=0;a<_.length;a++)if(t===_[a])return _.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const _=this._anyOutgoingListeners.slice();for(const a of _)a.apply(this,t.data)}}}function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),_=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-_:e+_}return Math.min(e,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(e){this.ms=e};Backoff.prototype.setMax=function(e){this.max=e};Backoff.prototype.setJitter=function(e){this.jitter=e};class Manager extends Emitter{constructor(t,_){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(_=t,t=void 0),_=_||{},_.path=_.path||"/socket.io",this.opts=_,installTimerFunctions(this,_),this.reconnection(_.reconnection!==!1),this.reconnectionAttempts(_.reconnectionAttempts||1/0),this.reconnectionDelay(_.reconnectionDelay||1e3),this.reconnectionDelayMax(_.reconnectionDelayMax||5e3),this.randomizationFactor((a=_.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(_.timeout==null?2e4:_.timeout),this._readyState="closed",this.uri=t;const s=_.parser||parser;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=_.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var _;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(_=this.backoff)===null||_===void 0||_.setMin(t),this)}randomizationFactor(t){var _;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(_=this.backoff)===null||_===void 0||_.setJitter(t),this)}reconnectionDelayMax(t){var _;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(_=this.backoff)===null||_===void 0||_.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const _=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const s=on(_,"open",function(){a.onopen(),t&&t()}),r=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},u=on(_,"error",r);if(this._timeout!==!1){const o=this._timeout,i=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),_.close()},o);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}return this.subs.push(s),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(_){this.onclose("parse error",_)}}ondecoded(t){nextTick(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,_){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new Socket(this,t,_),this.nsps[t]=a),a}_destroy(t){const _=Object.keys(this.nsps);for(const a of _)if(this.nsps[a].active)return;this._close()}_packet(t){const _=this.encoder.encode(t);for(let a=0;a<_.length;a++)this.engine.write(_[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,_){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,_),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const _=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},_);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const cache={};function lookup(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const _=url(e,t.path||"/socket.io"),a=_.source,s=_.id,r=_.path,u=cache[s]&&r in cache[s].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let i;return o?i=new Manager(a,t):(cache[s]||(cache[s]=new Manager(a,t)),i=cache[s]),_.query&&!t.query&&(t.query=_.queryKey),i.socket(_.path,t)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,unicode={Space_Separator,ID_Start,ID_Continue},util={isSpaceSeparator(e){return typeof e=="string"&&unicode.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||unicode.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e===""||e===""||unicode.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}};let source,parseState,stack,pos,line$1,column$1,token$2,key,root;var parse$1=function(t,_){source=String(t),parseState="start",stack=[],pos=0,line$1=1,column$1=0,token$2=void 0,key=void 0,root=void 0;do token$2=lex(),parseStates[parseState]();while(token$2.type!=="eof");return typeof _=="function"?internalize({"":root},"",_):root};function internalize(e,t,_){const a=e[t];if(a!=null&&typeof a=="object")if(Array.isArray(a))for(let s=0;s<a.length;s++){const r=String(s),u=internalize(a,r,_);u===void 0?delete a[r]:Object.defineProperty(a,r,{value:u,writable:!0,enumerable:!0,configurable:!0})}else for(const s in a){const r=internalize(a,s,_);r===void 0?delete a[s]:Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0})}return _.call(e,t,a)}let lexState,buffer,doubleQuote,sign,c;function lex(){for(lexState="default",buffer="",doubleQuote=!1,sign=1;;){c=peek$1();const e=lexStates[lexState]();if(e)return e}}function peek$1(){if(source[pos])return String.fromCodePoint(source.codePointAt(pos))}function read(){const e=peek$1();return e===`
`?(line$1++,column$1=0):e?column$1+=e.length:column$1++,e&&(pos+=e.length),e}const lexStates={default(){switch(c){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":read();return;case"/":read(),lexState="comment";return;case void 0:return read(),newToken("eof")}if(util.isSpaceSeparator(c)){read();return}return lexStates[parseState]()},comment(){switch(c){case"*":read(),lexState="multiLineComment";return;case"/":read(),lexState="singleLineComment";return}throw invalidChar(read())},multiLineComment(){switch(c){case"*":read(),lexState="multiLineCommentAsterisk";return;case void 0:throw invalidChar(read())}read()},multiLineCommentAsterisk(){switch(c){case"*":read();return;case"/":read(),lexState="default";return;case void 0:throw invalidChar(read())}read(),lexState="multiLineComment"},singleLineComment(){switch(c){case`
`:case"\r":case"\u2028":case"\u2029":read(),lexState="default";return;case void 0:return read(),newToken("eof")}read()},value(){switch(c){case"{":case"[":return newToken("punctuator",read());case"n":return read(),literal("ull"),newToken("null",null);case"t":return read(),literal("rue"),newToken("boolean",!0);case"f":return read(),literal("alse"),newToken("boolean",!1);case"-":case"+":read()==="-"&&(sign=-1),lexState="sign";return;case".":buffer=read(),lexState="decimalPointLeading";return;case"0":buffer=read(),lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read(),lexState="decimalInteger";return;case"I":return read(),literal("nfinity"),newToken("numeric",1/0);case"N":return read(),literal("aN"),newToken("numeric",NaN);case'"':case"'":doubleQuote=read()==='"',buffer="",lexState="string";return}throw invalidChar(read())},identifierNameStartEscape(){if(c!=="u")throw invalidChar(read());read();const e=unicodeEscape();switch(e){case"$":case"_":break;default:if(!util.isIdStartChar(e))throw invalidIdentifier();break}buffer+=e,lexState="identifierName"},identifierName(){switch(c){case"$":case"_":case"":case"":buffer+=read();return;case"\\":read(),lexState="identifierNameEscape";return}if(util.isIdContinueChar(c)){buffer+=read();return}return newToken("identifier",buffer)},identifierNameEscape(){if(c!=="u")throw invalidChar(read());read();const e=unicodeEscape();switch(e){case"$":case"_":case"":case"":break;default:if(!util.isIdContinueChar(e))throw invalidIdentifier();break}buffer+=e,lexState="identifierName"},sign(){switch(c){case".":buffer=read(),lexState="decimalPointLeading";return;case"0":buffer=read(),lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read(),lexState="decimalInteger";return;case"I":return read(),literal("nfinity"),newToken("numeric",sign*(1/0));case"N":return read(),literal("aN"),newToken("numeric",NaN)}throw invalidChar(read())},zero(){switch(c){case".":buffer+=read(),lexState="decimalPoint";return;case"e":case"E":buffer+=read(),lexState="decimalExponent";return;case"x":case"X":buffer+=read(),lexState="hexadecimal";return}return newToken("numeric",sign*0)},decimalInteger(){switch(c){case".":buffer+=read(),lexState="decimalPoint";return;case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},decimalPointLeading(){if(util.isDigit(c)){buffer+=read(),lexState="decimalFraction";return}throw invalidChar(read())},decimalPoint(){switch(c){case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util.isDigit(c)){buffer+=read(),lexState="decimalFraction";return}return newToken("numeric",sign*Number(buffer))},decimalFraction(){switch(c){case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},decimalExponent(){switch(c){case"+":case"-":buffer+=read(),lexState="decimalExponentSign";return}if(util.isDigit(c)){buffer+=read(),lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentSign(){if(util.isDigit(c)){buffer+=read(),lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentInteger(){if(util.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},hexadecimal(){if(util.isHexDigit(c)){buffer+=read(),lexState="hexadecimalInteger";return}throw invalidChar(read())},hexadecimalInteger(){if(util.isHexDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},string(){switch(c){case"\\":read(),buffer+=escape();return;case'"':if(doubleQuote)return read(),newToken("string",buffer);buffer+=read();return;case"'":if(!doubleQuote)return read(),newToken("string",buffer);buffer+=read();return;case`
`:case"\r":throw invalidChar(read());case"\u2028":case"\u2029":separatorChar(c);break;case void 0:throw invalidChar(read())}buffer+=read()},start(){switch(c){case"{":case"[":return newToken("punctuator",read())}lexState="value"},beforePropertyName(){switch(c){case"$":case"_":buffer=read(),lexState="identifierName";return;case"\\":read(),lexState="identifierNameStartEscape";return;case"}":return newToken("punctuator",read());case'"':case"'":doubleQuote=read()==='"',lexState="string";return}if(util.isIdStartChar(c)){buffer+=read(),lexState="identifierName";return}throw invalidChar(read())},afterPropertyName(){if(c===":")return newToken("punctuator",read());throw invalidChar(read())},beforePropertyValue(){lexState="value"},afterPropertyValue(){switch(c){case",":case"}":return newToken("punctuator",read())}throw invalidChar(read())},beforeArrayValue(){if(c==="]")return newToken("punctuator",read());lexState="value"},afterArrayValue(){switch(c){case",":case"]":return newToken("punctuator",read())}throw invalidChar(read())},end(){throw invalidChar(read())}};function newToken(e,t){return{type:e,value:t,line:line$1,column:column$1}}function literal(e){for(const t of e){if(peek$1()!==t)throw invalidChar(read());read()}}function escape(){switch(peek$1()){case"b":return read(),"\b";case"f":return read(),"\f";case"n":return read(),`
`;case"r":return read(),"\r";case"t":return read(),"	";case"v":return read(),"\v";case"0":if(read(),util.isDigit(peek$1()))throw invalidChar(read());return"\0";case"x":return read(),hexEscape();case"u":return read(),unicodeEscape();case`
`:case"\u2028":case"\u2029":return read(),"";case"\r":return read(),peek$1()===`
`&&read(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw invalidChar(read());case void 0:throw invalidChar(read())}return read()}function hexEscape(){let e="",t=peek$1();if(!util.isHexDigit(t)||(e+=read(),t=peek$1(),!util.isHexDigit(t)))throw invalidChar(read());return e+=read(),String.fromCodePoint(parseInt(e,16))}function unicodeEscape(){let e="",t=4;for(;t-- >0;){const _=peek$1();if(!util.isHexDigit(_))throw invalidChar(read());e+=read()}return String.fromCodePoint(parseInt(e,16))}const parseStates={start(){if(token$2.type==="eof")throw invalidEOF();push()},beforePropertyName(){switch(token$2.type){case"identifier":case"string":key=token$2.value,parseState="afterPropertyName";return;case"punctuator":pop();return;case"eof":throw invalidEOF()}},afterPropertyName(){if(token$2.type==="eof")throw invalidEOF();parseState="beforePropertyValue"},beforePropertyValue(){if(token$2.type==="eof")throw invalidEOF();push()},beforeArrayValue(){if(token$2.type==="eof")throw invalidEOF();if(token$2.type==="punctuator"&&token$2.value==="]"){pop();return}push()},afterPropertyValue(){if(token$2.type==="eof")throw invalidEOF();switch(token$2.value){case",":parseState="beforePropertyName";return;case"}":pop()}},afterArrayValue(){if(token$2.type==="eof")throw invalidEOF();switch(token$2.value){case",":parseState="beforeArrayValue";return;case"]":pop()}},end(){}};function push(){let e;switch(token$2.type){case"punctuator":switch(token$2.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=token$2.value;break}if(root===void 0)root=e;else{const t=stack[stack.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,key,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")stack.push(e),Array.isArray(e)?parseState="beforeArrayValue":parseState="beforePropertyName";else{const t=stack[stack.length-1];t==null?parseState="end":Array.isArray(t)?parseState="afterArrayValue":parseState="afterPropertyValue"}}function pop(){stack.pop();const e=stack[stack.length-1];e==null?parseState="end":Array.isArray(e)?parseState="afterArrayValue":parseState="afterPropertyValue"}function invalidChar(e){return syntaxError(e===void 0?`JSON5: invalid end of input at ${line$1}:${column$1}`:`JSON5: invalid character '${formatChar(e)}' at ${line$1}:${column$1}`)}function invalidEOF(){return syntaxError(`JSON5: invalid end of input at ${line$1}:${column$1}`)}function invalidIdentifier(){return column$1-=5,syntaxError(`JSON5: invalid identifier character at ${line$1}:${column$1}`)}function separatorChar(e){console.warn(`JSON5: '${formatChar(e)}' in strings is not valid ECMAScript; consider escaping`)}function formatChar(e){const t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){const _=e.charCodeAt(0).toString(16);return"\\x"+("00"+_).substring(_.length)}return e}function syntaxError(e){const t=new SyntaxError(e);return t.lineNumber=line$1,t.columnNumber=column$1,t}var stringify$1=function(t,_,a){const s=[];let r="",u,o,i="",E;if(_!=null&&typeof _=="object"&&!Array.isArray(_)&&(a=_.space,E=_.quote,_=_.replacer),typeof _=="function")o=_;else if(Array.isArray(_)){u=[];for(const n of _){let d;typeof n=="string"?d=n:(typeof n=="number"||n instanceof String||n instanceof Number)&&(d=String(n)),d!==void 0&&u.indexOf(d)<0&&u.push(d)}}return a instanceof Number?a=Number(a):a instanceof String&&(a=String(a)),typeof a=="number"?a>0&&(a=Math.min(10,Math.floor(a)),i="          ".substr(0,a)):typeof a=="string"&&(i=a.substr(0,10)),h("",{"":t});function h(n,d){let l=d[n];switch(l!=null&&(typeof l.toJSON5=="function"?l=l.toJSON5(n):typeof l.toJSON=="function"&&(l=l.toJSON(n))),o&&(l=o.call(d,n,l)),l instanceof Number?l=Number(l):l instanceof String?l=String(l):l instanceof Boolean&&(l=l.valueOf()),l){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof l=="string")return f(l);if(typeof l=="number")return String(l);if(typeof l=="object")return Array.isArray(l)?y(l):x(l)}function f(n){const d={"'":.1,'"':.2},l={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let p="";for(let m=0;m<n.length;m++){const g=n[m];switch(g){case"'":case'"':d[g]++,p+=g;continue;case"\0":if(util.isDigit(n[m+1])){p+="\\x00";continue}}if(l[g]){p+=l[g];continue}if(g<" "){let A=g.charCodeAt(0).toString(16);p+="\\x"+("00"+A).substring(A.length);continue}p+=g}const C=E||Object.keys(d).reduce((m,g)=>d[m]<d[g]?m:g);return p=p.replace(new RegExp(C,"g"),l[C]),C+p+C}function x(n){if(s.indexOf(n)>=0)throw TypeError("Converting circular structure to JSON5");s.push(n);let d=r;r=r+i;let l=u||Object.keys(n),p=[];for(const m of l){const g=h(m,n);if(g!==void 0){let A=D(m)+":";i!==""&&(A+=" "),A+=g,p.push(A)}}let C;if(p.length===0)C="{}";else{let m;if(i==="")m=p.join(","),C="{"+m+"}";else{let g=`,
`+r;m=p.join(g),C=`{
`+r+m+`,
`+d+"}"}}return s.pop(),r=d,C}function D(n){if(n.length===0)return f(n);const d=String.fromCodePoint(n.codePointAt(0));if(!util.isIdStartChar(d))return f(n);for(let l=d.length;l<n.length;l++)if(!util.isIdContinueChar(String.fromCodePoint(n.codePointAt(l))))return f(n);return n}function y(n){if(s.indexOf(n)>=0)throw TypeError("Converting circular structure to JSON5");s.push(n);let d=r;r=r+i;let l=[];for(let C=0;C<n.length;C++){const m=h(String(C),n);l.push(m!==void 0?m:"null")}let p;if(l.length===0)p="[]";else if(i==="")p="["+l.join(",")+"]";else{let C=`,
`+r,m=l.join(C);p=`[
`+r+m+`,
`+d+"]"}return s.pop(),r=d,p}};const JSON5={parse:parse$1,stringify:stringify$1};var lib=JSON5;const EVENT="wss://full-stack-python-production.up.railway.app/_event",UPLOAD="https://full-stack-python-production.up.railway.app/_upload",env={EVENT,UPLOAD},version="0.8.1",reflexEnvironment={version};var cookie={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var hasRequiredCookie;function requireCookie(){if(hasRequiredCookie)return cookie;hasRequiredCookie=1,cookie.parse=u,cookie.serialize=E;var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,_=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,a=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(D,y){if(typeof D!="string")throw new TypeError("argument str must be a string");var n={},d=D.length;if(d<2)return n;var l=y&&y.decode||h,p=0,C=0,m=0;do{if(C=D.indexOf("=",p),C===-1)break;if(m=D.indexOf(";",p),m===-1)m=d;else if(C>m){p=D.lastIndexOf(";",C-1)+1;continue}var g=o(D,p,C),A=i(D,C,g),F=D.slice(g,A);if(!t.call(n,F)){var v=o(D,C+1,m),k=i(D,m,v);D.charCodeAt(v)===34&&D.charCodeAt(k-1)===34&&(v++,k--);var b=D.slice(v,k);n[F]=x(b,l)}p=m+1}while(p<d);return n}function o(D,y,n){do{var d=D.charCodeAt(y);if(d!==32&&d!==9)return y}while(++y<n);return n}function i(D,y,n){for(;y>n;){var d=D.charCodeAt(--y);if(d!==32&&d!==9)return y+1}return n}function E(D,y,n){var d=n&&n.encode||encodeURIComponent;if(typeof d!="function")throw new TypeError("option encode is invalid");if(!_.test(D))throw new TypeError("argument name is invalid");var l=d(y);if(!a.test(l))throw new TypeError("argument val is invalid");var p=D+"="+l;if(!n)return p;if(n.maxAge!=null){var C=Math.floor(n.maxAge);if(!isFinite(C))throw new TypeError("option maxAge is invalid");p+="; Max-Age="+C}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");p+="; Domain="+n.domain}if(n.path){if(!r.test(n.path))throw new TypeError("option path is invalid");p+="; Path="+n.path}if(n.expires){var m=n.expires;if(!f(m)||isNaN(m.valueOf()))throw new TypeError("option expires is invalid");p+="; Expires="+m.toUTCString()}if(n.httpOnly&&(p+="; HttpOnly"),n.secure&&(p+="; Secure"),n.partitioned&&(p+="; Partitioned"),n.priority){var g=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(g){case"low":p+="; Priority=Low";break;case"medium":p+="; Priority=Medium";break;case"high":p+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var A=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(A){case!0:p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"strict":p+="; SameSite=Strict";break;case"none":p+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return p}function h(D){return D.indexOf("%")!==-1?decodeURIComponent(D):D}function f(D){return e.call(D)==="[object Date]"}function x(D,y){try{return y(D)}catch{return D}}return cookie}var cookieExports=requireCookie();function hasDocumentCookie(){const e=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof e=="boolean"?e:typeof document=="object"&&typeof document.cookie=="string"}function parseCookies(e){return typeof e=="string"?cookieExports.parse(e):typeof e=="object"&&e!==null?e:{}}function readCookie(e,t={}){const _=cleanupCookieValue(e);if(!t.doNotParse)try{return JSON.parse(_)}catch{}return e}function cleanupCookieValue(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}class Cookies{constructor(t,_={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const s=this.cookies;this.cookies=cookieExports.parse(document.cookie),this._checkChanges(s)};const a=typeof document>"u"?"":document.cookie;this.cookies=parseCookies(t||a),this.defaultSetOptions=_,this.HAS_DOCUMENT_COOKIE=hasDocumentCookie()}_emitChange(t){for(let _=0;_<this.changeListeners.length;++_)this.changeListeners[_](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(a=>{t[a]!==this.cookies[a]&&this._emitChange({name:a,value:readCookie(this.cookies[a])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,_={}){return _.doNotUpdate||this.update(),readCookie(this.cookies[t],_)}getAll(t={}){t.doNotUpdate||this.update();const _={};for(let a in this.cookies)_[a]=readCookie(this.cookies[a],t);return _}set(t,_,a){a?a=Object.assign(Object.assign({},this.defaultSetOptions),a):a=this.defaultSetOptions;const s=typeof _=="string"?_:JSON.stringify(_);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:s}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=cookieExports.serialize(t,s,a)),this._emitChange({name:t,value:_,options:a})}remove(t,_){const a=_=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),_),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=cookieExports.serialize(t,"",a)),this._emitChange({name:t,value:void 0,options:_})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const _=this.changeListeners.indexOf(t);_>=0&&this.changeListeners.splice(_,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}function sheetForTag(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function createStyleElement(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var StyleSheet=function(){function e(_){var a=this;this._insertTag=function(s){var r;a.tags.length===0?a.insertionPoint?r=a.insertionPoint.nextSibling:a.prepend?r=a.container.firstChild:r=a.before:r=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(s,r),a.tags.push(s)},this.isSpeedy=_.speedy===void 0?!0:_.speedy,this.tags=[],this.ctr=0,this.nonce=_.nonce,this.key=_.key,this.container=_.container,this.prepend=_.prepend,this.insertionPoint=_.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(a){a.forEach(this._insertTag)},t.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=sheetForTag(s);try{r.insertRule(a,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(a));this.ctr++},t.flush=function(){this.tags.forEach(function(a){var s;return(s=a.parentNode)==null?void 0:s.removeChild(a)}),this.tags=[],this.ctr=0},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,t){return charat(e,0)^45?(((t<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,t){return(e=t.exec(e))?e[0]:e}function replace(e,t,_){return e.replace(t,_)}function indexof(e,t){return e.indexOf(t)}function charat(e,t){return e.charCodeAt(t)|0}function substr(e,t,_){return e.slice(t,_)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,t){return t.push(e),e}function combine(e,t){return e.map(t).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,t,_,a,s,r,u){return{value:e,root:t,parent:_,type:a,props:s,children:r,line,column,length:u,return:""}}function copy(e,t){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},t)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,t){return substr(characters,e,t)}function token$1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token$1(e)>2||token$1(character)>3?"":" "}function escaping(e,t){for(;--t&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(t<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,t){for(;next()&&e+character!==57;)if(e+character===84&&peek()===47)break;return"/*"+slice(t,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token$1(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,t,_,a,s,r,u,o,i){for(var E=0,h=0,f=u,x=0,D=0,y=0,n=1,d=1,l=1,p=0,C="",m=s,g=r,A=a,F=C;d;)switch(y=p,p=next()){case 40:if(y!=108&&charat(F,f-1)==58){indexof(F+=replace(delimit(p),"&","&\f"),"&\f")!=-1&&(l=-1);break}case 34:case 39:case 91:F+=delimit(p);break;case 9:case 10:case 13:case 32:F+=whitespace(y);break;case 92:F+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),t,_),i);break;default:F+="/"}break;case 123*n:o[E++]=strlen(F)*l;case 125*n:case 59:case 0:switch(p){case 0:case 125:d=0;case 59+h:l==-1&&(F=replace(F,/\f/g,"")),D>0&&strlen(F)-f&&append(D>32?declaration(F+";",a,_,f-1):declaration(replace(F," ","")+";",a,_,f-2),i);break;case 59:F+=";";default:if(append(A=ruleset(F,t,_,E,h,s,o,C,m=[],g=[],f),r),p===123)if(h===0)parse(F,t,A,A,m,r,f,o,g);else switch(x===99&&charat(F,3)===110?100:x){case 100:case 108:case 109:case 115:parse(e,A,A,a&&append(ruleset(e,A,A,0,0,s,o,C,s,m=[],f),g),s,g,f,o,a?m:g);break;default:parse(F,A,A,A,[""],g,0,o,g)}}E=h=D=0,n=l=1,C=F="",f=u;break;case 58:f=1+strlen(F),D=y;default:if(n<1){if(p==123)--n;else if(p==125&&n++==0&&prev()==125)continue}switch(F+=from(p),p*n){case 38:l=h>0?1:(F+="\f",-1);break;case 44:o[E++]=(strlen(F)-1)*l,l=1;break;case 64:peek()===45&&(F+=delimit(next())),x=peek(),h=f=strlen(C=F+=identifier(caret())),p++;break;case 45:y===45&&strlen(F)==2&&(n=0)}}return r}function ruleset(e,t,_,a,s,r,u,o,i,E,h){for(var f=s-1,x=s===0?r:[""],D=sizeof(x),y=0,n=0,d=0;y<a;++y)for(var l=0,p=substr(e,f+1,f=abs(n=u[y])),C=e;l<D;++l)(C=trim(n>0?x[l]+" "+p:replace(p,/&\f/g,x[l])))&&(i[d++]=C);return node(e,t,_,s===0?RULESET:o,i,E,h)}function comment(e,t,_){return node(e,t,_,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,t,_,a){return node(e,t,_,DECLARATION,substr(e,0,a),substr(e,a+1,-1),a)}function serialize(e,t){for(var _="",a=sizeof(e),s=0;s<a;s++)_+=t(e[s],s,e,t)||"";return _}function stringify(e,t,_,a){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,a)+"}";case RULESET:e.value=e.props.join(",")}return strlen(_=serialize(e.children,a))?e.return=e.value+"{"+_+"}":""}function middleware(e){var t=sizeof(e);return function(_,a,s,r){for(var u="",o=0;o<t;o++)u+=e[o](_,a,s,r)||"";return u}}function rulesheet(e){return function(t){t.root||(t=t.return)&&e(t)}}var weakMemoize=function(t){var _=new WeakMap;return function(a){if(_.has(a))return _.get(a);var s=t(a);return _.set(a,s),s}};function memoize(e){var t=Object.create(null);return function(_){return t[_]===void 0&&(t[_]=e(_)),t[_]}}var identifierWithPointTracking=function(t,_,a){for(var s=0,r=0;s=r,r=peek(),s===38&&r===12&&(_[a]=1),!token$1(r);)next();return slice(t,position)},toRules=function(t,_){var a=-1,s=44;do switch(token$1(s)){case 0:s===38&&peek()===12&&(_[a]=1),t[a]+=identifierWithPointTracking(position-1,_,a);break;case 2:t[a]+=delimit(s);break;case 4:if(s===44){t[++a]=peek()===58?"&\f":"",_[a]=t[a].length;break}default:t[a]+=from(s)}while(s=next());return t},getRules=function(t,_){return dealloc(toRules(alloc(t),_))},fixedElements=new WeakMap,compat=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var _=t.value,a=t.parent,s=t.column===a.column&&t.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(t.props.length===1&&_.charCodeAt(0)!==58&&!fixedElements.get(a))&&!s){fixedElements.set(t,!0);for(var r=[],u=getRules(_,r),o=a.props,i=0,E=0;i<u.length;i++)for(var h=0;h<o.length;h++,E++)t.props[E]=r[i]?u[i].replace(/&\f/g,o[h]):o[h]+" "+u[i]}}},removeLabel=function(t){if(t.type==="decl"){var _=t.value;_.charCodeAt(0)===108&&_.charCodeAt(2)===98&&(t.return="",t.value="")}};function prefix(e,t){switch(hash(e,t)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-t>6)switch(charat(e,t+1)){case 109:if(charat(e,t+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(charat(e,t+1)!==115)break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,t+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(t,_,a,s){if(t.length>-1&&!t.return)switch(t.type){case DECLARATION:t.return=prefix(t.value,t.length);break;case KEYFRAMES:return serialize([copy(t,{value:replace(t.value,"@","@"+WEBKIT)})],s);case RULESET:if(t.length)return combine(t.props,function(r){switch(match(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(t,{props:[replace(r,/:(read-\w+)/,":"+MOZ+"$1")]})],s);case"::placeholder":return serialize([copy(t,{props:[replace(r,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(t,{props:[replace(r,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(t,{props:[replace(r,/:(plac\w+)/,MS+"input-$1")]})],s)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(t){var _=t.key;if(_==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(n){var d=n.getAttribute("data-emotion");d.indexOf(" ")!==-1&&(document.head.appendChild(n),n.setAttribute("data-s",""))})}var s=t.stylisPlugins||defaultStylisPlugins,r={},u,o=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+_+' "]'),function(n){for(var d=n.getAttribute("data-emotion").split(" "),l=1;l<d.length;l++)r[d[l]]=!0;o.push(n)});var i,E=[compat,removeLabel];{var h,f=[stringify,rulesheet(function(n){h.insert(n)})],x=middleware(E.concat(s,f)),D=function(d){return serialize(compile(d),x)};i=function(d,l,p,C){h=p,D(d?d+"{"+l.styles+"}":l.styles),C&&(y.inserted[l.name]=!0)}}var y={key:_,sheet:new StyleSheet({key:_,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:r,registered:{},insert:i};return y.sheet.hydrate(o),y};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var _=arguments[t];for(var a in _)({}).hasOwnProperty.call(_,a)&&(e[a]=_[a])}return e},_extends.apply(null,arguments)}var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),D=Symbol.for("react.client.reference");function y(n){if(typeof n=="object"&&n!==null){var d=n.$$typeof;switch(d){case e:switch(n=n.type,n){case _:case s:case a:case i:case E:case x:return n;default:switch(n=n&&n.$$typeof,n){case u:case o:case f:case h:return n;case r:return n;default:return d}}case t:return d}}}return reactIs_production.ContextConsumer=r,reactIs_production.ContextProvider=u,reactIs_production.Element=e,reactIs_production.ForwardRef=o,reactIs_production.Fragment=_,reactIs_production.Lazy=f,reactIs_production.Memo=h,reactIs_production.Portal=t,reactIs_production.Profiler=s,reactIs_production.StrictMode=a,reactIs_production.Suspense=i,reactIs_production.SuspenseList=E,reactIs_production.isContextConsumer=function(n){return y(n)===r},reactIs_production.isContextProvider=function(n){return y(n)===u},reactIs_production.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===e},reactIs_production.isForwardRef=function(n){return y(n)===o},reactIs_production.isFragment=function(n){return y(n)===_},reactIs_production.isLazy=function(n){return y(n)===f},reactIs_production.isMemo=function(n){return y(n)===h},reactIs_production.isPortal=function(n){return y(n)===t},reactIs_production.isProfiler=function(n){return y(n)===s},reactIs_production.isStrictMode=function(n){return y(n)===a},reactIs_production.isSuspense=function(n){return y(n)===i},reactIs_production.isSuspenseList=function(n){return y(n)===E},reactIs_production.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===_||n===s||n===a||n===i||n===E||typeof n=="object"&&n!==null&&(n.$$typeof===f||n.$$typeof===h||n.$$typeof===u||n.$$typeof===r||n.$$typeof===o||n.$$typeof===D||n.getModuleId!==void 0)},reactIs_production.typeOf=y,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var e=requireReactIs(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[e.ForwardRef]=a,r[e.Memo]=s;function u(y){return e.isMemo(y)?s:r[y.$$typeof]||t}var o=Object.defineProperty,i=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,x=Object.prototype;function D(y,n,d){if(typeof n!="string"){if(x){var l=f(n);l&&l!==x&&D(y,l,d)}var p=i(n);E&&(p=p.concat(E(n)));for(var C=u(y),m=u(n),g=0;g<p.length;++g){var A=p[g];if(!_[A]&&!(d&&d[A])&&!(m&&m[A])&&!(C&&C[A])){var F=h(n,A);try{o(y,A,F)}catch{}}}}return y}return hoistNonReactStatics_cjs=D,hoistNonReactStatics_cjs}var hoistNonReactStatics_cjsExports=requireHoistNonReactStatics_cjs();const hoistNonReactStatics$1=getDefaultExportFromCjs(hoistNonReactStatics_cjsExports);var hoistNonReactStatics=function(e,t){return hoistNonReactStatics$1(e,t)},isBrowser=!0;function getRegisteredStyles(e,t,_){var a="";return _.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(a+=s+" ")}),a}var registerStyles=function(t,_,a){var s=t.key+"-"+_.name;(a===!1||isBrowser===!1)&&t.registered[s]===void 0&&(t.registered[s]=_.styles)},insertStyles=function(t,_,a){registerStyles(t,_,a);var s=t.key+"-"+_.name;if(t.inserted[_.name]===void 0){var r=_;do t.insert(_===r?"."+s:"",r,t.sheet,!0),r=r.next;while(r!==void 0)}};function murmur2(e){for(var t=0,_,a=0,s=e.length;s>=4;++a,s-=4)_=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,_=(_&65535)*1540483477+((_>>>16)*59797<<16),_^=_>>>24,t=(_&65535)*1540483477+((_>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(t){return t.charCodeAt(1)===45},isProcessableValue=function(t){return t!=null&&typeof t!="boolean"},processStyleName=memoize(function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(t,_){switch(t){case"animation":case"animationName":if(typeof _=="string")return _.replace(animationRegex,function(a,s,r){return cursor={name:s,styles:r,next:cursor},s})}return unitlessKeys[t]!==1&&!isCustomProperty(t)&&typeof _=="number"&&_!==0?_+"px":_};function handleInterpolation(e,t,_){if(_==null)return"";var a=_;if(a.__emotion_styles!==void 0)return a;switch(typeof _){case"boolean":return"";case"object":{var s=_;if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;var r=_;if(r.styles!==void 0){var u=r.next;if(u!==void 0)for(;u!==void 0;)cursor={name:u.name,styles:u.styles,next:cursor},u=u.next;var o=r.styles+";";return o}return createStringFromObject(e,t,_)}case"function":{if(e!==void 0){var i=cursor,E=_(e);return cursor=i,handleInterpolation(e,t,E)}break}}var h=_;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function createStringFromObject(e,t,_){var a="";if(Array.isArray(_))for(var s=0;s<_.length;s++)a+=handleInterpolation(e,t,_[s])+";";else for(var r in _){var u=_[r];if(typeof u!="object"){var o=u;t!=null&&t[o]!==void 0?a+=r+"{"+t[o]+"}":isProcessableValue(o)&&(a+=processStyleName(r)+":"+processStyleValue(r,o)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var i=0;i<u.length;i++)isProcessableValue(u[i])&&(a+=processStyleName(r)+":"+processStyleValue(r,u[i])+";");else{var E=handleInterpolation(e,t,u);switch(r){case"animation":case"animationName":{a+=processStyleName(r)+":"+E+";";break}default:a+=r+"{"+E+"}"}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(e,t,_){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,s="";cursor=void 0;var r=e[0];if(r==null||r.raw===void 0)a=!1,s+=handleInterpolation(_,t,r);else{var u=r;s+=u[0]}for(var o=1;o<e.length;o++)if(s+=handleInterpolation(_,t,e[o]),a){var i=r;s+=i[o]}labelPattern.lastIndex=0;for(var E="",h;(h=labelPattern.exec(s))!==null;)E+="-"+h[1];var f=murmur2(s)+E;return{name:f,styles:s,next:cursor}}var syncFallback=function(t){return t()},useInsertionEffect=React.useInsertionEffect?React.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,__unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(t){return reactExports.forwardRef(function(_,a){var s=reactExports.useContext(EmotionCacheContext);return t(_,s,a)})},ThemeContext=reactExports.createContext({}),useTheme=function(){return reactExports.useContext(ThemeContext)},getTheme=function(t,_){if(typeof _=="function"){var a=_(t);return a}return _extends({},t,_)},createCacheWithTheme=weakMemoize(function(e){return weakMemoize(function(t){return getTheme(e,t)})}),ThemeProvider=function(t){var _=reactExports.useContext(ThemeContext);return t.theme!==_&&(_=createCacheWithTheme(_)(t.theme)),reactExports.createElement(ThemeContext.Provider,{value:_},t.children)};function withTheme(e){var t=e.displayName||e.name||"Component",_=reactExports.forwardRef(function(s,r){var u=reactExports.useContext(ThemeContext);return reactExports.createElement(e,_extends({theme:u,ref:r},s))});return _.displayName="WithTheme("+t+")",hoistNonReactStatics(_,e)}var hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(t,_){var a={};for(var s in _)hasOwn.call(_,s)&&(a[s]=_[s]);return a[typePropName]=t,a},Insertion$1=function(t){var _=t.cache,a=t.serialized,s=t.isStringTag;return registerStyles(_,a,s),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(_,a,s)}),null},Emotion=withEmotionCache(function(e,t,_){var a=e.css;typeof a=="string"&&t.registered[a]!==void 0&&(a=t.registered[a]);var s=e[typePropName],r=[a],u="";typeof e.className=="string"?u=getRegisteredStyles(t.registered,r,e.className):e.className!=null&&(u=e.className+" ");var o=serializeStyles(r,void 0,reactExports.useContext(ThemeContext));u+=t.key+"-"+o.name;var i={};for(var E in e)hasOwn.call(e,E)&&E!=="css"&&E!==typePropName&&(i[E]=e[E]);return i.className=u,_&&(i.ref=_),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:t,serialized:o,isStringTag:typeof s=="string"}),reactExports.createElement(s,i))}),Emotion$1=Emotion,jsx=function(t,_){var a=arguments;if(_==null||!hasOwn.call(_,"css"))return reactExports.createElement.apply(void 0,a);var s=a.length,r=new Array(s);r[0]=Emotion$1,r[1]=createEmotionProps(t,_);for(var u=2;u<s;u++)r[u]=a[u];return reactExports.createElement.apply(null,r)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(e,t){var _=e.styles,a=serializeStyles([_],void 0,reactExports.useContext(ThemeContext)),s=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var r=t.key+"-global",u=new t.sheet.constructor({key:r,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,i=document.querySelector('style[data-emotion="'+r+" "+a.name+'"]');return t.sheet.tags.length&&(u.before=t.sheet.tags[0]),i!==null&&(o=!0,i.setAttribute("data-emotion",r),u.hydrate([i])),s.current=[u,o],function(){u.flush()}},[t]),useInsertionEffectWithLayoutFallback(function(){var r=s.current,u=r[0],o=r[1];if(o){r[1]=!1;return}if(a.next!==void 0&&insertStyles(t,a.next,!0),u.tags.length){var i=u.tags[u.tags.length-1].nextElementSibling;u.before=i,u.flush()}t.insert("",a,u,!1)},[t,a.name]),null});function css(){for(var e=arguments.length,t=new Array(e),_=0;_<e;_++)t[_]=arguments[_];return serializeStyles(t)}function keyframes(){var e=css.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var classnames=function e(t){for(var _=t.length,a=0,s="";a<_;a++){var r=t[a];if(r!=null){var u=void 0;switch(typeof r){case"boolean":break;case"object":{if(Array.isArray(r))u=e(r);else{u="";for(var o in r)r[o]&&o&&(u&&(u+=" "),u+=o)}break}default:u=r}u&&(s&&(s+=" "),s+=u)}}return s};function merge(e,t,_){var a=[],s=getRegisteredStyles(e,a,_);return a.length<2?_:s+t(a)}var Insertion=function(t){var _=t.cache,a=t.serializedArr;return useInsertionEffectAlwaysWithSyncFallback(function(){for(var s=0;s<a.length;s++)insertStyles(_,a[s],!1)}),null},ClassNames=withEmotionCache(function(e,t){var _=[],a=function(){for(var i=arguments.length,E=new Array(i),h=0;h<i;h++)E[h]=arguments[h];var f=serializeStyles(E,t.registered);return _.push(f),registerStyles(t,f,!1),t.key+"-"+f.name},s=function(){for(var i=arguments.length,E=new Array(i),h=0;h<i;h++)E[h]=arguments[h];return merge(t.registered,a,classnames(E))},r={css:a,cx:s,theme:reactExports.useContext(ThemeContext)},u=e.children(r);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:t,serializedArr:_}),u)});const emotion_react=Object.freeze(Object.defineProperty({__proto__:null,CacheProvider,ClassNames,Global,ThemeContext,ThemeProvider,__unsafe_useEmotionCache,get createElement(){return jsx},css,get jsx(){return jsx},keyframes,useTheme,withEmotionCache,withTheme},Symbol.toStringTag,{value:"Module"})),initialState={reflex___state____state:{article_id_rx_state_:"",blog_id_rx_state_:"",blog_public_id_rx_state_:"",is_hydrated_rx_state_:!1,router_rx_state_:{session:{client_token:"",client_ip:"",session_id:""},headers:{host:"",origin:"",upgrade:"",connection:"",cookie:"",pragma:"",cache_control:"",user_agent:"",sec_websocket_version:"",sec_websocket_key:"",sec_websocket_extensions:"",accept_encoding:"",accept_language:"",raw_headers:{}},page:{host:"",path:"",raw_path:"",full_path:"",full_raw_path:"",params:{}},url:"",route_id:""}},"reflex___state____state.full_stack_python___auth___forgot_password_state____forgot_password_state":{email_rx_state_:"",is_success_rx_state_:!1,message_rx_state_:""},"reflex___state____state.full_stack_python___navigation___device____nav_device_state":{is_desktop_rx_state_:!1,is_mobile_rx_state_:!1},"reflex___state____state.full_stack_python___navigation___state____nav_state":{},"reflex___state____state.full_stack_python___ui___nav____search_state":{search_term_rx_state_:""},"reflex___state____state.full_stack_python___ui___search_state____search_state":{search_term_rx_state_:""},"reflex___state____state.reflex___state____frontend_event_exception_state":{},"reflex___state____state.reflex___state____on_load_internal_state":{},"reflex___state____state.reflex___state____update_vars_internal_state":{},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state":{auth_token_rx_state_:"",authenticated_user_rx_state_:{id:-1,username:null,enabled:!1},is_authenticated_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state":{authenticated_user_info_rx_state_:null,authenticated_username_rx_state_:null,is_admin_rx_state_:!1,is_customer_rx_state_:!1,my_user_id_rx_state_:null,my_userinfo_id_rx_state_:null},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____admin_confirm_state":{has_pending_purchases_rx_state_:!1,new_purchase_notification_rx_state_:!1,pending_purchases_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____payment_history_state":{confirmed_purchases_rx_state_:[],has_confirmed_purchases_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_detail_state":{formatted_price_rx_state_:"$0.00",imagen_actual_rx_state_:"",img_idx_rx_state_:0,post_rx_state_:null,post_id_from_route_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_public_state":{limit_rx_state_:20,post_rx_state_:null,post_id_rx_state_:"",post_url_rx_state_:"/articles",posts_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___auth___reset_password_state____reset_password_state":{confirm_password_rx_state_:"",is_token_valid_rx_state_:!1,message_rx_state_:"",password_rx_state_:"",token_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___auth___verify_state____verify_state":{is_verified_rx_state_:!1,message_rx_state_:"Verificando tu cuenta..."},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_add_form_state":{content_rx_state_:"",price_rx_state_:"",temp_images_rx_state_:[],title_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state":{blog_post_edit_url_rx_state_:"/blog",blog_post_id_rx_state_:"",formatted_price_rx_state_:"$0.00",imagen_actual_rx_state_:"",img_idx_rx_state_:0,post_rx_state_:null,posts_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state.full_stack_python___blog___state____blog_edit_form_state":{post_content_rx_state_:"",post_publish_active_rx_state_:!1,price_str_rx_state_:"0.0",publish_display_date_rx_state_:"2025-07-19",publish_display_time_rx_state_:"05:18:42"},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_public_state":{posts_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_view_state":{content_rx_state_:"",formatted_price_rx_state_:"$0.00",has_post_rx_state_:!1,imagen_actual_rx_state_:"",img_idx_rx_state_:0,post_rx_state_:null,post_id_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___cart___state____cart_state":{cart_rx_state_:{},cart_details_rx_state_:[],cart_items_count_rx_state_:0,cart_total_rx_state_:0,posts_rx_state_:[],purchase_successful_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___contact___state____contact_state":{did_submit_rx_state_:!1,entries_rx_state_:[],form_data_rx_state_:{},thank_you_message_rx_state_:"Gracias por tu mensaje!"},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___notifications___state____notification_state":{notifications_rx_state_:[],unread_count_rx_state_:0},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___purchases___state____purchase_history_state":{purchases_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___login____login_state":{error_message_rx_state_:"",redirect_to_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state":{error_message_rx_state_:"",new_user_id_rx_state_:-1,success_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state.full_stack_python___auth___state____my_register_state":{}},defaultColorMode="dark",ColorModeContext=reactExports.createContext(null),UploadFilesContext=reactExports.createContext(null),DispatchContext=reactExports.createContext(null),StateContexts={reflex___state____state:reactExports.createContext(null),reflex___state____state__full_stack_python___auth___forgot_password_state____forgot_password_state:reactExports.createContext(null),reflex___state____state__full_stack_python___navigation___device____nav_device_state:reactExports.createContext(null),reflex___state____state__full_stack_python___navigation___state____nav_state:reactExports.createContext(null),reflex___state____state__full_stack_python___ui___nav____search_state:reactExports.createContext(null),reflex___state____state__full_stack_python___ui___search_state____search_state:reactExports.createContext(null),reflex___state____state__reflex___state____frontend_event_exception_state:reactExports.createContext(null),reflex___state____state__reflex___state____on_load_internal_state:reactExports.createContext(null),reflex___state____state__reflex___state____update_vars_internal_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___admin___state____admin_confirm_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___admin___state____payment_history_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_detail_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_public_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___auth___reset_password_state____reset_password_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___auth___verify_state____verify_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_add_form_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state__full_stack_python___blog___state____blog_edit_form_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_public_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_view_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___cart___state____cart_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___contact___state____contact_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___notifications___state____notification_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___purchases___state____purchase_history_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___login____login_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state__full_stack_python___auth___state____my_register_state:reactExports.createContext(null)},EventLoopContext=reactExports.createContext(null),clientStorage={cookies:{},local_storage:{"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.auth_token_rx_state_":{name:"_auth_token",sync:!1}},session_storage:{}},state_name="reflex___state____state",exception_state_name="reflex___state____state.reflex___state____frontend_event_exception_state",onLoadInternalEvent=()=>{const e=[],t=hydrateClientStorage(clientStorage);return t&&Object.keys(t).length!==0&&e.push(Event("reflex___state____state.reflex___state____update_vars_internal_state.update_vars_internal",{vars:t})),e.push(Event("reflex___state____state.reflex___state____on_load_internal_state.on_load_internal")),e},initialEvents=()=>[Event("reflex___state____state.hydrate"),...onLoadInternalEvent()],isDevMode=!1;function UploadFilesProvider({children:e}){const[t,_]=reactExports.useState({});return refs.__clear_selected_files=a=>_(s=>{const r={...s};return delete r[a],r}),reactExports.createElement(UploadFilesContext.Provider,{value:[t,_]},e)}function ClientSide(e){return({children:t,..._})=>{const[a,s]=reactExports.useState(null);return reactExports.useEffect(()=>{s(e)},[]),a?jsx(a,_,t):null}}function EventLoopProvider({children:e}){const t=reactExports.useContext(DispatchContext),[_,a]=useEventLoop(t,initialEvents,clientStorage);return reactExports.createElement(EventLoopContext.Provider,{value:[_,a]},e)}function StateProvider({children:e}){const[t,_]=reactExports.useReducer(applyDelta,initialState.reflex___state____state),[a,s]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___auth___forgot_password_state____forgot_password_state"]),[r,u]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___navigation___device____nav_device_state"]),[o,i]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___navigation___state____nav_state"]),[E,h]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___ui___nav____search_state"]),[f,x]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___ui___search_state____search_state"]),[D,y]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex___state____frontend_event_exception_state"]),[n,d]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex___state____on_load_internal_state"]),[l,p]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex___state____update_vars_internal_state"]),[C,m]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state"]),[g,A]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state"]),[F,v]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____admin_confirm_state"]),[k,b]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____payment_history_state"]),[w,S]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_detail_state"]),[B,T]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_public_state"]),[R,O]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___auth___reset_password_state____reset_password_state"]),[P,N]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___auth___verify_state____verify_state"]),[I,L]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_add_form_state"]),[$,q]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state"]),[M,U]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state.full_stack_python___blog___state____blog_edit_form_state"]),[V,K]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_public_state"]),[W,j]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_view_state"]),[z,H]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___cart___state____cart_state"]),[Y,J]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___contact___state____contact_state"]),[X,Q]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___notifications___state____notification_state"]),[G,Z]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___purchases___state____purchase_history_state"]),[tt,et]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___login____login_state"]),[_t,at]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state"]),[st,rt]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state.full_stack_python___auth___state____my_register_state"]),nt=reactExports.useMemo(()=>({reflex___state____state:_,"reflex___state____state.full_stack_python___auth___forgot_password_state____forgot_password_state":s,"reflex___state____state.full_stack_python___navigation___device____nav_device_state":u,"reflex___state____state.full_stack_python___navigation___state____nav_state":i,"reflex___state____state.full_stack_python___ui___nav____search_state":h,"reflex___state____state.full_stack_python___ui___search_state____search_state":x,"reflex___state____state.reflex___state____frontend_event_exception_state":y,"reflex___state____state.reflex___state____on_load_internal_state":d,"reflex___state____state.reflex___state____update_vars_internal_state":p,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state":m,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state":A,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____admin_confirm_state":v,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____payment_history_state":b,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_detail_state":S,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_public_state":T,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___auth___reset_password_state____reset_password_state":O,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___auth___verify_state____verify_state":N,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_add_form_state":L,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state":q,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state.full_stack_python___blog___state____blog_edit_form_state":U,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_public_state":K,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_view_state":j,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___cart___state____cart_state":H,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___contact___state____contact_state":J,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___notifications___state____notification_state":Q,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___purchases___state____purchase_history_state":Z,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___login____login_state":et,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state":at,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state.full_stack_python___auth___state____my_register_state":rt}),[]);return reactExports.createElement(StateContexts.reflex___state____state,{value:t},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___auth___forgot_password_state____forgot_password_state,{value:a},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___navigation___device____nav_device_state,{value:r},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___navigation___state____nav_state,{value:o},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___ui___nav____search_state,{value:E},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___ui___search_state____search_state,{value:f},reactExports.createElement(StateContexts.reflex___state____state__reflex___state____frontend_event_exception_state,{value:D},reactExports.createElement(StateContexts.reflex___state____state__reflex___state____on_load_internal_state,{value:n},reactExports.createElement(StateContexts.reflex___state____state__reflex___state____update_vars_internal_state,{value:l},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state,{value:C},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state,{value:g},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___admin___state____admin_confirm_state,{value:F},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___admin___state____payment_history_state,{value:k},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_detail_state,{value:w},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_public_state,{value:B},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___auth___reset_password_state____reset_password_state,{value:R},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___auth___verify_state____verify_state,{value:P},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_add_form_state,{value:I},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state,{value:$},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state__full_stack_python___blog___state____blog_edit_form_state,{value:M},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_public_state,{value:V},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_view_state,{value:W},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___cart___state____cart_state,{value:z},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___contact___state____contact_state,{value:Y},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___notifications___state____notification_state,{value:X},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___purchases___state____purchase_history_state,{value:G},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___login____login_state,{value:tt},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state,{value:_t},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state__full_stack_python___auth___state____my_register_state,{value:st},reactExports.createElement(DispatchContext,{value:nt},e))))))))))))))))))))))))))))))}const utils_context=Object.freeze(Object.defineProperty({__proto__:null,ClientSide,ColorModeContext,DispatchContext,EventLoopContext,EventLoopProvider,StateContexts,StateProvider,UploadFilesContext,UploadFilesProvider,clientStorage,defaultColorMode,exception_state_name,initialEvents,initialState,isDevMode,onLoadInternalEvent,state_name},Symbol.toStringTag,{value:"Module"})),debounce_timeout_id={};function debounce(e,t,_){const a=`${e}__${_}`;clearTimeout(debounce_timeout_id[a]),debounce_timeout_id[a]=setTimeout(()=>{t(),delete debounce_timeout_id[a]},_)}const in_throttle={};function throttle(e,t){const _=`${e}__${t}`;return in_throttle[_]?!1:(in_throttle[_]=!0,setTimeout(()=>{delete in_throttle[_]},t),!0)}const EVENTURL=env.EVENT,UPLOADURL=env.UPLOAD,SAME_DOMAIN_HOSTNAMES=["localhost","0.0.0.0","::","0:0:0:0:0:0:0:0"];let token;const TOKEN_KEY="token",cookies=new Cookies,refs={};let event_processing=!1;const event_queue=[],generateUUID=()=>{let e=new Date().getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,_=>{let a=Math.random()*16;return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(t+a)%16|0,t=Math.floor(t/16)),(_=="x"?a:a&7|8).toString(16)})},getToken=()=>token||(typeof window<"u"&&(window.sessionStorage.getItem(TOKEN_KEY)||window.sessionStorage.setItem(TOKEN_KEY,generateUUID()),token=window.sessionStorage.getItem(TOKEN_KEY)),token),getBackendURL=e=>{const t=new URL(e);if(typeof window<"u"&&SAME_DOMAIN_HOSTNAMES.includes(t.hostname)){const _=window.location.hostname;t.hostname=_,window.location.protocol==="https:"&&(t.protocol==="ws:"?t.protocol="wss:":t.protocol==="http:"&&(t.protocol="https:"),t.port="")}return t},isBackendDisabled=()=>{const e=document.cookie.split("; ").find(t=>t.startsWith("backend-enabled="));return e!==void 0&&e.split("=")[1]=="false"},isStateful=()=>event_queue.length===0?!1:event_queue.some(e=>e.name.startsWith("reflex___state")),applyDelta=(e,t)=>({...e,...t}),evalReactComponent=async component=>{!window.React&&window.__reflex&&(window.React=window.__reflex.react);const module=await eval("import(dataUri)");return module.default},queueEventIfSocketExists=async(e,t,_,a)=>{t&&await queueEvents(e,t,_,a)};function urlFrom(e){try{return new URL(e)}catch{return}}const applyEvent=async(event,socket,navigate,params)=>{if(event.name=="_redirect"){if((event.payload.path??void 0)===void 0)return!1;if(event.payload.external)return window.open(event.payload.path,"_blank","noopener"),!1;const e=urlFrom(event.payload.path);let t=event.payload.path;if(e){if(e.host!==window.location.host)return window.location.assign(event.payload.path),!1;t=e.pathname+e.search+e.hash}return event.payload.replace?navigate(t,{replace:!0}):navigate(t),!1}if(event.name=="_remove_cookie")return cookies.remove(event.payload.key,{...event.payload.options}),queueEventIfSocketExists(initialEvents(),socket,navigate,params),!1;if(event.name=="_clear_local_storage")return localStorage.clear(),queueEventIfSocketExists(initialEvents(),socket,navigate,params),!1;if(event.name=="_remove_local_storage")return localStorage.removeItem(event.payload.key),queueEventIfSocketExists(initialEvents(),socket,navigate,params),!1;if(event.name=="_clear_session_storage")return sessionStorage.clear(),queueEvents(initialEvents(),socket,navigate,params),!1;if(event.name=="_remove_session_storage")return sessionStorage.removeItem(event.payload.key),queueEvents(initialEvents(),socket,navigate,params),!1;if(event.name=="_download"){const e=document.createElement("a");return e.hidden=!0,e.href=event.payload.url,e.href.includes("getBackendURL(env.UPLOAD)")&&(e.href=eval?.(event.payload.url.replace("getBackendURL(env.UPLOAD)",`"${getBackendURL(env.UPLOAD)}"`))),e.download=event.payload.filename,e.click(),e.remove(),!1}if(event.name=="_set_focus"){const t=(event.payload.ref in refs?refs[event.payload.ref]:event.payload.ref)?.current;return t===void 0||t?.focus===void 0?console.error(`No element found for ref ${event.payload.ref} in _set_focus`):t.focus(),!1}if(event.name=="_blur_focus"){const t=(event.payload.ref in refs?refs[event.payload.ref]:event.payload.ref)?.current;return t===void 0||t?.blur===void 0?console.error(`No element found for ref ${event.payload.ref} in _blur_focus`):t.blur(),!1}if(event.name=="_set_value"){const e=event.payload.ref in refs?refs[event.payload.ref]:event.payload.ref;return e.current&&(e.current.value=event.payload.value),!1}if(event.name=="_call_function"&&typeof event.payload.function!="string"){try{const eval_result=event.payload.function();if(event.payload.callback){const final_result=eval_result&&typeof eval_result.then=="function"?await eval_result:eval_result,callback=typeof event.payload.callback=="string"?eval(event.payload.callback):event.payload.callback;callback(final_result)}}catch(e){console.log("_call_function",e),window&&window?.onerror&&window.onerror(e.message,null,null,null,e)}return!1}if(event.name=="_call_script"||event.name=="_call_function"){try{const eval_result=event.name=="_call_script"?eval(event.payload.javascript_code):eval(event.payload.function)();if(event.payload.callback){const final_result=eval_result&&typeof eval_result.then=="function"?await eval_result:eval_result,callback=typeof event.payload.callback=="string"?eval(event.payload.callback):event.payload.callback;callback(final_result)}}catch(e){console.log("_call_script",e),window&&window?.onerror&&window.onerror(e.message,null,null,null,e)}return!1}return event.token=getToken(),(event.router_data===void 0||Object.keys(event.router_data).length===0)&&(event.router_data={pathname:window.location.pathname,query:{...Object.fromEntries(new URLSearchParams(window.location.search)),...params()},asPath:window.location.pathname+window.location.search+window.location.hash}),socket?(socket.emit("event",event),!0):!1},applyRestEvent=async(e,t,_,a)=>{let s=!1;return e.handler==="uploadFiles"?e.payload.files===void 0||e.payload.files.length===0?await applyEvent(Event(e.name,{files:[]}),t,_,a):(uploadFiles(e.name,e.payload.files,e.payload.upload_id,e.payload.on_upload_progress,t),!1):s},queueEvents=async(e,t,_,a,s)=>{_&&(e=[...e,...Array.from({length:event_queue.length}).map(()=>event_queue.shift())]),event_queue.push(...e.filter(r=>r!=null)),await processEvent(t.current,a,s)},processEvent=async(e,t,_)=>{if(!e&&isStateful()||event_queue.length===0||event_processing)return;event_processing=!0;const a=event_queue.shift();let s=!1;a.handler?s=await applyRestEvent(a,e,t,_):s=await applyEvent(a,e,t,_),s||(event_processing=!1,await processEvent(e,t,_))},connect=async(e,t,_,a,s={},r,u)=>{const o=getBackendURL(EVENTURL);e.current=lookup(o.href,{path:o.pathname,transports:_,protocols:[reflexEnvironment.version],autoUnref:!1}),e.current.io.encoder.replacer=(f,x)=>x===void 0?null:x,e.current.io.decoder.tryParse=f=>{try{return lib.parse(f)}catch{return!1}};function i(){document.visibilityState==="visible"&&(e.current.connected?console.log("Socket is reconnected "):(console.log("Socket is disconnected, attempting to reconnect "),e.current.connect()))}const E=f=>{e.current?.connected&&(console.log("Disconnect websocket on unload"),e.current.disconnect())},h=f=>{f.persisted&&e.current?.connected&&(console.log("Disconnect backend before bfcache on navigation"),e.current.disconnect())};e.current.on("connect",()=>{a([]),window.addEventListener("pagehide",h),window.addEventListener("beforeunload",E),window.addEventListener("unload",E)}),e.current.on("connect_error",f=>{a(x=>[x.slice(-9),f])}),e.current.on("disconnect",()=>{event_processing=!1,window.removeEventListener("unload",E),window.removeEventListener("beforeunload",E),window.removeEventListener("pagehide",h)}),e.current.on("event",async f=>{for(const x in f.delta)t[x](f.delta[x]);applyClientStorageDelta(s,f.delta),event_processing=!f.final,f.events&&queueEvents(f.events,e,!1,r,u)}),e.current.on("reload",async f=>{event_processing=!1,queueEvents([...initialEvents(),f],e,!0,r,u)}),document.addEventListener("visibilitychange",i)},uploadFiles=async(e,t,_,a,s)=>{if(t===void 0||t.length===0)return!1;const r=`__upload_controllers_${_}`;if(refs[r])return console.log("Upload already in progress for ",_),!1;let u=0;const o=h=>{const f=s._callbacks.$event;h.event.target.responseText.trim().split(`
`).slice(u).map(D=>{try{const y=lib.parse(D);f.map((n,d)=>{n(y).then(()=>{d===f.length-1&&(u+=1)}).catch(l=>{h.progress===1&&console.log("Error processing chunk",y,l)})})}catch(y){h.progress===1&&console.log("Error parsing chunk",D,y);return}})},i=new AbortController,E=new FormData;return t.forEach(h=>{E.append("files",h,h.path||h.name)}),refs[r]=i,new Promise((h,f)=>{const x=new XMLHttpRequest;x.onload=function(){x.status>=200&&x.status<300?h({data:x.responseText,status:x.status,statusText:x.statusText,headers:{get:D=>x.getResponseHeader(D)}}):f(new Error(`HTTP error! status: ${x.status}`))},x.onerror=function(){f(new Error("Network error"))},x.onabort=function(){f(new Error("Upload aborted"))},a&&(x.upload.onprogress=function(D){if(D.lengthComputable){const y={loaded:D.loaded,total:D.total,progress:D.loaded/D.total};a(y)}}),x.onprogress=function(D){if(o){const y={event:{target:{responseText:x.responseText}},progress:D.lengthComputable?D.loaded/D.total:0};o(y)}},i.signal.addEventListener("abort",()=>{x.abort()}),x.open("POST",getBackendURL(UPLOADURL)),x.setRequestHeader("Reflex-Client-Token",getToken()),x.setRequestHeader("Reflex-Event-Handler",e);try{x.send(E)}catch(D){f(D)}}).catch(h=>(console.log("Upload error:",h.message),!1)).finally(()=>{delete refs[r]})},Event=(e,t={},_={},a=null)=>({name:e,payload:t,handler:a,event_actions:_}),hydrateClientStorage=e=>{const t={};if(e.cookies)for(const _ in e.cookies){const s=e.cookies[_].name||_;cookies.get(s)!==void 0&&(t[_]=cookies.get(s))}if(e.local_storage&&typeof window<"u")for(const _ in e.local_storage){const a=e.local_storage[_],s=localStorage.getItem(a.name||_);s!==null&&(t[_]=s)}if(e.session_storage&&typeof window<"u")for(const _ in e.session_storage){const a=e.session_storage[_],s=sessionStorage.getItem(a.name||_);s!=null&&(t[_]=s)}return e.cookies||e.local_storage||e.session_storage?t:{}},applyClientStorageDelta=(e,t)=>{const _=Object.keys(t).filter(a=>a.split(".").length===1);if(_.length===1){const a=t[_[0]];if(a.is_hydrated_rx_state_!==void 0&&!a.is_hydrated_rx_state_)return}for(const a in t)for(const s in t[a]){const r=`${a}.${s}`;if(e.cookies&&r in e.cookies){const u={...e.cookies[r]},o=u.name||r;delete u.name,cookies.set(o,t[a][s],u)}else if(e.local_storage&&r in e.local_storage&&typeof window<"u"){const u=e.local_storage[r];localStorage.setItem(u.name||r,t[a][s])}else if(e.session_storage&&r in e.session_storage&&typeof window<"u"){const u=e.session_storage[r];sessionStorage.setItem(u.name||r,t[a][s])}}},useEventLoop=(e,t=()=>[],_={})=>{const a=reactExports.useRef(null),s=useLocation(),r=useNavigate(),u=useParams(),o=reactExports.useRef(s),[i]=useSearchParams(),[E,h]=reactExports.useState([]),f=reactExports.useRef(u);reactExports.useEffect(()=>{const{"*":n,...d}=u;n?f.current={...d,splat:n.split("/")}:f.current=d},[u]);const x=reactExports.useCallback((n,d,l)=>{const p=n.filter(g=>g!=null);d instanceof Array||(d=[d]),l=p.reduce((g,A)=>({...g,...A.event_actions}),l??{});const C=d.filter(g=>g?.preventDefault!==void 0)[0];l?.preventDefault&&C?.preventDefault&&C.preventDefault(),l?.stopPropagation&&C?.stopPropagation&&C.stopPropagation();const m=p.map(g=>g.name).join("+++");l?.temporal&&(!a.current||!a.current.connected)||l?.throttle&&!throttle(m,l.throttle)||(l?.debounce?debounce(m,()=>queueEvents(p,a,!1,r,()=>f.current),l.debounce):queueEvents(p,a,!1,r,()=>f.current))},[]),D=reactExports.useRef(!1);reactExports.useEffect(()=>{D.current||(queueEvents(t().map(n=>({...n,router_data:{pathname:s.pathname,query:{...Object.fromEntries(i.entries()),...f.current},asPath:s.pathname+s.search}})),a,!0,r,()=>f.current),D.current=!0)},[]),reactExports.useEffect(()=>{typeof window>"u"||(window.onerror=function(n,d,l,p,C){return x([Event(`${exception_state_name}.handle_frontend_exception`,{stack:C.stack,component_stack:""})]),!1},window.onunhandledrejection=function(n){return x([Event(`${exception_state_name}.handle_frontend_exception`,{stack:n.reason?.stack,component_stack:""})]),!1})},[]),reactExports.useEffect(()=>(Object.keys(initialState).length>1&&!isBackendDisabled()&&(a.current||connect(a,e,["websocket"],h,_,r,()=>f.current)),()=>{a.current&&a.current.disconnect()}),[]),reactExports.useEffect(()=>{isBackendDisabled()||(async()=>{for(;event_queue.length>0&&!event_processing;)await processEvent(a.current,r,()=>f.current)})()}),reactExports.useEffect(()=>{const n={};if(_.local_storage&&typeof window<"u")for(const l in _.local_storage){const p=_.local_storage[l];if(p.sync){const C=p.name||l;n[C]=l}}const d=l=>{if(n[l.key]){const p={};p[n[l.key]]=l.newValue;const C=Event(`${state_name}.reflex___state____update_vars_internal_state.update_vars_internal`,{vars:p});x([C],l)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)});const y=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(!y.current){y.current=!0;return}if(s.state?.fromNotFound||s.pathname+s.search===o.current.pathname+o.current.search&&s.hash)return;const n=e.reflex___state____state;n!==void 0&&n({is_hydrated_rx_state_:!1}),x(onLoadInternalEvent()),o.current=s},[s,e,onLoadInternalEvent,x]),[x,E]},isTrue=e=>Array.isArray(e)?e.length>0:e===Object(e)?Object.keys(e).length>0:!!e,isNotNullOrUndefined=e=>(e??void 0)!==void 0,getRefValue=e=>{if(!(!e||!e.current))return e.current.type=="checkbox"?e.current.checked:e.current.className?.includes("rt-CheckboxRoot")||e.current.className?.includes("rt-SwitchRoot")?e.current.ariaChecked=="true":e.current.className?.includes("rt-SliderRoot")?e.current.querySelector(".rt-SliderThumb")?.ariaValueNow:e.current.value||e.current.querySelector&&e.current.querySelector(":checked")&&e.current.querySelector(":checked")?.value},getRefValues=e=>{if(e)return e.map(t=>t.current?t.current.value||t.current.getAttribute("aria-valuenow"):null)},spreadArraysOrObjects=(e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return[...e,...t];if(typeof e=="object"&&typeof t=="object")return{...e,...t};throw new Error("Both parameters must be either arrays or objects.")},utils_state=Object.freeze(Object.defineProperty({__proto__:null,Event,applyDelta,applyEvent,applyRestEvent,connect,evalReactComponent,generateUUID,getBackendURL,getRefValue,getRefValues,getToken,hydrateClientStorage,isBackendDisabled,isNotNullOrUndefined,isStateful,isTrue,processEvent,queueEventIfSocketExists,queueEvents,refs,spreadArraysOrObjects,uploadFiles,useEventLoop},Symbol.toStringTag,{value:"Module"}));export{ColorModeContext as C,EventLoopContext as E,StateProvider as S,UploadFilesProvider as U,utils_context as a,emotion_react as b,EventLoopProvider as c,defaultColorMode as d,env as e,Event as f,getBackendURL as g,ClientSide as h,isTrue as i,jsx as j,keyframes as k,StateContexts as l,isNotNullOrUndefined as m,getRefValue as n,refs as r,utils_state as u};
