import{F as e,I as t}from"./chunk-C37GKA54-zdhTum-r.js";import{b as n}from"./jsx-runtime-CayOSyfd.js";import{A as r,b as i,w as a,x as o,y as s,z as c}from"./createLucideIcon-CVlGA60s.js";var l=t(e(),1),u=t(n(),1),d=`Label`,f=l.forwardRef((e,t)=>(0,u.jsx)(c.label,{...e,ref:t,onMouseDown:t=>{let n=t.target;n.closest(`button, input, select, textarea`)||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));f.displayName=d;var[p,m]=s(`Form`),h=`Form`,[g,_]=p(h),[v,y]=p(h),b=l.forwardRef((e,t)=>{let{__scopeForm:n,onClearServerErrors:i=()=>{},...a}=e,s=l.useRef(null),d=r(t,s),[f,p]=l.useState({}),m=l.useCallback(e=>f[e],[f]),h=l.useCallback((e,t)=>p(n=>({...n,[e]:{...n[e]??{},...t}})),[]),_=l.useCallback(e=>{p(t=>({...t,[e]:void 0})),T(t=>({...t,[e]:{}}))},[]),[y,b]=l.useState({}),x=l.useCallback(e=>y[e]??[],[y]),S=l.useCallback((e,t)=>{b(n=>({...n,[e]:[...n[e]??[],t]}))},[]),C=l.useCallback((e,t)=>{b(n=>({...n,[e]:(n[e]??[]).filter(e=>e.id!==t)}))},[]),[w,T]=l.useState({}),E=l.useCallback(e=>w[e]??{},[w]),D=l.useCallback((e,t)=>{T(n=>({...n,[e]:{...n[e]??{},...t}}))},[]),[O,k]=l.useState({}),A=l.useCallback((e,t)=>{k(n=>{let r=new Set(n[e]).add(t);return{...n,[e]:r}})},[]),j=l.useCallback((e,t)=>{k(n=>{let r=new Set(n[e]);return r.delete(t),{...n,[e]:r}})},[]),M=l.useCallback(e=>Array.from(O[e]??[]).join(` `)||void 0,[O]);return(0,u.jsx)(g,{scope:n,getFieldValidity:m,onFieldValidityChange:h,getFieldCustomMatcherEntries:x,onFieldCustomMatcherEntryAdd:S,onFieldCustomMatcherEntryRemove:C,getFieldCustomErrors:E,onFieldCustomErrorsChange:D,onFieldValiditionClear:_,children:(0,u.jsx)(v,{scope:n,onFieldMessageIdAdd:A,onFieldMessageIdRemove:j,getFieldDescription:M,children:(0,u.jsx)(c.form,{...a,ref:d,onInvalid:o(e.onInvalid,e=>{let t=W(e.currentTarget);t===e.target&&t.focus(),e.preventDefault()}),onSubmit:o(e.onSubmit,i,{checkForDefaultPrevented:!1}),onReset:o(e.onReset,i)})})})});b.displayName=h;var x=`FormField`,[S,C]=p(x),w=l.forwardRef((e,t)=>{let{__scopeForm:n,name:r,serverInvalid:i=!1,...o}=e,s=_(x,n),l=s.getFieldValidity(r),d=a();return(0,u.jsx)(S,{scope:n,id:d,name:r,serverInvalid:i,children:(0,u.jsx)(c.div,{"data-valid":Y(l,i),"data-invalid":X(l,i),...o,ref:t})})});w.displayName=x;var T=`FormLabel`,E=l.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e,i=_(T,n),a=C(T,n),o=r.htmlFor||a.id,s=i.getFieldValidity(a.name);return(0,u.jsx)(f,{"data-valid":Y(s,a.serverInvalid),"data-invalid":X(s,a.serverInvalid),...r,ref:t,htmlFor:o})});E.displayName=T;var D=`FormControl`,O=l.forwardRef((e,t)=>{let{__scopeForm:n,...i}=e,a=_(D,n),s=C(D,n),d=y(D,n),f=l.useRef(null),p=r(t,f),m=i.name||s.name,h=i.id||s.id,g=a.getFieldCustomMatcherEntries(m),{onFieldValidityChange:v,onFieldCustomErrorsChange:b,onFieldValiditionClear:x}=a,S=l.useCallback(async e=>{if(J(e.validity)){let t=B(e.validity);v(m,t);return}let t=e.form?new FormData(e.form):new FormData,n=[e.value,t],r=[],i=[];g.forEach(e=>{G(e,n)?i.push(e):K(e)&&r.push(e)});let a=r.map(({id:e,match:t})=>[e,t(...n)]),o=Object.fromEntries(a),s=Object.values(o).some(Boolean),c=s;e.setCustomValidity(c?k:``);let l=B(e.validity);if(v(m,l),b(m,o),!s&&i.length>0){let t=i.map(({id:e,match:t})=>t(...n).then(t=>[e,t])),r=await Promise.all(t),a=Object.fromEntries(r),o=Object.values(a).some(Boolean),s=o;e.setCustomValidity(s?k:``);let c=B(e.validity);v(m,c),b(m,a)}},[g,m,b,v]);l.useEffect(()=>{let e=f.current;if(e){let t=()=>S(e);return e.addEventListener(`change`,t),()=>e.removeEventListener(`change`,t)}},[S]);let w=l.useCallback(()=>{let e=f.current;e&&(e.setCustomValidity(``),x(m))},[m,x]);l.useEffect(()=>{let e=f.current?.form;if(e)return e.addEventListener(`reset`,w),()=>e.removeEventListener(`reset`,w)},[w]),l.useEffect(()=>{let e=f.current,t=e?.closest(`form`);if(t&&s.serverInvalid){let n=W(t);n===e&&n.focus()}},[s.serverInvalid]);let T=a.getFieldValidity(m);return(0,u.jsx)(c.input,{"data-valid":Y(T,s.serverInvalid),"data-invalid":X(T,s.serverInvalid),"aria-invalid":s.serverInvalid?!0:void 0,"aria-describedby":d.getFieldDescription(m),title:``,...i,ref:p,id:h,name:m,onInvalid:o(e.onInvalid,e=>{let t=e.currentTarget;S(t)}),onChange:o(e.onChange,e=>{w()})})});O.displayName=D;var k=`This value is not valid`,A={badInput:k,patternMismatch:`This value does not match the required pattern`,rangeOverflow:`This value is too large`,rangeUnderflow:`This value is too small`,stepMismatch:`This value does not match the required step`,tooLong:`This value is too long`,tooShort:`This value is too short`,typeMismatch:`This value does not match the required type`,valid:void 0,valueMissing:`This value is missing`},j=`FormMessage`,M=l.forwardRef((e,t)=>{let{match:n,name:r,...i}=e,a=C(j,e.__scopeForm),o=r??a.name;return n===void 0?(0,u.jsx)(F,{...i,ref:t,name:o,children:e.children||k}):typeof n==`function`?(0,u.jsx)(P,{match:n,...i,ref:t,name:o}):(0,u.jsx)(N,{match:n,...i,ref:t,name:o})});M.displayName=j;var N=l.forwardRef((e,t)=>{let{match:n,forceMatch:r=!1,name:i,children:a,...o}=e,s=_(j,o.__scopeForm),c=s.getFieldValidity(i),l=r||c?.[n];return l?(0,u.jsx)(F,{ref:t,...o,name:i,children:a??A[n]}):null}),P=l.forwardRef((e,t)=>{let{match:n,forceMatch:i=!1,name:o,id:s,children:c,...d}=e,f=_(j,d.__scopeForm),p=l.useRef(null),m=r(t,p),h=a(),g=s??h,v=l.useMemo(()=>({id:g,match:n}),[g,n]),{onFieldCustomMatcherEntryAdd:y,onFieldCustomMatcherEntryRemove:b}=f;l.useEffect(()=>(y(o,v),()=>b(o,v.id)),[v,o,y,b]);let x=f.getFieldValidity(o),S=f.getFieldCustomErrors(o),C=S[g],w=i||x&&!J(x)&&C;return w?(0,u.jsx)(F,{id:g,ref:m,...d,name:o,children:c??k}):null}),F=l.forwardRef((e,t)=>{let{__scopeForm:n,id:r,name:i,...o}=e,s=y(j,n),d=a(),f=r??d,{onFieldMessageIdAdd:p,onFieldMessageIdRemove:m}=s;return l.useEffect(()=>(p(i,f),()=>m(i,f)),[i,f,p,m]),(0,u.jsx)(c.span,{id:f,...o,ref:t})}),I=`FormValidityState`,L=e=>{let{__scopeForm:t,name:n,children:r}=e,i=_(I,t),a=C(I,t),o=n??a.name,s=i.getFieldValidity(o);return(0,u.jsx)(u.Fragment,{children:r(s)})};L.displayName=I;var R=`FormSubmit`,z=l.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e;return(0,u.jsx)(c.button,{type:`submit`,...r,ref:t})});z.displayName=R;function B(e){let t={};for(let n in e)t[n]=e[n];return t}function V(e){return e instanceof HTMLElement}function H(e){return`validity`in e}function U(e){return H(e)&&(e.validity.valid===!1||e.getAttribute(`aria-invalid`)===`true`)}function W(e){let t=e.elements,[n]=Array.from(t).filter(V).filter(U);return n}function G(e,t){return e.match.constructor.name===`AsyncFunction`||q(e.match,t)}function K(e){return e.match.constructor.name===`Function`}function q(e,t){return e(...t)instanceof Promise}function J(e){let t=!1;for(let n in e){let r=n;if(r!==`valid`&&r!==`customError`&&e[r]){t=!0;break}}return t}function Y(e,t){if(e?.valid===!0&&!t)return!0}function X(e,t){if(e?.valid===!1||t)return!0}var Z=b;const Q=[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]],$=i(`triangle-alert`,Q);export{$ as b,Z as c};