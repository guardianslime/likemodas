import{a as d,y as X,r as Oe,x as Ie}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{c as je,a as W,b as ne}from"./icon-button-D1N_Zl9v.js";import{P as V,u as re}from"./createLucideIcon-1nhsi-8_.js";import{j as D}from"./index-B9RKNTce.js";var De="Label",he=d.forwardRef((r,c)=>D.jsx(V.label,{...r,ref:c,onMouseDown:l=>{l.target.closest("button, input, select, textarea")||(r.onMouseDown?.(l),!l.defaultPrevented&&l.detail>1&&l.preventDefault())}}));he.displayName=De;var[oe,et]=je("Form"),ie="Form",[xe,G]=oe(ie),[Me,be]=oe(ie),ge=d.forwardRef((r,c)=>{const{__scopeForm:l,onClearServerErrors:p=()=>{},...m}=r,h=d.useRef(null),E=re(c,h),[b,v]=d.useState({}),g=d.useCallback(a=>b[a],[b]),P=d.useCallback((a,o)=>v(i=>({...i,[a]:{...i[a]??{},...o}})),[]),w=d.useCallback(a=>{v(o=>({...o,[a]:void 0})),f(o=>({...o,[a]:{}}))},[]),[I,j]=d.useState({}),S=d.useCallback(a=>I[a]??[],[I]),x=d.useCallback((a,o)=>{j(i=>({...i,[a]:[...i[a]??[],o]}))},[]),F=d.useCallback((a,o)=>{j(i=>({...i,[a]:(i[a]??[]).filter(y=>y.id!==o)}))},[]),[R,f]=d.useState({}),C=d.useCallback(a=>R[a]??{},[R]),M=d.useCallback((a,o)=>{f(i=>({...i,[a]:{...i[a]??{},...o}}))},[]),[e,n]=d.useState({}),u=d.useCallback((a,o)=>{n(i=>{const y=new Set(i[a]).add(o);return{...i,[a]:y}})},[]),s=d.useCallback((a,o)=>{n(i=>{const y=new Set(i[a]);return y.delete(o),{...i,[a]:y}})},[]),t=d.useCallback(a=>Array.from(e[a]??[]).join(" ")||void 0,[e]);return D.jsx(xe,{scope:l,getFieldValidity:g,onFieldValidityChange:P,getFieldCustomMatcherEntries:S,onFieldCustomMatcherEntryAdd:x,onFieldCustomMatcherEntryRemove:F,getFieldCustomErrors:C,onFieldCustomErrorsChange:M,onFieldValiditionClear:w,children:D.jsx(Me,{scope:l,onFieldMessageIdAdd:u,onFieldMessageIdRemove:s,getFieldDescription:t,children:D.jsx(V.form,{...m,ref:E,onInvalid:W(r.onInvalid,a=>{const o=Ce(a.currentTarget);o===a.target&&o.focus(),a.preventDefault()}),onSubmit:W(r.onSubmit,p,{checkForDefaultPrevented:!1}),onReset:W(r.onReset,p)})})})});ge.displayName=ie;var ae="FormField",[Pe,se]=oe(ae),Re=d.forwardRef((r,c)=>{const{__scopeForm:l,name:p,serverInvalid:m=!1,...h}=r,b=G(ae,l).getFieldValidity(p),v=ne();return D.jsx(Pe,{scope:l,id:v,name:p,serverInvalid:m,children:D.jsx(V.div,{"data-valid":ce(b,m),"data-invalid":le(b,m),...h,ref:c})})});Re.displayName=ae;var te="FormLabel",Se=d.forwardRef((r,c)=>{const{__scopeForm:l,...p}=r,m=G(te,l),h=se(te,l),E=p.htmlFor||h.id,b=m.getFieldValidity(h.name);return D.jsx(he,{"data-valid":ce(b,h.serverInvalid),"data-invalid":le(b,h.serverInvalid),...p,ref:c,htmlFor:E})});Se.displayName=te;var J="FormControl",we=d.forwardRef((r,c)=>{const{__scopeForm:l,...p}=r,m=G(J,l),h=se(J,l),E=be(J,l),b=d.useRef(null),v=re(c,b),g=p.name||h.name,P=p.id||h.id,w=m.getFieldCustomMatcherEntries(g),{onFieldValidityChange:I,onFieldCustomErrorsChange:j,onFieldValiditionClear:S}=m,x=d.useCallback(async f=>{if(Ee(f.validity)){const i=Y(f.validity);I(g,i);return}const C=f.form?new FormData(f.form):new FormData,M=[f.value,C],e=[],n=[];w.forEach(i=>{Ue(i,M)?n.push(i):We(i)&&e.push(i)});const u=e.map(({id:i,match:y})=>[i,y(...M)]),s=Object.fromEntries(u),t=Object.values(s).some(Boolean),a=t;f.setCustomValidity(a?$:"");const o=Y(f.validity);if(I(g,o),j(g,s),!t&&n.length>0){const i=n.map(({id:T,match:N})=>N(...M).then(K=>[T,K])),y=await Promise.all(i),O=Object.fromEntries(y),L=Object.values(O).some(Boolean);f.setCustomValidity(L?$:"");const k=Y(f.validity);I(g,k),j(g,O)}},[w,g,j,I]);d.useEffect(()=>{const f=b.current;if(f){const C=()=>x(f);return f.addEventListener("change",C),()=>f.removeEventListener("change",C)}},[x]);const F=d.useCallback(()=>{const f=b.current;f&&(f.setCustomValidity(""),S(g))},[g,S]);d.useEffect(()=>{const f=b.current?.form;if(f)return f.addEventListener("reset",F),()=>f.removeEventListener("reset",F)},[F]),d.useEffect(()=>{const f=b.current,C=f?.closest("form");if(C&&h.serverInvalid){const M=Ce(C);M===f&&M.focus()}},[h.serverInvalid]);const R=m.getFieldValidity(g);return D.jsx(V.input,{"data-valid":ce(R,h.serverInvalid),"data-invalid":le(R,h.serverInvalid),"aria-invalid":h.serverInvalid?!0:void 0,"aria-describedby":E.getFieldDescription(g),title:"",...p,ref:v,id:P,name:g,onInvalid:W(r.onInvalid,f=>{const C=f.currentTarget;x(C)}),onChange:W(r.onChange,f=>{F()})})});we.displayName=J;var $="This value is not valid",Te={badInput:$,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},H="FormMessage",Le=d.forwardRef((r,c)=>{const{match:l,name:p,...m}=r,h=se(H,r.__scopeForm),E=p??h.name;return l===void 0?D.jsx(ue,{...m,ref:c,name:E,children:r.children||$}):typeof l=="function"?D.jsx(Ne,{match:l,...m,ref:c,name:E}):D.jsx(Ae,{match:l,...m,ref:c,name:E})});Le.displayName=H;var Ae=d.forwardRef((r,c)=>{const{match:l,forceMatch:p=!1,name:m,children:h,...E}=r,v=G(H,E.__scopeForm).getFieldValidity(m);return p||v?.[l]?D.jsx(ue,{ref:c,...E,name:m,children:h??Te[l]}):null}),Ne=d.forwardRef((r,c)=>{const{match:l,forceMatch:p=!1,name:m,id:h,children:E,...b}=r,v=G(H,b.__scopeForm),g=d.useRef(null),P=re(c,g),w=ne(),I=h??w,j=d.useMemo(()=>({id:I,match:l}),[I,l]),{onFieldCustomMatcherEntryAdd:S,onFieldCustomMatcherEntryRemove:x}=v;d.useEffect(()=>(S(m,j),()=>x(m,j.id)),[j,m,S,x]);const F=v.getFieldValidity(m),f=v.getFieldCustomErrors(m)[I];return p||F&&!Ee(F)&&f?D.jsx(ue,{id:I,ref:P,...b,name:m,children:E??$}):null}),ue=d.forwardRef((r,c)=>{const{__scopeForm:l,id:p,name:m,...h}=r,E=be(H,l),b=ne(),v=p??b,{onFieldMessageIdAdd:g,onFieldMessageIdRemove:P}=E;return d.useEffect(()=>(g(m,v),()=>P(m,v)),[m,v,g,P]),D.jsx(V.span,{id:v,...h,ref:c})}),Be="FormSubmit",ke=d.forwardRef((r,c)=>{const{__scopeForm:l,...p}=r;return D.jsx(V.button,{type:"submit",...p,ref:c})});ke.displayName=Be;function Y(r){const c={};for(const l in r)c[l]=r[l];return c}function Ve(r){return r instanceof HTMLElement}function Ke(r){return"validity"in r}function qe(r){return Ke(r)&&(r.validity.valid===!1||r.getAttribute("aria-invalid")==="true")}function Ce(r){const c=r.elements,[l]=Array.from(c).filter(Ve).filter(qe);return l}function Ue(r,c){return r.match.constructor.name==="AsyncFunction"||$e(r.match,c)}function We(r){return r.match.constructor.name==="Function"}function $e(r,c){return r(...c)instanceof Promise}function Ee(r){let c=!1;for(const l in r){const p=l;if(p!=="valid"&&p!=="customError"&&r[p]){c=!0;break}}return c}function ce(r,c){if(r?.valid===!0&&!c)return!0}function le(r,c){if(r?.valid===!1||c)return!0}var tt=ge,U={},Z,ve;function Ge(){if(ve)return Z;ve=1;var r="Expected a function",c=NaN,l="[object Symbol]",p=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,E=/^0o[0-7]+$/i,b=parseInt,v=typeof X=="object"&&X&&X.Object===Object&&X,g=typeof self=="object"&&self&&self.Object===Object&&self,P=v||g||Function("return this")(),w=Object.prototype,I=w.toString,j=Math.max,S=Math.min,x=function(){return P.Date.now()};function F(e,n,u){var s,t,a,o,i,y,O=0,A=!1,L=!1,k=!0;if(typeof e!="function")throw new TypeError(r);n=M(n)||0,R(u)&&(A=!!u.leading,L="maxWait"in u,a=L?j(M(u.maxWait)||0,n):a,k="trailing"in u?!!u.trailing:k);function T(_){var B=s,q=t;return s=t=void 0,O=_,o=e.apply(q,B),o}function N(_){return O=_,i=setTimeout(z,n),A?T(_):o}function K(_){var B=_-y,q=_-O,me=n-B;return L?S(me,a-q):me}function fe(_){var B=_-y,q=_-O;return y===void 0||B>=n||B<0||L&&q>=a}function z(){var _=x();if(fe(_))return de(_);i=setTimeout(z,K(_))}function de(_){return i=void 0,k&&s?T(_):(s=t=void 0,o)}function Fe(){i!==void 0&&clearTimeout(i),O=0,s=y=t=i=void 0}function _e(){return i===void 0?o:de(x())}function Q(){var _=x(),B=fe(_);if(s=arguments,t=this,y=_,B){if(i===void 0)return N(y);if(L)return i=setTimeout(z,n),T(y)}return i===void 0&&(i=setTimeout(z,n)),o}return Q.cancel=Fe,Q.flush=_e,Q}function R(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function f(e){return!!e&&typeof e=="object"}function C(e){return typeof e=="symbol"||f(e)&&I.call(e)==l}function M(e){if(typeof e=="number")return e;if(C(e))return c;if(R(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=R(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(p,"");var u=h.test(e);return u||E.test(e)?b(e.slice(2),u?2:8):m.test(e)?c:+e}return Z=F,Z}var ye;function He(){if(ye)return U;ye=1;function r(e){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(e)}Object.defineProperty(U,"__esModule",{value:!0}),U.DebounceInput=void 0;var c=m(Oe()),l=m(Ge()),p=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function m(e){return e&&e.__esModule?e:{default:e}}function h(e,n){if(e==null)return{};var u=E(e,n),s,t;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)s=a[t],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(u[s]=e[s])}return u}function E(e,n){if(e==null)return{};var u={},s=Object.keys(e),t,a;for(a=0;a<s.length;a++)t=s[a],!(n.indexOf(t)>=0)&&(u[t]=e[t]);return u}function b(e,n){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),u.push.apply(u,s)}return u}function v(e){for(var n=1;n<arguments.length;n++){var u=arguments[n]!=null?arguments[n]:{};n%2?b(Object(u),!0).forEach(function(s){C(e,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):b(Object(u)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(u,s))})}return e}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function P(e,n){for(var u=0;u<n.length;u++){var s=n[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function w(e,n,u){return n&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&j(e,n)}function j(e,n){return j=Object.setPrototypeOf||function(s,t){return s.__proto__=t,s},j(e,n)}function S(e){var n=R();return function(){var s=f(e),t;if(n){var a=f(this).constructor;t=Reflect.construct(s,arguments,a)}else t=s.apply(this,arguments);return x(this,t)}}function x(e,n){if(n&&(r(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},f(e)}function C(e,n,u){return n in e?Object.defineProperty(e,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[n]=u,e}var M=function(e){I(u,e);var n=S(u);function u(s){var t;g(this,u),t=n.call(this,s),C(F(t),"onChange",function(o){o.persist();var i=t.state.value,y=t.props.minLength;t.setState({value:o.target.value},function(){var O=t.state.value;if(O.length>=y){t.notify(o);return}i.length>O.length&&t.notify(v(v({},o),{},{target:v(v({},o.target),{},{value:""})}))})}),C(F(t),"onKeyDown",function(o){o.key==="Enter"&&t.forceNotify(o);var i=t.props.onKeyDown;i&&(o.persist(),i(o))}),C(F(t),"onBlur",function(o){t.forceNotify(o);var i=t.props.onBlur;i&&(o.persist(),i(o))}),C(F(t),"createNotifier",function(o){if(o<0)t.notify=function(){return null};else if(o===0)t.notify=t.doNotify;else{var i=(0,l.default)(function(y){t.isDebouncing=!1,t.doNotify(y)},o);t.notify=function(y){t.isDebouncing=!0,i(y)},t.flush=function(){return i.flush()},t.cancel=function(){t.isDebouncing=!1,i.cancel()}}}),C(F(t),"doNotify",function(){var o=t.props.onChange;o.apply(void 0,arguments)}),C(F(t),"forceNotify",function(o){var i=t.props.debounceTimeout;if(!(!t.isDebouncing&&i>0)){t.cancel&&t.cancel();var y=t.state.value,O=t.props.minLength;y.length>=O?t.doNotify(o):t.doNotify(v(v({},o),{},{target:v(v({},o.target),{},{value:y})}))}}),t.isDebouncing=!1,t.state={value:typeof s.value>"u"||s.value===null?"":s.value};var a=t.props.debounceTimeout;return t.createNotifier(a),t}return w(u,[{key:"componentDidUpdate",value:function(t){if(!this.isDebouncing){var a=this.props,o=a.value,i=a.debounceTimeout,y=t.debounceTimeout,O=t.value,A=this.state.value;typeof o<"u"&&O!==o&&A!==o&&this.setState({value:o}),i!==y&&this.createNotifier(i)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var t=this.props,a=t.element;t.onChange,t.value,t.minLength,t.debounceTimeout;var o=t.forceNotifyByEnter,i=t.forceNotifyOnBlur,y=t.onKeyDown,O=t.onBlur,A=t.inputRef,L=h(t,p),k=this.state.value,T;o?T={onKeyDown:this.onKeyDown}:y?T={onKeyDown:y}:T={};var N;i?N={onBlur:this.onBlur}:O?N={onBlur:O}:N={};var K=A?{ref:A}:{};return c.default.createElement(a,v(v(v(v({},L),{},{onChange:this.onChange,value:k},T),N),K))}}]),u}(c.default.PureComponent);return U.DebounceInput=M,C(M,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0}),U}var ee,pe;function ze(){if(pe)return ee;pe=1;var r=He(),c=r.DebounceInput;return c.DebounceInput=c,ee=c,ee}var Xe=ze();const nt=Ie(Xe);export{nt as D,tt as R};
