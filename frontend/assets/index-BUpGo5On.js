import{a as m,y as X,r as je,x as Ie}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{c as Pe,a as W,b as ne}from"./icon-button-COyzSPuD.js";import{P as V,u as re}from"./createLucideIcon-CV_DxUYY.js";import{j as x}from"./index-B9RKNTce.js";var De="Label",be=m.forwardRef((r,u)=>x.jsx(V.label,{...r,ref:u,onMouseDown:l=>{l.target.closest("button, input, select, textarea")||(r.onMouseDown?.(l),!l.defaultPrevented&&l.detail>1&&l.preventDefault())}}));be.displayName=De;var[oe,rt]=Pe("Form"),ie="Form",[xe,G]=oe(ie),[Se,ge]=oe(ie),Ce=m.forwardRef((r,u)=>{const{__scopeForm:l,onClearServerErrors:h=()=>{},...d}=r,g=m.useRef(null),C=re(u,g),[v,p]=m.useState({}),y=m.useCallback(a=>v[a],[v]),_=m.useCallback((a,o)=>p(i=>({...i,[a]:{...i[a]??{},...o}})),[]),D=m.useCallback(a=>{p(o=>({...o,[a]:void 0})),f(o=>({...o,[a]:{}}))},[]),[E,I]=m.useState({}),w=m.useCallback(a=>E[a]??[],[E]),S=m.useCallback((a,o)=>{I(i=>({...i,[a]:[...i[a]??[],o]}))},[]),O=m.useCallback((a,o)=>{I(i=>({...i,[a]:(i[a]??[]).filter(b=>b.id!==o)}))},[]),[R,f]=m.useState({}),F=m.useCallback(a=>R[a]??{},[R]),M=m.useCallback((a,o)=>{f(i=>({...i,[a]:{...i[a]??{},...o}}))},[]),[e,n]=m.useState({}),c=m.useCallback((a,o)=>{n(i=>{const b=new Set(i[a]).add(o);return{...i,[a]:b}})},[]),s=m.useCallback((a,o)=>{n(i=>{const b=new Set(i[a]);return b.delete(o),{...i,[a]:b}})},[]),t=m.useCallback(a=>Array.from(e[a]??[]).join(" ")||void 0,[e]);return x.jsx(xe,{scope:l,getFieldValidity:y,onFieldValidityChange:_,getFieldCustomMatcherEntries:w,onFieldCustomMatcherEntryAdd:S,onFieldCustomMatcherEntryRemove:O,getFieldCustomErrors:F,onFieldCustomErrorsChange:M,onFieldValiditionClear:D,children:x.jsx(Se,{scope:l,onFieldMessageIdAdd:c,onFieldMessageIdRemove:s,getFieldDescription:t,children:x.jsx(V.form,{...d,ref:C,onInvalid:W(r.onInvalid,a=>{const o=Ee(a.currentTarget);o===a.target&&o.focus(),a.preventDefault()}),onSubmit:W(r.onSubmit,h,{checkForDefaultPrevented:!1}),onReset:W(r.onReset,h)})})})});Ce.displayName=ie;var ae="FormField",[Me,se]=oe(ae),we=m.forwardRef((r,u)=>{const{__scopeForm:l,name:h,serverInvalid:d=!1,...g}=r,v=G(ae,l).getFieldValidity(h),p=ne();return x.jsx(Me,{scope:l,id:p,name:h,serverInvalid:d,children:x.jsx(V.div,{"data-valid":ce(v,d),"data-invalid":le(v,d),...g,ref:u})})});we.displayName=ae;var te="FormLabel",Re=m.forwardRef((r,u)=>{const{__scopeForm:l,...h}=r,d=G(te,l),g=se(te,l),C=h.htmlFor||g.id,v=d.getFieldValidity(g.name);return x.jsx(be,{"data-valid":ce(v,g.serverInvalid),"data-invalid":le(v,g.serverInvalid),...h,ref:u,htmlFor:C})});Re.displayName=te;var J="FormControl",Te=m.forwardRef((r,u)=>{const{__scopeForm:l,...h}=r,d=G(J,l),g=se(J,l),C=ge(J,l),v=m.useRef(null),p=re(u,v),y=h.name||g.name,_=h.id||g.id,D=d.getFieldCustomMatcherEntries(y),{onFieldValidityChange:E,onFieldCustomErrorsChange:I,onFieldValiditionClear:w}=d,S=m.useCallback(async f=>{if(Fe(f.validity)){const i=Y(f.validity);E(y,i);return}const F=f.form?new FormData(f.form):new FormData,M=[f.value,F],e=[],n=[];D.forEach(i=>{We(i,M)?n.push(i):$e(i)&&e.push(i)});const c=e.map(({id:i,match:b})=>[i,b(...M)]),s=Object.fromEntries(c),t=Object.values(s).some(Boolean),a=t;f.setCustomValidity(a?$:"");const o=Y(f.validity);if(E(y,o),I(y,s),!t&&n.length>0){const i=n.map(({id:T,match:A})=>A(...M).then(q=>[T,q])),b=await Promise.all(i),P=Object.fromEntries(b),L=Object.values(P).some(Boolean);f.setCustomValidity(L?$:"");const B=Y(f.validity);E(y,B),I(y,P)}},[D,y,I,E]);m.useEffect(()=>{const f=v.current;if(f){const F=()=>S(f);return f.addEventListener("change",F),()=>f.removeEventListener("change",F)}},[S]);const O=m.useCallback(()=>{const f=v.current;f&&(f.setCustomValidity(""),w(y))},[y,w]);m.useEffect(()=>{const f=v.current?.form;if(f)return f.addEventListener("reset",O),()=>f.removeEventListener("reset",O)},[O]),m.useEffect(()=>{const f=v.current,F=f?.closest("form");if(F&&g.serverInvalid){const M=Ee(F);M===f&&M.focus()}},[g.serverInvalid]);const R=d.getFieldValidity(y);return x.jsx(V.input,{"data-valid":ce(R,g.serverInvalid),"data-invalid":le(R,g.serverInvalid),"aria-invalid":g.serverInvalid?!0:void 0,"aria-describedby":C.getFieldDescription(y),title:"",...h,ref:p,id:_,name:y,onInvalid:W(r.onInvalid,f=>{const F=f.currentTarget;S(F)}),onChange:W(r.onChange,f=>{O()})})});Te.displayName=J;var $="This value is not valid",Le={badInput:$,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},H="FormMessage",Ne=m.forwardRef((r,u)=>{const{match:l,name:h,...d}=r,g=se(H,r.__scopeForm),C=h??g.name;return l===void 0?x.jsx(ue,{...d,ref:u,name:C,children:r.children||$}):typeof l=="function"?x.jsx(ke,{match:l,...d,ref:u,name:C}):x.jsx(Ae,{match:l,...d,ref:u,name:C})});Ne.displayName=H;var Ae=m.forwardRef((r,u)=>{const{match:l,forceMatch:h=!1,name:d,children:g,...C}=r,p=G(H,C.__scopeForm).getFieldValidity(d);return h||p?.[l]?x.jsx(ue,{ref:u,...C,name:d,children:g??Le[l]}):null}),ke=m.forwardRef((r,u)=>{const{match:l,forceMatch:h=!1,name:d,id:g,children:C,...v}=r,p=G(H,v.__scopeForm),y=m.useRef(null),_=re(u,y),D=ne(),E=g??D,I=m.useMemo(()=>({id:E,match:l}),[E,l]),{onFieldCustomMatcherEntryAdd:w,onFieldCustomMatcherEntryRemove:S}=p;m.useEffect(()=>(w(d,I),()=>S(d,I.id)),[I,d,w,S]);const O=p.getFieldValidity(d),f=p.getFieldCustomErrors(d)[E];return h||O&&!Fe(O)&&f?x.jsx(ue,{id:E,ref:_,...v,name:d,children:C??$}):null}),ue=m.forwardRef((r,u)=>{const{__scopeForm:l,id:h,name:d,...g}=r,C=ge(H,l),v=ne(),p=h??v,{onFieldMessageIdAdd:y,onFieldMessageIdRemove:_}=C;return m.useEffect(()=>(y(d,p),()=>_(d,p)),[d,p,y,_]),x.jsx(V.span,{id:p,...g,ref:u})}),Be="FormSubmit",Ve=m.forwardRef((r,u)=>{const{__scopeForm:l,...h}=r;return x.jsx(V.button,{type:"submit",...h,ref:u})});Ve.displayName=Be;function Y(r){const u={};for(const l in r)u[l]=r[l];return u}function qe(r){return r instanceof HTMLElement}function Ke(r){return"validity"in r}function Ue(r){return Ke(r)&&(r.validity.valid===!1||r.getAttribute("aria-invalid")==="true")}function Ee(r){const u=r.elements,[l]=Array.from(u).filter(qe).filter(Ue);return l}function We(r,u){return r.match.constructor.name==="AsyncFunction"||Ge(r.match,u)}function $e(r){return r.match.constructor.name==="Function"}function Ge(r,u){return r(...u)instanceof Promise}function Fe(r){let u=!1;for(const l in r){const h=l;if(h!=="valid"&&h!=="customError"&&r[h]){u=!0;break}}return u}function ce(r,u){if(r?.valid===!0&&!u)return!0}function le(r,u){if(r?.valid===!1||u)return!0}var ot=Ce;const He="modulepreload",ze=function(r){return"/"+r},ve={},it=function(u,l,h){let d=Promise.resolve();if(l&&l.length>0){let p=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};document.getElementsByTagName("link");const C=document.querySelector("meta[property=csp-nonce]"),v=C?.nonce||C?.getAttribute("nonce");d=p(l.map(y=>{if(y=ze(y),y in ve)return;ve[y]=!0;const _=y.endsWith(".css"),D=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${D}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":He,_||(E.as="script"),E.crossOrigin="",E.href=y,v&&E.setAttribute("nonce",v),document.head.appendChild(E),_)return new Promise((I,w)=>{E.addEventListener("load",I),E.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${y}`)))})}))}function g(C){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=C,window.dispatchEvent(v),!v.defaultPrevented)throw C}return d.then(C=>{for(const v of C||[])v.status==="rejected"&&g(v.reason);return u().catch(g)})};var U={},Z,ye;function Xe(){if(ye)return Z;ye=1;var r="Expected a function",u=NaN,l="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,C=/^0o[0-7]+$/i,v=parseInt,p=typeof X=="object"&&X&&X.Object===Object&&X,y=typeof self=="object"&&self&&self.Object===Object&&self,_=p||y||Function("return this")(),D=Object.prototype,E=D.toString,I=Math.max,w=Math.min,S=function(){return _.Date.now()};function O(e,n,c){var s,t,a,o,i,b,P=0,N=!1,L=!1,B=!0;if(typeof e!="function")throw new TypeError(r);n=M(n)||0,R(c)&&(N=!!c.leading,L="maxWait"in c,a=L?I(M(c.maxWait)||0,n):a,B="trailing"in c?!!c.trailing:B);function T(j){var k=s,K=t;return s=t=void 0,P=j,o=e.apply(K,k),o}function A(j){return P=j,i=setTimeout(z,n),N?T(j):o}function q(j){var k=j-b,K=j-P,me=n-k;return L?w(me,a-K):me}function fe(j){var k=j-b,K=j-P;return b===void 0||k>=n||k<0||L&&K>=a}function z(){var j=S();if(fe(j))return de(j);i=setTimeout(z,q(j))}function de(j){return i=void 0,B&&s?T(j):(s=t=void 0,o)}function _e(){i!==void 0&&clearTimeout(i),P=0,s=b=t=i=void 0}function Oe(){return i===void 0?o:de(S())}function Q(){var j=S(),k=fe(j);if(s=arguments,t=this,b=j,k){if(i===void 0)return A(b);if(L)return i=setTimeout(z,n),T(b)}return i===void 0&&(i=setTimeout(z,n)),o}return Q.cancel=_e,Q.flush=Oe,Q}function R(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function f(e){return!!e&&typeof e=="object"}function F(e){return typeof e=="symbol"||f(e)&&E.call(e)==l}function M(e){if(typeof e=="number")return e;if(F(e))return u;if(R(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=R(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(h,"");var c=g.test(e);return c||C.test(e)?v(e.slice(2),c?2:8):d.test(e)?u:+e}return Z=O,Z}var pe;function Je(){if(pe)return U;pe=1;function r(e){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(e)}Object.defineProperty(U,"__esModule",{value:!0}),U.DebounceInput=void 0;var u=d(je()),l=d(Xe()),h=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function d(e){return e&&e.__esModule?e:{default:e}}function g(e,n){if(e==null)return{};var c=C(e,n),s,t;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)s=a[t],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}function C(e,n){if(e==null)return{};var c={},s=Object.keys(e),t,a;for(a=0;a<s.length;a++)t=s[a],!(n.indexOf(t)>=0)&&(c[t]=e[t]);return c}function v(e,n){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),c.push.apply(c,s)}return c}function p(e){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?v(Object(c),!0).forEach(function(s){F(e,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):v(Object(c)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(c,s))})}return e}function y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _(e,n){for(var c=0;c<n.length;c++){var s=n[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function D(e,n,c){return n&&_(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&I(e,n)}function I(e,n){return I=Object.setPrototypeOf||function(s,t){return s.__proto__=t,s},I(e,n)}function w(e){var n=R();return function(){var s=f(e),t;if(n){var a=f(this).constructor;t=Reflect.construct(s,arguments,a)}else t=s.apply(this,arguments);return S(this,t)}}function S(e,n){if(n&&(r(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},f(e)}function F(e,n,c){return n in e?Object.defineProperty(e,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[n]=c,e}var M=function(e){E(c,e);var n=w(c);function c(s){var t;y(this,c),t=n.call(this,s),F(O(t),"onChange",function(o){o.persist();var i=t.state.value,b=t.props.minLength;t.setState({value:o.target.value},function(){var P=t.state.value;if(P.length>=b){t.notify(o);return}i.length>P.length&&t.notify(p(p({},o),{},{target:p(p({},o.target),{},{value:""})}))})}),F(O(t),"onKeyDown",function(o){o.key==="Enter"&&t.forceNotify(o);var i=t.props.onKeyDown;i&&(o.persist(),i(o))}),F(O(t),"onBlur",function(o){t.forceNotify(o);var i=t.props.onBlur;i&&(o.persist(),i(o))}),F(O(t),"createNotifier",function(o){if(o<0)t.notify=function(){return null};else if(o===0)t.notify=t.doNotify;else{var i=(0,l.default)(function(b){t.isDebouncing=!1,t.doNotify(b)},o);t.notify=function(b){t.isDebouncing=!0,i(b)},t.flush=function(){return i.flush()},t.cancel=function(){t.isDebouncing=!1,i.cancel()}}}),F(O(t),"doNotify",function(){var o=t.props.onChange;o.apply(void 0,arguments)}),F(O(t),"forceNotify",function(o){var i=t.props.debounceTimeout;if(!(!t.isDebouncing&&i>0)){t.cancel&&t.cancel();var b=t.state.value,P=t.props.minLength;b.length>=P?t.doNotify(o):t.doNotify(p(p({},o),{},{target:p(p({},o.target),{},{value:b})}))}}),t.isDebouncing=!1,t.state={value:typeof s.value>"u"||s.value===null?"":s.value};var a=t.props.debounceTimeout;return t.createNotifier(a),t}return D(c,[{key:"componentDidUpdate",value:function(t){if(!this.isDebouncing){var a=this.props,o=a.value,i=a.debounceTimeout,b=t.debounceTimeout,P=t.value,N=this.state.value;typeof o<"u"&&P!==o&&N!==o&&this.setState({value:o}),i!==b&&this.createNotifier(i)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var t=this.props,a=t.element;t.onChange,t.value,t.minLength,t.debounceTimeout;var o=t.forceNotifyByEnter,i=t.forceNotifyOnBlur,b=t.onKeyDown,P=t.onBlur,N=t.inputRef,L=g(t,h),B=this.state.value,T;o?T={onKeyDown:this.onKeyDown}:b?T={onKeyDown:b}:T={};var A;i?A={onBlur:this.onBlur}:P?A={onBlur:P}:A={};var q=N?{ref:N}:{};return u.default.createElement(a,p(p(p(p({},L),{},{onChange:this.onChange,value:B},T),A),q))}}]),c}(u.default.PureComponent);return U.DebounceInput=M,F(M,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0}),U}var ee,he;function Qe(){if(he)return ee;he=1;var r=Je(),u=r.DebounceInput;return u.DebounceInput=u,ee=u,ee}var Ye=Qe();const at=Ie(Ye);export{at as D,ot as R,it as _};
