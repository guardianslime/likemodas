import{w as d,a as t}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{j as _,l as s,r as f,i as c,E as x,f as u,m as g}from"./state-Dctph16T.js";import{T as p,F,a as k,b as C,D as v}from"./stateful_components-DkxAoc1G.js";import{w as o,E as y,x as m,r as l,p as r}from"./createLucideIcon-BaKMIaGk.js";import{at as b}from"./theme-DBCkKOy7.js";import"./index-B9RKNTce.js";import"./star-DUcRIlD6.js";function w(){const a=t.useRef(null);f.ref_my_content_area_el=a;const e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(m,{css:{padding:"1em",paddingTop:e.is_admin_rx_state_?"1em":"6rem",width:"100%"},id:"my-content-area-el",ref:a},_(j,{}))}function E(){const a=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___contact___state____contact_state);return _(o,{align:"center",className:"rx-Stack",css:{width:"100%",maxWidth:"800px",margin:"auto",minHeight:"85vh"},direction:"column",gap:"5"},_(l,{size:"7"},"Historial de Contacto"),_(T,{}),a.filtered_entries_rx_state_.map((e,n)=>_(m,{css:{padding:"1em",border:"1px solid",borderColor:"var(--gray-6)",borderRadius:"0.5em",width:"100%"},key:n},_(l,{size:"4"},c(e.email)?e.first_name+" ("+e.email+")":e.first_name+" (sin email)"),_(r,{as:"p",css:{whiteSpace:"pre-wrap",marginTop:"0.5em",marginBottom:"0.5em"}},e.message),_(r,{as:"p",color:"gray",size:"2"},"Recibido el: "+e.created_at_formatted),_(t.Fragment,{},c(e.userinfo_id)?_(t.Fragment,{},_(r,{as:"p",size:"2",weight:"bold"},"Enviado por un usuario registrado")):_(t.Fragment,{},_(r,{as:"p",size:"2",weight:"bold"},"Enviado por un invitado"))))))}function T(){const a=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___contact___state____contact_state),[e,n]=t.useContext(x),h=t.useCallback(i=>e([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___contact___state____contact_state.set_search_query",{value:i.target.value},{})],[i],{}),[e,u]);return _(v,{css:{width:"100%",maxWidth:"400px",marginTop:"1.5em",marginBottom:"1.5em"},debounceTimeout:300,element:b,onChange:h,placeholder:"Buscar en mensajes...",value:g(a.search_query_rx_state_)?a.search_query_rx_state_:""})}function j(){const a=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state),e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},a.is_authenticated_rx_state_&&e.authenticated_user_info_rx_state_?.is_verified||!a.is_authenticated_rx_state_?_(t.Fragment,{},_(E,{})):_(t.Fragment,{},_(o,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"}},_(o,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(l,{},"Verificación Requerida"),_(r,{as:"p"},"Por favor, revisa tu correo electrónico para verificar tu cuenta antes de continuar.")))))}function z(){const a=t.useContext(s.reflex___state____state);return _(t.Fragment,{},a.is_hydrated_rx_state_?_(t.Fragment,{},_(F,{}),_(o,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"row",gap:"3"},_(k,{}),_(w,{})),_(C,{})):_(t.Fragment,{},_(o,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(y,{size:"3"}))))}function N(){const a=t.useContext(s.reflex___state____state),e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state);return _(t.Fragment,{},a.is_hydrated_rx_state_&&e.is_authenticated_rx_state_?_(z,{}):_(t.Fragment,{},_(o,{css:{display:"flex",alignItems:"center",justifyContent:"center"}},_(p,{}))))}const L=d(function(){return _(t.Fragment,{},_(t.Fragment,{},_(N,{})),_("title",{},"Likemodas | Entries"),_("meta",{content:"favicon.ico",property:"og:image"}))});export{L as default};
