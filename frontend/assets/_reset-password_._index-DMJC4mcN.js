import{w as x,a as t,v as g}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{j as _,l as s,r as w,E as u,f as c,i as k}from"./state-Dctph16T.js";import{F as C,a as v,b as F,d as m,R as y}from"./stateful_components-DkxAoc1G.js";import b from"./triangle-alert-C5V5LKGK.js";import{w as l,E,x as n,r as d,p as h,A as S,z as N}from"./createLucideIcon-BaKMIaGk.js";import{o as R}from"./card-CB_bjtTv.js";import{at as f}from"./theme-DBCkKOy7.js";import{n as T,m as j,u as $}from"./callout-CHWgOYmp.js";import"./index-B9RKNTce.js";import"./star-DUcRIlD6.js";function z(){const[e,a]=t.useContext(u),i=t.useCallback(o=>{const r=o.target;o.preventDefault(),{...Object.fromEntries(new FormData(r).entries())},((...p)=>e([c("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___auth___reset_password_state____reset_password_state.handle_reset_password",{},{})],p,{}))(o)});return _(y,{className:"Root ",css:{width:"100%"},onSubmit:i},_(l,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(d,{size:"7"},"Nueva Contraseña"),_(n,{css:{position:"relative",width:"100%"}},_(L,{}),_(n,{css:{position:"absolute",right:"0.75em",top:"50%",transform:"translateY(-50%)"}},_(m,{}))),_(n,{css:{position:"relative",width:"100%"}},_(I,{}),_(n,{css:{position:"absolute",right:"0.75em",top:"50%",transform:"translateY(-50%)"}},_(m,{}))),_(N,{css:{width:"100%"},type:"submit"},"Guardar Contraseña"),_(q,{})))}function P(){const e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(h,{as:"p",css:{whiteSpace:"pre-wrap"}},e.message_rx_state_)}function D(){const e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(t.Fragment,{},e.is_token_valid_rx_state_?_(t.Fragment,{},_(z,{})):_(t.Fragment,{},_(l,{align:"center",className:"rx-Stack",direction:"column",gap:"4"},_(d,{size:"7"},"Enlace no válido"),_(Y,{}),_(S,{asChild:!0,css:{"&:hover":{color:"var(--accent-8)"}}},_(g,{to:"/forgot-password"},"Solicitar un nuevo enlace")))))}function I(){const e=t.useContext(s.reflex___state____state__likemodas___auth___pages____password_state),[a,i]=t.useContext(u),o=t.useCallback(r=>a([c("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___auth___reset_password_state____reset_password_state.set_confirm_password",{value:r.target.value},{})],[r],{}),[a,c]);return _(f,{css:{width:"100%",pr:"2.5em"},name:"confirm_password",onChange:o,placeholder:"Confirmar nueva contraseña",type:e.show_password_rx_state_?"text":"password"})}function L(){const e=t.useContext(s.reflex___state____state__likemodas___auth___pages____password_state),[a,i]=t.useContext(u),o=t.useCallback(r=>a([c("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___auth___reset_password_state____reset_password_state.set_password",{value:r.target.value},{})],[r],{}),[a,c]);return _(f,{css:{width:"100%",pr:"2.5em"},name:"password",onChange:o,placeholder:"Nueva contraseña",type:e.show_password_rx_state_?"text":"password"})}function A(){const e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state),a=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},e.is_authenticated_rx_state_&&a.authenticated_user_info_rx_state_?.is_verified||!e.is_authenticated_rx_state_?_(t.Fragment,{},_(l,{css:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"85vh"}},_(R,{},_(D,{})))):_(t.Fragment,{},_(l,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"}},_(l,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(d,{},"Verificación Requerida"),_(h,{as:"p"},"Por favor, revisa tu correo electrónico para verificar tu cuenta antes de continuar.")))))}function Y(){const e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(h,{as:"p"},e.message_rx_state_)}function q(){const e=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(t.Fragment,{},k(e.message_rx_state_)?_(t.Fragment,{},_(T,{color:"red",css:{icon:"triangle_alert",width:"100%"}},_(j,{},_(b,{})),_($,{},_(P,{})))):_(t.Fragment,{}))}function B(){const e=t.useContext(s.reflex___state____state);return _(t.Fragment,{},e.is_hydrated_rx_state_?_(t.Fragment,{},_(C,{}),_(l,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"row",gap:"3"},_(v,{}),_(G,{})),_(F,{})):_(t.Fragment,{},_(l,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(E,{size:"3"}))))}function G(){const e=t.useRef(null);w.ref_my_content_area_el=e;const a=t.useContext(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(n,{css:{padding:"1em",paddingTop:a.is_admin_rx_state_?"1em":"6rem",width:"100%"},id:"my-content-area-el",ref:e},_(A,{}))}const Z=x(function(){return _(t.Fragment,{},_(B,{}),_("title",{},"Likemodas | Reset-Password"),_("meta",{content:"favicon.ico",property:"og:image"}))});export{Z as default};
