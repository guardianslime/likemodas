import{w as g,a as t}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{j as _,h as n,i as m,E as p,f as x}from"./state-DtgmpcnS.js";import{c as F,F as k,a as C,b as w}from"./stateful_components-DprHHcHC.js";import{o as y}from"./card-CB_bjtTv.js";import{e as z}from"./badge-fQ9mEMrq.js";import{w as a,E as u,x as d,r as l,p as i,B as c,z as v}from"./createLucideIcon-BaKMIaGk.js";import"./theme-DBCkKOy7.js";import"./index-B9RKNTce.js";import"./star-DUcRIlD6.js";function S(){const e=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state),r=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},e.is_authenticated_rx_state_&&r.authenticated_user_info_rx_state_?.is_verified||!e.is_authenticated_rx_state_?_(t.Fragment,{},_(a,{css:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},_(a,{align:"center",className:"rx-Stack",css:{padding:"2em",width:"100%",maxWidth:"960px"},direction:"column",gap:"5"},_(l,{size:"8"},"Confirmar Pagos Pendientes"),_(j,{})))):_(t.Fragment,{},_(a,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"}},_(a,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(l,{},"Verificación Requerida"),_(i,{as:"p"},"Por favor, revisa tu correo para verificar tu cuenta.")))))}function N(){const e=t.useContext(n.reflex___state____state);return _(t.Fragment,{},e.is_hydrated_rx_state_?_(I,{}):_(t.Fragment,{},_(a,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(u,{}))))}function I(){const e=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},e.is_admin_rx_state_?_(P,{}):_(F,{}))}function j(){const e=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___admin___state____admin_confirm_state);return _(t.Fragment,{},m(e.pending_purchases_rx_state_)?_(E,{}):_(t.Fragment,{},_(a,{css:{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"2em",paddingBottom:"2em"}},_(i,{as:"p"},"No hay compras pendientes por confirmar."))))}function E(){const e=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___admin___state____admin_confirm_state),[r,$]=t.useContext(p);return _(t.Fragment,{},e.pending_purchases_rx_state_.map((s,h)=>_(y,{css:{width:"100%"},key:h},_(a,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"4"},_(a,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"row",gap:"3"},_(a,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"3"},_(i,{as:"p",size:"5",weight:"bold"},"Compra #"+s.id),_(i,{as:"p",size:"3"},"Cliente: "+s.customer_name+" ("+s.customer_email+")"),_(i,{as:"p",size:"3"},"Fecha: "+s.purchase_date_formatted)),_(a,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),_(a,{align:"start",className:"rx-Stack",css:{alignItems:"end"},direction:"column",gap:"3"},_(z,{color:"blue",size:"2",variant:"soft"},s.status),_(l,{size:"6"},"$"+s.total_price.toLocaleString("en-US",(o=>({minimumFractionDigits:o,maximumFractionDigits:o}))(2)).replaceAll(",",",")))),_(c,{size:"4"}),_(a,{align:"start",className:"rx-Stack",css:{alignItems:"start",width:"100%"},direction:"column",gap:"1"},_(i,{as:"p",size:"4",weight:"medium"},"Detalles de Envío:"),_(i,{as:"p",size:"3"},"Nombre: "+s.shipping_name),_(i,{as:"p",size:"3"},"Dirección: "+s.shipping_full_address),_(i,{as:"p",size:"3"},"Teléfono: "+s.shipping_phone)),_(c,{size:"4"}),_(a,{align:"start",className:"rx-Stack",css:{alignItems:"start",width:"100%"},direction:"column",gap:"1"},_(i,{as:"p",size:"4",weight:"medium"},"Artículos:"),s.items_formatted.map((o,f)=>_(i,{as:"p",key:f,size:"3"},o))),_(t.Fragment,{},m(-1)?_(t.Fragment,{},_(v,{css:{width:"100%",marginTop:"1em"},onClick:o=>r([x("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___admin___state____admin_confirm_state.confirm_payment",{purchase_id:s.id},{})],[o],{})},"Confirmar Pago")):_(t.Fragment,{}))))))}function P(){const e=t.useContext(n.reflex___state____state);return _(t.Fragment,{},e.is_hydrated_rx_state_?_(t.Fragment,{},_(a,{align:"start",className:"rx-Stack",css:{width:"100%",minHeight:"100vh"},direction:"row",gap:"0"},_(k,{}),_(d,{css:{width:"100%"}},_(C,{}),_(T,{})),_(w,{}))):_(t.Fragment,{},_(a,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(u,{size:"3"}))))}function T(){const e=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(d,{css:{paddingTop:e.is_admin_rx_state_?"1em":"6rem",paddingRight:"1em",paddingBottom:"1em",paddingLeft:"1em",width:"100%"}},_(S,{}))}const V=g(function(){return _(t.Fragment,{},_(N,{}),_("title",{},"Confirmar Pagos"),_("meta",{content:"favicon.ico",property:"og:image"}))});export{V as default};
