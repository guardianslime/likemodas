import{w as x,a as t,v as g}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{j as _,h as a,E as u,f as i,i as w}from"./state-DtgmpcnS.js";import{F as k,a as C,b as v,d as m,R as F}from"./stateful_components-DprHHcHC.js";import b from"./triangle-alert-C5V5LKGK.js";import{w as l,x as n,E,r as d,p as h,A as y,z as S}from"./createLucideIcon-BaKMIaGk.js";import{o as N}from"./card-CB_bjtTv.js";import{at as p}from"./theme-DBCkKOy7.js";import{n as R,m as T,u as j}from"./callout-CHWgOYmp.js";import"./index-B9RKNTce.js";import"./star-DUcRIlD6.js";function $(){const e=t.useContext(a.reflex___state____state);return _(t.Fragment,{},e.is_hydrated_rx_state_?_(t.Fragment,{},_(l,{align:"start",className:"rx-Stack",css:{width:"100%",minHeight:"100vh"},direction:"row",gap:"0"},_(k,{}),_(n,{css:{width:"100%"}},_(C,{}),_(z,{})),_(v,{}))):_(t.Fragment,{},_(l,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(E,{size:"3"}))))}function z(){const e=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(n,{css:{paddingTop:e.is_admin_rx_state_?"1em":"6rem",paddingRight:"1em",paddingBottom:"1em",paddingLeft:"1em",width:"100%"}},_(P,{}))}function L(){const[e,s]=t.useContext(u),c=t.useCallback(o=>{const r=o.target;o.preventDefault(),{...Object.fromEntries(new FormData(r).entries())},((...f)=>e([i("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___auth___reset_password_state____reset_password_state.handle_reset_password",{},{})],f,{}))(o)});return _(F,{className:"Root ",css:{width:"100%"},onSubmit:c},_(l,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(d,{size:"7"},"Nueva Contraseña"),_(n,{css:{position:"relative",width:"100%"}},_(A,{}),_(n,{css:{position:"absolute",right:"0.75em",top:"50%",transform:"translateY(-50%)"}},_(m,{}))),_(n,{css:{position:"relative",width:"100%"}},_(Y,{}),_(n,{css:{position:"absolute",right:"0.75em",top:"50%",transform:"translateY(-50%)"}},_(m,{}))),_(S,{css:{width:"100%"},type:"submit"},"Guardar Contraseña"),_(D,{})))}function P(){const e=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state),s=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},e.is_authenticated_rx_state_&&s.authenticated_user_info_rx_state_?.is_verified||!e.is_authenticated_rx_state_?_(t.Fragment,{},_(l,{css:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"85vh"}},_(N,{},_(H,{})))):_(t.Fragment,{},_(l,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"}},_(l,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(d,{},"Verificación Requerida"),_(h,{as:"p"},"Por favor, revisa tu correo para verificar tu cuenta.")))))}function D(){const e=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(t.Fragment,{},w(e.message_rx_state_)?_(t.Fragment,{},_(R,{color:"red",css:{icon:"triangle_alert",width:"100%"}},_(T,{},_(b,{})),_(j,{},_(I,{})))):_(t.Fragment,{}))}function I(){const e=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(h,{as:"p",css:{whiteSpace:"pre-wrap"}},e.message_rx_state_)}function A(){const e=t.useContext(a.reflex___state____state__likemodas___auth___pages____password_state),[s,c]=t.useContext(u),o=t.useCallback(r=>s([i("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___auth___reset_password_state____reset_password_state.set_password",{value:r.target.value},{})],[r],{}),[s,i]);return _(p,{css:{width:"100%",pr:"2.5em"},name:"password",onChange:o,placeholder:"Nueva contraseña",type:e.show_password_rx_state_?"text":"password"})}function B(){const e=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(h,{as:"p"},e.message_rx_state_)}function H(){const e=t.useContext(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___auth___reset_password_state____reset_password_state);return _(t.Fragment,{},e.is_token_valid_rx_state_?_(t.Fragment,{},_(L,{})):_(t.Fragment,{},_(l,{align:"center",className:"rx-Stack",direction:"column",gap:"4"},_(d,{size:"7"},"Enlace no válido"),_(B,{}),_(y,{asChild:!0,css:{"&:hover":{color:"var(--accent-8)"}}},_(g,{to:"/forgot-password"},"Solicitar un nuevo enlace")))))}function Y(){const e=t.useContext(a.reflex___state____state__likemodas___auth___pages____password_state),[s,c]=t.useContext(u),o=t.useCallback(r=>s([i("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___auth___reset_password_state____reset_password_state.set_confirm_password",{value:r.target.value},{})],[r],{}),[s,i]);return _(p,{css:{width:"100%",pr:"2.5em"},name:"confirm_password",onChange:o,placeholder:"Confirmar nueva contraseña",type:e.show_password_rx_state_?"text":"password"})}const X=x(function(){return _(t.Fragment,{},_($,{}),_("title",{},"Likemodas | Reset-Password"),_("meta",{content:"favicon.ico",property:"og:image"}))});export{X as default};
