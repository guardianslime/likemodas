import{E as e,F as t,I as n,d as r}from"./chunk-C37GKA54-Cf4nyTIr.js";import"./jsx-runtime-zuKkPY9E.js";import{b as i,c as a,d as o,f as s,g as c,i as l,j as u,l as d,s as f,u as p}from"./state-IIzQnMvh.js";import{$ as m,R as h,S as g,T as _,U as v,V as y,X as b,Z as x,_ as S,a1 as C,a4 as w,a5 as T,c as E,n as D,x as O}from"./esm-BEw_6HPr.js";import{A as k,B as A,D as j,b as M,c as N,d as P,e as F,f as I,g as L,i as R,k as ee,p as z,t as B,w as V,x as H,z as U}from"./stateful_components-L4anGaiZ.js";import"./createLucideIcon-B3aLAEAR.js";var W=n(t());function G(){let e=(0,W.useContext)(d.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return f(W.Fragment,{},e.is_admin_rx_state_?f(W.Fragment,{},f(v,{css:{width:`100%`,minHeight:`100vh`}},f(M,{}),f(v,{css:{padding:`1em`,width:`100%`}},f(v,{css:{width:`100%`}},f(J,{}))))):f(W.Fragment,{},f(v,{css:{width:`100%`}},f(N,{}),f(v,{css:{paddingTop:`6rem`,paddingInlineStart:`1em`,paddingInlineEnd:`1em`,paddingBottom:`1em`,width:`100%`}},f(v,{css:{width:`100%`}},f(J,{}))),f(v,{css:{position:`fixed`,bottom:`1.5rem`,right:`1.5rem`,zIndex:`1000`}},f(P,{})))))}function K(){let e=(0,W.useContext)(d.reflex___state____state);return f(W.Fragment,{},e.is_hydrated_rx_state_?f(Z,{}):f(W.Fragment,{},f(_,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`100vh`}},f(g,{}))))}function q(){let e=(0,W.useContext)(d.reflex___state____state);return f(W.Fragment,{},e.is_hydrated_rx_state_?f(G,{}):f(W.Fragment,{},f(_,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`100vh`,width:`100%`,background:`var(--gray-2)`}},f(g,{size:`3`}))))}function J(){let e=(0,W.useContext)(d.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return f(W.Fragment,{},e.is_admin_rx_state_?f(K,{}):f(W.Fragment,{},f(_,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,width:`100%`}},f(_,{align:`center`,className:`rx-Stack`,css:{width:`100%`,padding:`2em`},direction:`column`,gap:`6`},f(W.Fragment,{}),f(X,{}),f(R,{})))))}function Y(){let e=(0,W.useContext)(d.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state),{resolvedColorMode:t}=(0,W.useContext)(l),[n,r]=(0,W.useContext)(u);return f(_,{css:{width:`100%`,maxWidth:`1800px`},justify:`center`,gap:`6`,wrap:`wrap`},e.displayed_posts_rx_state_.map((e,r)=>f(v,{css:{width:`290px`,height:`520px`,background:t===`light`?`#f9f9f9`:`#111111`,border:t===`light`?`1px solid #e5e5e5`:`1px solid #1a1a1a`,borderRadius:`8px`,boxShadow:`md`,padding:`1em`},key:r},f(_,{align:`start`,className:`rx-Stack`,direction:`column`,gap:`3`},f(_,{align:`start`,className:`rx-Stack`,css:{width:`100%`,cursor:`pointer`},direction:`column`,onClick:t=>n([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.open_product_detail_modal`,{post_id:e.id},{})],[t],{}),gap:`2`},f(v,{css:{position:`relative`,width:`260px`,height:`260px`}},f(W.Fragment,{},s(e.variants&&e.variants.length>0)?f(W.Fragment,{},f(`img`,{css:{width:`100%`,height:`260px`,objectFit:`cover`},src:a(p.UPLOAD)+`/`+(s(e.variants.at(0).image_url)?e.variants.at(0).image_url:``)})):f(W.Fragment,{},f(v,{css:{width:`100%`,height:`260px`,background:`var(--gray-3)`,display:`flex`,alignItems:`center`,justifyContent:`center`}},f(j,{size:48})))),f(y,{color:e.is_imported?`purple`:`cyan`,css:{position:`absolute`,top:`0.5rem`,left:`0.5rem`,zIndex:`1`},variant:`solid`},e.is_imported?`Importado`:`Nacional`)),f(_,{align:`start`,className:`rx-Stack`,css:{alignItems:`start`,width:`100%`},direction:`column`,gap:`2`},f(w,{as:`p`,css:{noOfLines:1},size:`6`,weight:`bold`},e.title),f(W.Fragment,{},e.rating_count>0?f(W.Fragment,{},f(_,{align:`center`,className:`rx-Stack`,direction:`row`,gap:`1`},e.full_stars.map((e,t)=>f(k,{css:{color:`gold`},key:t,size:18})),f(W.Fragment,{},e.has_half_star?f(W.Fragment,{},f(A,{css:{color:`gold`},size:18})):f(W.Fragment,{})),e.empty_stars.map((e,t)=>f(k,{css:{color:`var(--gray-8)`},key:t,size:18})),f(w,{as:`p`,color:`gray`,css:{marginLeft:`0.25em`},size:`2`},`(`+e.rating_count+`)`))):f(W.Fragment,{},f(v,{css:{height:`21px`}}))),f(w,{as:`p`,size:`5`,weight:`medium`},e.price_cop),f(y,{color:e.shipping_cost===0?`green`:`gray`,css:{marginTop:`0.5em`},variant:`soft`},e.shipping_display_text),f(W.Fragment,{},e.is_moda_completa_eligible?f(W.Fragment,{},f(E,{content:`Este item cuenta para el envío gratis en compras sobre $200.000`},f(y,{color:`violet`,size:`1`,variant:`soft`},`Moda Completa`))):f(W.Fragment,{})))),f(_,{css:{flex:1,justifySelf:`stretch`,alignSelf:`stretch`}}),f(h,{css:{width:`100%`},onClick:t=>n([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.add_default_variant_to_cart`,{product_id:e.id},{}),i(`_call_function`,{function:()=>null,callback:null},{stopPropagation:!0})],[t],{})},`Añadir al Carrito`)))))}function X(){let e=(0,W.useContext)(d.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return f(W.Fragment,{},e.is_loading_rx_state_?f(W.Fragment,{},f(ee,{})):f(W.Fragment,{},f(Y,{})))}function Z(){let e=(0,W.useContext)(d.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return f(W.Fragment,{},e.is_admin_rx_state_?f(W.Fragment,{},f(_,{align:`center`,className:`rx-Stack`,css:{padding:`2em`,width:`100%`},direction:`column`,gap:`5`},f(T,{size:`8`},`Tienda (Vista de Administrador)`),f(w,{as:`p`},`Aquí puedes ver todos los productos publicados y acceder a su edición.`),f(D,{css:{marginTop:`1.5em`,marginBottom:`1.5em`},size:`4`}),f(z,{}),f($,{}))):f(W.Fragment,{},f(_,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,minHeight:`85vh`}},f(_,{align:`center`,className:`rx-Stack`,direction:`column`,gap:`4`},f(T,{size:`9`},`Acceso Denegado`),f(w,{as:`p`},`Esta página es solo para administradores.`),f(O,{asChild:!0,css:{marginTop:`1em`,"&:hover":{color:`var(--accent-8)`}}},f(r,{to:`/`},f(h,{},`Volver al Inicio`)))))))}function Q(){let[e,t]=(0,W.useContext)(u),n=(0,W.useCallback)(t=>{let n=t.target;t.preventDefault();let r={...Object.fromEntries(new FormData(n).entries()),edit_upload:o(c.ref_edit_upload)};((...t)=>e([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.save_edited_post`,{form_data:r},{})],t,{}))(t)});return f(H,{className:`Root `,css:{width:`100%`},onSubmit:n},f(_,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`4`},f(w,{as:`div`,size:`2`,weight:`bold`},`Imágenes del Producto`),f(B,{}),f(te,{}),f(_,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},f(w,{as:`div`,css:{marginTop:`1em`},size:`2`,weight:`bold`},`Título del Producto`),f(F,{})),f(_,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},f(w,{as:`div`,css:{marginBottom:`2px`},size:`2`,weight:`bold`},`Descripción`),f(L,{})),f(_,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},f(w,{as:`div`,css:{marginBottom:`2px`},size:`2`,weight:`bold`},`Precio (COP)`),f(I,{})),f(h,{css:{width:`100%`,marginTop:`1em`},size:`3`,type:`submit`},`Guardar Cambios`)))}function $(){let e=(0,W.useContext)(d.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state),[t,n]=(0,W.useContext)(u),r=(0,W.useCallback)(e=>t([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.cancel_editing_post`,{open_state:e},{})],[e],{}),[t,i]);return f(m,{onOpenChange:r,open:e.is_editing_post_rx_state_},f(C,{css:{maxWidth:`600px`}},f(x,{},`Editar Publicación`),f(S,{},`Modifica los detalles de tu producto y guárdalos.`),f(Q,{}),f(_,{css:{marginTop:`1em`},justify:`end`,gap:`3`},f(b,{},f(h,{color:`gray`,variant:`soft`},`Cancelar`)))))}function te(){let e=(0,W.useRef)(null);c.ref_edit_upload=e;let[t,n]=(0,W.useContext)(u),r=(0,W.useCallback)(e=>t([i(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.handle_edit_upload`,{files:e,upload_id:`edit_upload`},{},`uploadFiles`)],[e],{}),[t,i]),{getRootProps:a,getInputProps:o,isDragActive:s}=V({onDrop:r,multiple:!0,maxFiles:5,id:`edit_upload`});return f(W.Fragment,{},f(v,{className:`rx-Upload`,css:{border:`2px dashed #ccc`,padding:`1em`,width:`100%`,textAlign:`center`},id:`edit_upload`,ref:e,...a()},f(`input`,{type:`file`,...o()}),f(_,{align:`start`,className:`rx-Stack`,direction:`column`,gap:`3`},f(U,{size:24}),f(w,{as:`p`,size:`2`},`Añadir nuevas imágenes`))))}var ne=e(function(){return f(W.Fragment,{},f(q,{}),f(`title`,{},`Likemodas | Inicio`),f(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{ne as default};