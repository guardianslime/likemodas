import{w as $,a as t,v as R}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{j as _,l,r as b,E as g,f as u,i as F}from"./state-Cx8c8edl.js";import{T as j,B as S,I as v,F as A,R as P,a as L,D as h,A as q,b as B}from"./stateful_components-DIjpvV8Q.js";import{a0 as M,as as p,X as U,ar as y}from"./theme-WCDwdlkg.js";import{w as s,E as V,x as d,r as m,B as H,p as n,A as O,z as k}from"./createLucideIcon-Cw7lnmM3.js";import{m as J,d as W,P as w,f,T as x,b as X}from"./table-CIk2FeUv.js";import{g as E,u as z,C as N,v as I,y as D}from"./select-8vwfNZGg.js";import"./index-B9RKNTce.js";import"./star-C6PoLTIj.js";import"./index-CHhB30TL.js";function G(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state);return _(D,{},"",a.cities_rx_state_.map((e,i)=>_(I,{key:i,value:e},e)))}function K(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state);return _(D,{},"",a.neighborhoods_rx_state_.map((e,i)=>_(I,{key:i,value:e},e)))}function Q(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state),e=t.useRef(null);return b.ref_my_content_area_el=e,_(t.Fragment,{},a.is_authenticated_rx_state_?_(Y,{}):_(t.Fragment,{},_(S,{}),_(d,{css:{padding:"1em",paddingTop:"6rem",width:"100%"},id:"my-content-area-el",ref:e},_(s,{align:"center",className:"rx-Stack",css:{width:"100%",padding:"2em"},direction:"column",gap:"3"},_(m,{color:"violet",size:"8"},"Mi Carrito"),_(C,{}))),_(d,{css:{position:"fixed",bottom:"1.5rem",right:"1.5rem",zIndex:"100"}},_(v,{}))))}function Y(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},a.authenticated_user_info_rx_state_?.is_verified?_(__,{}):_(A,{}))}function Z(){const a=t.useContext(l.reflex___state____state),e=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state);return _(t.Fragment,{},a.is_hydrated_rx_state_&&e.is_authenticated_rx_state_?_(t_,{}):_(t.Fragment,{},_(s,{css:{display:"flex",alignItems:"center",justifyContent:"center"}},_(j,{}))))}function __(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state),e=t.useRef(null);return b.ref_my_content_area_el=e,_(t.Fragment,{},a.is_admin_rx_state_?_(t.Fragment,{},_(s,{align:"start",className:"rx-Stack",direction:"row",gap:"3"},_(d,{css:{padding:"1em"}},_(L,{}),_(h.Root,{direction:"left"},_(h.Trigger,{asChild:!0},_(q,{css:{"@media screen and (min-width: 0)":{display:"flex"},"@media screen and (min-width: 30em)":{display:"flex"},"@media screen and (min-width: 48em)":{display:"none"},"@media screen and (min-width: 62em)":{display:"none"}},size:30})),_(h.Overlay,{css:{position:"fixed",left:"0",right:"0",bottom:"0",top:"0",z_index:50,background:"rgba(0, 0, 0, 0.5)",zIndex:"5"}}),_(h.Portal,{css:{width:"100%"}},_(U,{css:{...y.styles.global[":root"],...y.styles.global.body}},_(B,{}))))),_(d,{css:{padding:"1em",width:"100%"},id:"my-content-area-el",ref:e},_(s_,{})))):_(t.Fragment,{},_(S,{}),_(d,{css:{padding:"1em",paddingTop:"6rem",width:"100%"},id:"my-content-area-el",ref:e},_(s,{align:"center",className:"rx-Stack",css:{width:"100%",padding:"2em"},direction:"column",gap:"3"},_(m,{color:"violet",size:"8"},"Mi Carrito"),_(C,{}))),_(d,{css:{position:"fixed",bottom:"1.5rem",right:"1.5rem",zIndex:"100"}},_(v,{}))))}function t_(){const a=t.useContext(l.reflex___state____state);return _(t.Fragment,{},a.is_hydrated_rx_state_?_(Q,{}):_(t.Fragment,{},_(s,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(V,{}))))}function a_(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state);return _(m,{size:"6"},"$"+a.cart_total_rx_state_.toLocaleString("en-US",(e=>({minimumFractionDigits:e,maximumFractionDigits:e}))(2)).replaceAll(",",""))}function e_(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state),[e,i]=t.useContext(g),o=t.useCallback(c=>e([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___cart___state____cart_state.set_shipping_city_and_reset_neighborhood",{city:c},{})],[c],{}),[e,u]);return _(N,{onValueChange:o,value:a.shipping_city_rx_state_},_(z,{placeholder:"Selecciona una ciudad..."}),_(E,{},_(G,{})))}function s_(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},a.authenticated_user_info_rx_state_?.is_verified?_(t.Fragment,{},_(s,{align:"center",className:"rx-Stack",css:{width:"100%",padding:"2em"},direction:"column",gap:"3"},_(m,{color:"violet",size:"8"},"Mi Carrito"),_(C,{}))):_(t.Fragment,{},_(s,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"}},_(s,{align:"start",className:"rx-Stack",direction:"column",gap:"4"},_(m,{},"Verificación Requerida"),_(n,{as:"p"},"Por favor, revisa tu correo electrónico para verificar tu cuenta antes de continuar.")))))}function o_(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state),[e,i]=t.useContext(g);return _(X,{},a.cart_details_rx_state_.map((o,c)=>_(w,{key:c},_(x,{},_(n,{as:"p"},o.at(0).title)),_(x,{},_(s,{align:"center",className:"rx-Stack",direction:"row",gap:"3"},_(k,{onClick:r=>e([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___cart___state____cart_state.remove_from_cart",{post_id:o.at(0).id},{})],[r],{}),size:"1"},"-"),_(n,{as:"p"},o.at(1)),_(k,{onClick:r=>e([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___cart___state____cart_state.add_to_cart",{post_id:o.at(0).id},{})],[r],{}),size:"1"},"+"))),_(x,{},_(n,{as:"p"},F(o.at(0).price)?"$"+o.at(0).price.toLocaleString("en-US",(r=>({minimumFractionDigits:r,maximumFractionDigits:r}))(2)).replaceAll(",",""):"$0.00")),_(x,{},_(n,{as:"p"},"$"+(o.at(0).price*o.at(1)).toLocaleString("en-US",(r=>({minimumFractionDigits:r,maximumFractionDigits:r}))(2)).replaceAll(",",""))))))}function l_(){const[a,e]=t.useContext(g),i=t.useCallback(o=>{const c=o.target;o.preventDefault();const r={...Object.fromEntries(new FormData(c).entries())};((...T)=>a([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___cart___state____cart_state.handle_checkout",{form_data:r},{})],T,{}))(o)});return _(P,{className:"Root ",css:{width:"100%"},onSubmit:i},_(s,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"4"},_(m,{css:{marginTop:"1.5em",width:"100%"},size:"6"},"Datos de Envío"),_(M,{columns:"2",css:{width:"100%"},gap:"4"},_(s,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"1"},_(n,{as:"p"},"Nombre Completo*"),_(p,{name:"shipping_name",required:!0,type:"text"})),_(s,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"1"},_(n,{as:"p"},"Teléfono de Contacto*"),_(p,{name:"shipping_phone",required:!0,type:"tel"})),_(s,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"1"},_(n,{as:"p"},"Ciudad*"),_(e_,{})),_(s,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"1"},_(n,{as:"p"},"Barrio"),_(r_,{})),_(s,{align:"start",className:"rx-Stack",css:{alignItems:"start",gridColumn:"span 2"},direction:"column",gap:"1"},_(n,{as:"p"},"Dirección de Entrega*"),_(p,{name:"shipping_address",required:!0,type:"text"}))),_(k,{color:"violet",css:{width:"100%",marginTop:"1em"},size:"3",type:"submit"},"Finalizar Compra")))}function r_(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state),[e,i]=t.useContext(g),o=t.useCallback(c=>e([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___cart___state____cart_state.set_shipping_neighborhood",{value:c},{})],[c],{}),[e,u]);return _(N,{css:{isDisabled:!F(a.neighborhoods_rx_state_)},onValueChange:o,value:a.shipping_neighborhood_rx_state_},_(z,{placeholder:"Selecciona un barrio..."}),_(E,{},_(K,{})))}function C(){const a=t.useContext(l.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___cart___state____cart_state);return _(t.Fragment,{},a.cart_items_count_rx_state_>0?_(t.Fragment,{},_(s,{align:"start",className:"rx-Stack",css:{width:"100%",maxWidth:"700px"},direction:"column",gap:"5"},_(J,{},_(W,{},_(w,{},_(f,{},"Producto"),_(f,{},"Cantidad"),_(f,{},"Precio Unitario"),_(f,{},"Subtotal"))),_(o_,{})),_(H,{size:"4"}),_(s,{align:"start",className:"rx-Stack",css:{width:"100%",paddingInlineStart:"1em",paddingInlineEnd:"1em"},direction:"row",justify:"end",gap:"3"},_(m,{size:"6"},"Total:"),_(a_,{})),_(l_,{}))):_(t.Fragment,{},_(s,{css:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50vh"}},_(s,{align:"start",className:"rx-Stack",direction:"column",gap:"3"},_(n,{as:"p"},"Tu carrito está vacío."),_(O,{asChild:!0,css:{"&:hover":{color:"var(--accent-8)"}}},_(R,{to:"/blog/page"},"Explorar productos"))))))}const p_=$(function(){return _(t.Fragment,{},_(t.Fragment,{},_(Z,{})),_("title",{},"Mi Carrito"),_("meta",{content:"favicon.ico",property:"og:image"}))});export{p_ as default};
