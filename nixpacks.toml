# Configuración de Nixpacks para Likemodas (Versión Minimalista)
# Solo definimos los proveedores, Nixpacks resolverá las versiones compatibles automáticamente.
providers = ["python", "node"]

[phases.setup]
# Instalamos solo las librerías de sistema indispensables para Pillow/OpenCV/ZBar
# NO especificamos nodejs/npm/python aquí para evitar conflictos con los providers.
aptPkgs = ["libjpeg-dev", "zlib1g-dev", "libpng-dev", "libzbar-dev", "ghostscript", "gcc"]

[phases.install]
# Instalamos dependencias de Python
cmds = ["python -m venv --copies /opt/venv && . /opt/venv/bin/activate && pip install --no-cache-dir -r requirements.txt"]

[start]
# Comando de inicio
cmd = "reflex run --env prod"