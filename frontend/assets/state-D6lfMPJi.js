import{x as getDefaultExportFromCjs,t as React,a as reactExports,o as useLocation,p as useNavigate,z as useParams,A as useSearchParams}from"./chunk-QMGIS6GS-CgUBpFMi.js";const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(t=>{PACKET_TYPES_REVERSE[PACKET_TYPES[t]]=t});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,encodePacket=({type:t,data:e},_,a)=>withNativeBlob$1&&e instanceof Blob?_?a(e):encodeBlobAsBase64(e,a):withNativeArrayBuffer$2&&(e instanceof ArrayBuffer||isView$1(e))?_?a(e):encodeBlobAsBase64(new Blob([e]),a):a(PACKET_TYPES[t]+(e||"")),encodeBlobAsBase64=(t,e)=>{const _=new FileReader;return _.onload=function(){const a=_.result.split(",")[1];e("b"+(a||""))},_.readAsDataURL(t)};function toArray(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(t,e){if(withNativeBlob$1&&t.data instanceof Blob)return t.data.arrayBuffer().then(toArray).then(e);if(withNativeArrayBuffer$2&&(t.data instanceof ArrayBuffer||isView$1(t.data)))return e(toArray(t.data));encodePacket(t,!1,_=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),e(TEXT_ENCODER.encode(_))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<chars.length;t++)lookup$1[chars.charCodeAt(t)]=t;const decode$1=t=>{let e=t.length*.75,_=t.length,a,r=0,s,u,o,i;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const E=new ArrayBuffer(e),h=new Uint8Array(E);for(a=0;a<_;a+=4)s=lookup$1[t.charCodeAt(a)],u=lookup$1[t.charCodeAt(a+1)],o=lookup$1[t.charCodeAt(a+2)],i=lookup$1[t.charCodeAt(a+3)],h[r++]=s<<2|u>>4,h[r++]=(u&15)<<4|o>>2,h[r++]=(o&3)<<6|i&63;return E},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(t,e)=>{if(typeof t!="string")return{type:"message",data:mapBinary(t,e)};const _=t.charAt(0);return _==="b"?{type:"message",data:decodeBase64Packet(t.substring(1),e)}:PACKET_TYPES_REVERSE[_]?t.length>1?{type:PACKET_TYPES_REVERSE[_],data:t.substring(1)}:{type:PACKET_TYPES_REVERSE[_]}:ERROR_PACKET},decodeBase64Packet=(t,e)=>{if(withNativeArrayBuffer$1){const _=decode$1(t);return mapBinary(_,e)}else return{base64:!0,data:t}},mapBinary=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},SEPARATOR="",encodePayload=(t,e)=>{const _=t.length,a=new Array(_);let r=0;t.forEach((s,u)=>{encodePacket(s,!1,o=>{a[u]=o,++r===_&&e(a.join(SEPARATOR))})})},decodePayload=(t,e)=>{const _=t.split(SEPARATOR),a=[];for(let r=0;r<_.length;r++){const s=decodePacket(_[r],e);if(a.push(s),s.type==="error")break}return a};function createPacketEncoderStream(){return new TransformStream({transform(t,e){encodePacketToBinary(t,_=>{const a=_.length;let r;if(a<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,a);else if(a<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,a)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(_)})}})}let TEXT_DECODER;function totalLength(t){return t.reduce((e,_)=>e+_.length,0)}function concatChunks(t,e){if(t[0].length===e)return t.shift();const _=new Uint8Array(e);let a=0;for(let r=0;r<e;r++)_[r]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),_}function createPacketDecoderStream(t,e){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const _=[];let a=0,r=-1,s=!1;return new TransformStream({transform(u,o){for(_.push(u);;){if(a===0){if(totalLength(_)<1)break;const i=concatChunks(_,1);s=(i[0]&128)===128,r=i[0]&127,r<126?a=3:r===126?a=1:a=2}else if(a===1){if(totalLength(_)<2)break;const i=concatChunks(_,2);r=new DataView(i.buffer,i.byteOffset,i.length).getUint16(0),a=3}else if(a===2){if(totalLength(_)<8)break;const i=concatChunks(_,8),E=new DataView(i.buffer,i.byteOffset,i.length),h=E.getUint32(0);if(h>Math.pow(2,21)-1){o.enqueue(ERROR_PACKET);break}r=h*Math.pow(2,32)+E.getUint32(4),a=3}else{if(totalLength(_)<r)break;const i=concatChunks(_,r);o.enqueue(decodePacket(s?i:TEXT_DECODER.decode(i),e)),a=0}if(r===0||r>t){o.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Emitter.prototype.once=function(t,e){function _(){this.off(t,_),e.apply(this,arguments)}return _.fn=e,this.on(t,_),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var _=this._callbacks["$"+t];if(!_)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,r=0;r<_.length;r++)if(a=_[r],a===e||a.fn===e){_.splice(r,1);break}return _.length===0&&delete this._callbacks["$"+t],this};Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),_=this._callbacks["$"+t],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(_){_=_.slice(0);for(var a=0,r=_.length;a<r;++a)_[a].apply(this,e)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,_)=>_(e,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(t,...e){return e.reduce((_,a)=>(t.hasOwnProperty(a)&&(_[a]=t[a]),_),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(t,e){e.useNativeTimers?(t.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),t.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(t.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),t.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(t){return typeof t=="string"?utf8Length(t):Math.ceil((t.byteLength||t.size)*BASE64_OVERHEAD)}function utf8Length(t){let e=0,_=0;for(let a=0,r=t.length;a<r;a++)e=t.charCodeAt(a),e<128?_+=1:e<2048?_+=2:e<55296||e>=57344?_+=3:(a++,_+=4);return _}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode(t){let e="";for(let _ in t)t.hasOwnProperty(_)&&(e.length&&(e+="&"),e+=encodeURIComponent(_)+"="+encodeURIComponent(t[_]));return e}function decode(t){let e={},_=t.split("&");for(let a=0,r=_.length;a<r;a++){let s=_[a].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class TransportError extends Error{constructor(e,_,a){super(e),this.description=_,this.context=a,this.type="TransportError"}}class Transport extends Emitter{constructor(e){super(),this.writable=!1,installTimerFunctions(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,_,a){return super.emitReserved("error",new TransportError(e,_,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const _=decodePacket(e,this.socket.binaryType);this.onPacket(_)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,_={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(_)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const _=encode(e);return _.length?"?"+_:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const _=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||_()})),this.writable||(a++,this.once("drain",function(){--a||_()}))}else _()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const _=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};decodePayload(e,this.socket.binaryType).forEach(_),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,encodePayload(e,_=>{this.doWrite(_,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",_=this.query||{};return this.opts.timestampRequests!==!1&&(_[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!_.sid&&(_.b64=1),this.createUri(e,_)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor(e){if(super(e),typeof location<"u"){const _=location.protocol==="https:";let a=location.port;a||(a=_?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port}}doWrite(e,_){const a=this.request({method:"POST",data:e});a.on("success",_),a.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(_,a)=>{this.onError("xhr poll error",_,a)}),this.pollXhr=e}}class Request extends Emitter{constructor(e,_,a){super(),this.createRequest=e,installTimerFunctions(this,a),this._opts=a,this._method=a.method||"GET",this._uri=_,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var e;const _=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");_.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(_);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&a.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var r;a.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const t="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(t,unloadHandler,!1)}}function unloadHandler(){for(let t in Request.requests)Request.requests.hasOwnProperty(t)&&Request.requests[t].abort()}const hasXHR2=function(){const t=newRequest({xdomain:!1});return t&&t.responseType!==null}();class XHR extends BaseXHR{constructor(e){super(e);const _=e&&e.forceBase64;this.supportsBinary=hasXHR2&&!_}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),e)}}function newRequest(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const e=this.uri(),_=this.opts.protocols,a=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,_,a)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let _=0;_<e.length;_++){const a=e[_],r=_===e.length-1;encodePacket(a,this.supportsBinary,s=>{try{this.doWrite(a,s)}catch{}r&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",_=this.query||{};return this.opts.timestampRequests&&(_[this.opts.timestampParam]=randomString()),this.supportsBinary||(_.b64=1),this.createUri(e,_)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket(e,_,a){return isReactNative?new WebSocketCtor(e,_,a):_?new WebSocketCtor(e,_):new WebSocketCtor(e)}doWrite(e,_){this.ws.send(_)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const _=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=e.readable.pipeThrough(_).getReader(),r=createPacketEncoderStream();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{a.read().then(({done:o,value:i})=>{o||(this.onPacket(i),s())}).catch(o=>{})};s();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let _=0;_<e.length;_++){const a=e[_],r=_===e.length-1;this._writer.write(a).then(()=>{r&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(t){if(t.length>8e3)throw"URI too long";const e=t,_=t.indexOf("["),a=t.indexOf("]");_!=-1&&a!=-1&&(t=t.substring(0,_)+t.substring(_,a).replace(/:/g,";")+t.substring(a,t.length));let r=re.exec(t||""),s={},u=14;for(;u--;)s[parts[u]]=r[u]||"";return _!=-1&&a!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=pathNames(s,s.path),s.queryKey=queryKey(s,s.query),s}function pathNames(t,e){const _=/\/{2,9}/g,a=e.replace(_,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&a.splice(0,1),e.slice(-1)=="/"&&a.splice(a.length-1,1),a}function queryKey(t,e){const _={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,r,s){r&&(_[r]=s)}),_}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(t=>t())},!1);class SocketWithoutUpgrade extends Emitter{constructor(e,_){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(_=e,e=null),e){const a=parse$2(e);_.hostname=a.host,_.secure=a.protocol==="https"||a.protocol==="wss",_.port=a.port,a.query&&(_.query=a.query)}else _.host&&(_.hostname=parse$2(_.host).host);installTimerFunctions(this,_),this.secure=_.secure!=null?_.secure:typeof location<"u"&&location.protocol==="https:",_.hostname&&!_.port&&(_.port=this.secure?"443":"80"),this.hostname=_.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=_.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},_.transports.forEach(a=>{const r=a.prototype.name;this.transports.push(r),this._transportsByName[r]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},_),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const _=Object.assign({},this.opts.query);_.EIO=protocol$1,_.transport=e,this.id&&(_.sid=this.id);const a=Object.assign({},this.opts,{query:_,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const _=this.createTransport(e);_.open(),this.setTransport(_)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",_=>this._onClose("transport close",_))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const _=new Error("server error");_.code=e.data,this._onError(_);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let _=1;for(let a=0;a<this.writeBuffer.length;a++){const r=this.writeBuffer[a].data;if(r&&(_+=byteLength(r)),a>0&&_>this._maxPayload)return this.writeBuffer.slice(0,a);_+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,_,a){return this._sendPacket("message",e,_,a),this}send(e,_,a){return this._sendPacket("message",e,_,a),this}_sendPacket(e,_,a,r){if(typeof _=="function"&&(r=_,_=void 0),typeof a=="function"&&(r=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const s={type:e,data:_,options:a};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},_=()=>{this.off("upgrade",_),this.off("upgradeError",_),e()},a=()=>{this.once("upgrade",_),this.once("upgradeError",_)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}_onError(e){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,_){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);a!==-1&&OFFLINE_EVENT_LISTENERS.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,_),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let _=this.createTransport(e),a=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const r=()=>{a||(_.send([{type:"ping",data:"probe"}]),_.once("packet",f=>{if(!a)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",_),!_)return;SocketWithoutUpgrade.priorWebsocketSuccess=_.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(h(),this.setTransport(_),_.send([{type:"upgrade"}]),this.emitReserved("upgrade",_),_=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=_.name,this.emitReserved("upgradeError",C)}}))};function s(){a||(a=!0,h(),_.close(),_=null)}const u=f=>{const C=new Error("probe error: "+f);C.transport=_.name,s(),this.emitReserved("upgradeError",C)};function o(){u("transport closed")}function i(){u("socket closed")}function E(f){_&&f.name!==_.name&&s()}const h=()=>{_.removeListener("open",r),_.removeListener("error",u),_.removeListener("close",o),this.off("close",i),this.off("upgrading",E)};_.once("open",r),_.once("error",u),_.once("close",o),this.once("close",i),this.once("upgrading",E),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{a||_.open()},200):_.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const _=[];for(let a=0;a<e.length;a++)~this.transports.indexOf(e[a])&&_.push(e[a]);return _}}let Socket$1=class extends SocketWithUpgrade{constructor(e,_={}){const a=typeof e=="object"?e:_;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(r=>transports[r]).filter(r=>!!r)),super(e,a)}};function url(t,e="",_){let a=t;_=_||typeof location<"u"&&location,t==null&&(t=_.protocol+"//"+_.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=_.protocol+t:t=_.host+t),/^(https?|wss?):\/\//.test(t)||(typeof _<"u"?t=_.protocol+"//"+t:t="https://"+t),a=parse$2(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const s=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+s+":"+a.port+e,a.href=a.protocol+"://"+s+(_&&_.port===a.port?"":":"+a.port),a}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(t){return withNativeArrayBuffer&&(t instanceof ArrayBuffer||isView(t))||withNativeBlob&&t instanceof Blob||withNativeFile&&t instanceof File}function hasBinary(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let _=0,a=t.length;_<a;_++)if(hasBinary(t[_]))return!0;return!1}if(isBinary(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return hasBinary(t.toJSON(),!0);for(const _ in t)if(Object.prototype.hasOwnProperty.call(t,_)&&hasBinary(t[_]))return!0;return!1}function deconstructPacket(t){const e=[],_=t.data,a=t;return a.data=_deconstructPacket(_,e),a.attachments=e.length,{packet:a,buffers:e}}function _deconstructPacket(t,e){if(!t)return t;if(isBinary(t)){const _={_placeholder:!0,num:e.length};return e.push(t),_}else if(Array.isArray(t)){const _=new Array(t.length);for(let a=0;a<t.length;a++)_[a]=_deconstructPacket(t[a],e);return _}else if(typeof t=="object"&&!(t instanceof Date)){const _={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(_[a]=_deconstructPacket(t[a],e));return _}return t}function reconstructPacket(t,e){return t.data=_reconstructPacket(t.data,e),delete t.attachments,t}function _reconstructPacket(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let _=0;_<t.length;_++)t[_]=_reconstructPacket(t[_],e);else if(typeof t=="object")for(const _ in t)Object.prototype.hasOwnProperty.call(t,_)&&(t[_]=_reconstructPacket(t[_],e));return t}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(e){this.replacer=e}encode(e){return(e.type===PacketType.EVENT||e.type===PacketType.ACK)&&hasBinary(e)?this.encodeAsBinary({type:e.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let _=""+e.type;return(e.type===PacketType.BINARY_EVENT||e.type===PacketType.BINARY_ACK)&&(_+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(_+=e.nsp+","),e.id!=null&&(_+=e.id),e.data!=null&&(_+=JSON.stringify(e.data,this.replacer)),_}encodeAsBinary(e){const _=deconstructPacket(e),a=this.encodeAsString(_.packet),r=_.buffers;return r.unshift(a),r}}function isObject(t){return Object.prototype.toString.call(t)==="[object Object]"}class Decoder extends Emitter{constructor(e){super(),this.reviver=e}add(e){let _;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");_=this.decodeString(e);const a=_.type===PacketType.BINARY_EVENT;a||_.type===PacketType.BINARY_ACK?(_.type=a?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(_),_.attachments===0&&super.emitReserved("decoded",_)):super.emitReserved("decoded",_)}else if(isBinary(e)||e.base64)if(this.reconstructor)_=this.reconstructor.takeBinaryData(e),_&&(this.reconstructor=null,super.emitReserved("decoded",_));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let _=0;const a={type:Number(e.charAt(0))};if(PacketType[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===PacketType.BINARY_EVENT||a.type===PacketType.BINARY_ACK){const s=_+1;for(;e.charAt(++_)!=="-"&&_!=e.length;);const u=e.substring(s,_);if(u!=Number(u)||e.charAt(_)!=="-")throw new Error("Illegal attachments");a.attachments=Number(u)}if(e.charAt(_+1)==="/"){const s=_+1;for(;++_&&!(e.charAt(_)===","||_===e.length););a.nsp=e.substring(s,_)}else a.nsp="/";const r=e.charAt(_+1);if(r!==""&&Number(r)==r){const s=_+1;for(;++_;){const u=e.charAt(_);if(u==null||Number(u)!=u){--_;break}if(_===e.length)break}a.id=Number(e.substring(s,_+1))}if(e.charAt(++_)){const s=this.tryParse(e.substr(_));if(Decoder.isPayloadValid(a.type,s))a.data=s;else throw new Error("invalid payload")}return a}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,_){switch(e){case PacketType.CONNECT:return isObject(_);case PacketType.DISCONNECT:return _===void 0;case PacketType.CONNECT_ERROR:return typeof _=="string"||isObject(_);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(_)&&(typeof _[0]=="number"||typeof _[0]=="string"&&RESERVED_EVENTS$1.indexOf(_[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(_)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const _=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),_}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(t,e,_){return t.on(e,_),function(){t.off(e,_)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(e,_,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=_,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[on(e,"open",this.onopen.bind(this)),on(e,"packet",this.onpacket.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,..._){var a,r,s;if(RESERVED_EVENTS.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(_.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(_),this;const u={type:PacketType.EVENT,data:_};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof _[_.length-1]=="function"){const h=this.ids++,f=_.pop();this._registerAckCallback(h,f),u.id=h}const o=(r=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||r===void 0?void 0:r.writable,i=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!o||(i?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,_){var a;const r=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(r===void 0){this.acks[e]=_;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);_.call(this,new Error("operation has timed out"))},r),u=(...o)=>{this.io.clearTimeoutFn(s),_.apply(this,o)};u.withError=!0,this.acks[e]=u}emitWithAck(e,..._){return new Promise((a,r)=>{const s=(u,o)=>u?r(u):a(o);s.withError=!0,_.push(s),this.emit(e,..._)})}_addToQueue(e){let _;typeof e[e.length-1]=="function"&&(_=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>a!==this._queue[0]?void 0:(r!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),_&&_(r)):(this._queue.shift(),_&&_(null,...s)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const _=this._queue[0];_.pending&&!e||(_.pending=!0,_.tryCount++,this.flags=_.flags,this.emit.apply(this,_.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,_){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,_),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(a=>String(a.id)===e)){const a=this.acks[e];delete this.acks[e],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(e);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(e);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const a=new Error(e.data.message);a.data=e.data.data,this.emitReserved("connect_error",a);break}}onevent(e){const _=e.data||[];e.id!=null&&_.push(this.ack(e.id)),this.connected?this.emitEvent(_):this.receiveBuffer.push(Object.freeze(_))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const _=this._anyListeners.slice();for(const a of _)a.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const _=this;let a=!1;return function(...r){a||(a=!0,_.packet({type:PacketType.ACK,id:e,data:r}))}}onack(e){const _=this.acks[e.id];typeof _=="function"&&(delete this.acks[e.id],_.withError&&e.data.unshift(null),_.apply(this,e.data))}onconnect(e,_){this.id=e,this.recovered=_&&this._pid===_,this._pid=_,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const _=this._anyListeners;for(let a=0;a<_.length;a++)if(e===_[a])return _.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const _=this._anyOutgoingListeners;for(let a=0;a<_.length;a++)if(e===_[a])return _.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const _=this._anyOutgoingListeners.slice();for(const a of _)a.apply(this,e.data)}}}function Backoff(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),_=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-_:t+_}return Math.min(t,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(t){this.ms=t};Backoff.prototype.setMax=function(t){this.max=t};Backoff.prototype.setJitter=function(t){this.jitter=t};class Manager extends Emitter{constructor(e,_){var a;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(_=e,e=void 0),_=_||{},_.path=_.path||"/socket.io",this.opts=_,installTimerFunctions(this,_),this.reconnection(_.reconnection!==!1),this.reconnectionAttempts(_.reconnectionAttempts||1/0),this.reconnectionDelay(_.reconnectionDelay||1e3),this.reconnectionDelayMax(_.reconnectionDelayMax||5e3),this.randomizationFactor((a=_.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(_.timeout==null?2e4:_.timeout),this._readyState="closed",this.uri=e;const r=_.parser||parser;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=_.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var _;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(_=this.backoff)===null||_===void 0||_.setMin(e),this)}randomizationFactor(e){var _;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(_=this.backoff)===null||_===void 0||_.setJitter(e),this)}reconnectionDelayMax(e){var _;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(_=this.backoff)===null||_===void 0||_.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const _=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const r=on(_,"open",function(){a.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},u=on(_,"error",s);if(this._timeout!==!1){const o=this._timeout,i=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),_.close()},o);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}return this.subs.push(r),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(on(e,"ping",this.onping.bind(this)),on(e,"data",this.ondata.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(_){this.onclose("parse error",_)}}ondecoded(e){nextTick(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,_){let a=this.nsps[e];return a?this._autoConnect&&!a.active&&a.connect():(a=new Socket(this,e,_),this.nsps[e]=a),a}_destroy(e){const _=Object.keys(this.nsps);for(const a of _)if(this.nsps[a].active)return;this._close()}_packet(e){const _=this.encoder.encode(e);for(let a=0;a<_.length;a++)this.engine.write(_[a],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,_){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,_),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const _=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},_);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const cache={};function lookup(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const _=url(t,e.path||"/socket.io"),a=_.source,r=_.id,s=_.path,u=cache[r]&&s in cache[r].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let i;return o?i=new Manager(a,e):(cache[r]||(cache[r]=new Manager(a,e)),i=cache[r]),_.query&&!e.query&&(e.query=_.queryKey),i.socket(_.path,e)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,unicode={Space_Separator,ID_Start,ID_Continue},util={isSpaceSeparator(t){return typeof t=="string"&&unicode.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||unicode.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t===""||t===""||unicode.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let source,parseState,stack,pos,line$1,column$1,token$2,key,root;var parse$1=function(e,_){source=String(e),parseState="start",stack=[],pos=0,line$1=1,column$1=0,token$2=void 0,key=void 0,root=void 0;do token$2=lex(),parseStates[parseState]();while(token$2.type!=="eof");return typeof _=="function"?internalize({"":root},"",_):root};function internalize(t,e,_){const a=t[e];if(a!=null&&typeof a=="object")if(Array.isArray(a))for(let r=0;r<a.length;r++){const s=String(r),u=internalize(a,s,_);u===void 0?delete a[s]:Object.defineProperty(a,s,{value:u,writable:!0,enumerable:!0,configurable:!0})}else for(const r in a){const s=internalize(a,r,_);s===void 0?delete a[r]:Object.defineProperty(a,r,{value:s,writable:!0,enumerable:!0,configurable:!0})}return _.call(t,e,a)}let lexState,buffer,doubleQuote,sign,c;function lex(){for(lexState="default",buffer="",doubleQuote=!1,sign=1;;){c=peek$1();const t=lexStates[lexState]();if(t)return t}}function peek$1(){if(source[pos])return String.fromCodePoint(source.codePointAt(pos))}function read(){const t=peek$1();return t===`
`?(line$1++,column$1=0):t?column$1+=t.length:column$1++,t&&(pos+=t.length),t}const lexStates={default(){switch(c){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":read();return;case"/":read(),lexState="comment";return;case void 0:return read(),newToken("eof")}if(util.isSpaceSeparator(c)){read();return}return lexStates[parseState]()},comment(){switch(c){case"*":read(),lexState="multiLineComment";return;case"/":read(),lexState="singleLineComment";return}throw invalidChar(read())},multiLineComment(){switch(c){case"*":read(),lexState="multiLineCommentAsterisk";return;case void 0:throw invalidChar(read())}read()},multiLineCommentAsterisk(){switch(c){case"*":read();return;case"/":read(),lexState="default";return;case void 0:throw invalidChar(read())}read(),lexState="multiLineComment"},singleLineComment(){switch(c){case`
`:case"\r":case"\u2028":case"\u2029":read(),lexState="default";return;case void 0:return read(),newToken("eof")}read()},value(){switch(c){case"{":case"[":return newToken("punctuator",read());case"n":return read(),literal("ull"),newToken("null",null);case"t":return read(),literal("rue"),newToken("boolean",!0);case"f":return read(),literal("alse"),newToken("boolean",!1);case"-":case"+":read()==="-"&&(sign=-1),lexState="sign";return;case".":buffer=read(),lexState="decimalPointLeading";return;case"0":buffer=read(),lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read(),lexState="decimalInteger";return;case"I":return read(),literal("nfinity"),newToken("numeric",1/0);case"N":return read(),literal("aN"),newToken("numeric",NaN);case'"':case"'":doubleQuote=read()==='"',buffer="",lexState="string";return}throw invalidChar(read())},identifierNameStartEscape(){if(c!=="u")throw invalidChar(read());read();const t=unicodeEscape();switch(t){case"$":case"_":break;default:if(!util.isIdStartChar(t))throw invalidIdentifier();break}buffer+=t,lexState="identifierName"},identifierName(){switch(c){case"$":case"_":case"":case"":buffer+=read();return;case"\\":read(),lexState="identifierNameEscape";return}if(util.isIdContinueChar(c)){buffer+=read();return}return newToken("identifier",buffer)},identifierNameEscape(){if(c!=="u")throw invalidChar(read());read();const t=unicodeEscape();switch(t){case"$":case"_":case"":case"":break;default:if(!util.isIdContinueChar(t))throw invalidIdentifier();break}buffer+=t,lexState="identifierName"},sign(){switch(c){case".":buffer=read(),lexState="decimalPointLeading";return;case"0":buffer=read(),lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read(),lexState="decimalInteger";return;case"I":return read(),literal("nfinity"),newToken("numeric",sign*(1/0));case"N":return read(),literal("aN"),newToken("numeric",NaN)}throw invalidChar(read())},zero(){switch(c){case".":buffer+=read(),lexState="decimalPoint";return;case"e":case"E":buffer+=read(),lexState="decimalExponent";return;case"x":case"X":buffer+=read(),lexState="hexadecimal";return}return newToken("numeric",sign*0)},decimalInteger(){switch(c){case".":buffer+=read(),lexState="decimalPoint";return;case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},decimalPointLeading(){if(util.isDigit(c)){buffer+=read(),lexState="decimalFraction";return}throw invalidChar(read())},decimalPoint(){switch(c){case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util.isDigit(c)){buffer+=read(),lexState="decimalFraction";return}return newToken("numeric",sign*Number(buffer))},decimalFraction(){switch(c){case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},decimalExponent(){switch(c){case"+":case"-":buffer+=read(),lexState="decimalExponentSign";return}if(util.isDigit(c)){buffer+=read(),lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentSign(){if(util.isDigit(c)){buffer+=read(),lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentInteger(){if(util.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},hexadecimal(){if(util.isHexDigit(c)){buffer+=read(),lexState="hexadecimalInteger";return}throw invalidChar(read())},hexadecimalInteger(){if(util.isHexDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},string(){switch(c){case"\\":read(),buffer+=escape();return;case'"':if(doubleQuote)return read(),newToken("string",buffer);buffer+=read();return;case"'":if(!doubleQuote)return read(),newToken("string",buffer);buffer+=read();return;case`
`:case"\r":throw invalidChar(read());case"\u2028":case"\u2029":separatorChar(c);break;case void 0:throw invalidChar(read())}buffer+=read()},start(){switch(c){case"{":case"[":return newToken("punctuator",read())}lexState="value"},beforePropertyName(){switch(c){case"$":case"_":buffer=read(),lexState="identifierName";return;case"\\":read(),lexState="identifierNameStartEscape";return;case"}":return newToken("punctuator",read());case'"':case"'":doubleQuote=read()==='"',lexState="string";return}if(util.isIdStartChar(c)){buffer+=read(),lexState="identifierName";return}throw invalidChar(read())},afterPropertyName(){if(c===":")return newToken("punctuator",read());throw invalidChar(read())},beforePropertyValue(){lexState="value"},afterPropertyValue(){switch(c){case",":case"}":return newToken("punctuator",read())}throw invalidChar(read())},beforeArrayValue(){if(c==="]")return newToken("punctuator",read());lexState="value"},afterArrayValue(){switch(c){case",":case"]":return newToken("punctuator",read())}throw invalidChar(read())},end(){throw invalidChar(read())}};function newToken(t,e){return{type:t,value:e,line:line$1,column:column$1}}function literal(t){for(const e of t){if(peek$1()!==e)throw invalidChar(read());read()}}function escape(){switch(peek$1()){case"b":return read(),"\b";case"f":return read(),"\f";case"n":return read(),`
`;case"r":return read(),"\r";case"t":return read(),"	";case"v":return read(),"\v";case"0":if(read(),util.isDigit(peek$1()))throw invalidChar(read());return"\0";case"x":return read(),hexEscape();case"u":return read(),unicodeEscape();case`
`:case"\u2028":case"\u2029":return read(),"";case"\r":return read(),peek$1()===`
`&&read(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw invalidChar(read());case void 0:throw invalidChar(read())}return read()}function hexEscape(){let t="",e=peek$1();if(!util.isHexDigit(e)||(t+=read(),e=peek$1(),!util.isHexDigit(e)))throw invalidChar(read());return t+=read(),String.fromCodePoint(parseInt(t,16))}function unicodeEscape(){let t="",e=4;for(;e-- >0;){const _=peek$1();if(!util.isHexDigit(_))throw invalidChar(read());t+=read()}return String.fromCodePoint(parseInt(t,16))}const parseStates={start(){if(token$2.type==="eof")throw invalidEOF();push()},beforePropertyName(){switch(token$2.type){case"identifier":case"string":key=token$2.value,parseState="afterPropertyName";return;case"punctuator":pop();return;case"eof":throw invalidEOF()}},afterPropertyName(){if(token$2.type==="eof")throw invalidEOF();parseState="beforePropertyValue"},beforePropertyValue(){if(token$2.type==="eof")throw invalidEOF();push()},beforeArrayValue(){if(token$2.type==="eof")throw invalidEOF();if(token$2.type==="punctuator"&&token$2.value==="]"){pop();return}push()},afterPropertyValue(){if(token$2.type==="eof")throw invalidEOF();switch(token$2.value){case",":parseState="beforePropertyName";return;case"}":pop()}},afterArrayValue(){if(token$2.type==="eof")throw invalidEOF();switch(token$2.value){case",":parseState="beforeArrayValue";return;case"]":pop()}},end(){}};function push(){let t;switch(token$2.type){case"punctuator":switch(token$2.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=token$2.value;break}if(root===void 0)root=t;else{const e=stack[stack.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,key,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")stack.push(t),Array.isArray(t)?parseState="beforeArrayValue":parseState="beforePropertyName";else{const e=stack[stack.length-1];e==null?parseState="end":Array.isArray(e)?parseState="afterArrayValue":parseState="afterPropertyValue"}}function pop(){stack.pop();const t=stack[stack.length-1];t==null?parseState="end":Array.isArray(t)?parseState="afterArrayValue":parseState="afterPropertyValue"}function invalidChar(t){return syntaxError(t===void 0?`JSON5: invalid end of input at ${line$1}:${column$1}`:`JSON5: invalid character '${formatChar(t)}' at ${line$1}:${column$1}`)}function invalidEOF(){return syntaxError(`JSON5: invalid end of input at ${line$1}:${column$1}`)}function invalidIdentifier(){return column$1-=5,syntaxError(`JSON5: invalid identifier character at ${line$1}:${column$1}`)}function separatorChar(t){console.warn(`JSON5: '${formatChar(t)}' in strings is not valid ECMAScript; consider escaping`)}function formatChar(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const _=t.charCodeAt(0).toString(16);return"\\x"+("00"+_).substring(_.length)}return t}function syntaxError(t){const e=new SyntaxError(t);return e.lineNumber=line$1,e.columnNumber=column$1,e}var stringify$1=function(e,_,a){const r=[];let s="",u,o,i="",E;if(_!=null&&typeof _=="object"&&!Array.isArray(_)&&(a=_.space,E=_.quote,_=_.replacer),typeof _=="function")o=_;else if(Array.isArray(_)){u=[];for(const n of _){let d;typeof n=="string"?d=n:(typeof n=="number"||n instanceof String||n instanceof Number)&&(d=String(n)),d!==void 0&&u.indexOf(d)<0&&u.push(d)}}return a instanceof Number?a=Number(a):a instanceof String&&(a=String(a)),typeof a=="number"?a>0&&(a=Math.min(10,Math.floor(a)),i="          ".substr(0,a)):typeof a=="string"&&(i=a.substr(0,10)),h("",{"":e});function h(n,d){let l=d[n];switch(l!=null&&(typeof l.toJSON5=="function"?l=l.toJSON5(n):typeof l.toJSON=="function"&&(l=l.toJSON(n))),o&&(l=o.call(d,n,l)),l instanceof Number?l=Number(l):l instanceof String?l=String(l):l instanceof Boolean&&(l=l.valueOf()),l){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof l=="string")return f(l);if(typeof l=="number")return String(l);if(typeof l=="object")return Array.isArray(l)?y(l):C(l)}function f(n){const d={"'":.1,'"':.2},l={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let p="";for(let x=0;x<n.length;x++){const g=n[x];switch(g){case"'":case'"':d[g]++,p+=g;continue;case"\0":if(util.isDigit(n[x+1])){p+="\\x00";continue}}if(l[g]){p+=l[g];continue}if(g<" "){let A=g.charCodeAt(0).toString(16);p+="\\x"+("00"+A).substring(A.length);continue}p+=g}const m=E||Object.keys(d).reduce((x,g)=>d[x]<d[g]?x:g);return p=p.replace(new RegExp(m,"g"),l[m]),m+p+m}function C(n){if(r.indexOf(n)>=0)throw TypeError("Converting circular structure to JSON5");r.push(n);let d=s;s=s+i;let l=u||Object.keys(n),p=[];for(const x of l){const g=h(x,n);if(g!==void 0){let A=D(x)+":";i!==""&&(A+=" "),A+=g,p.push(A)}}let m;if(p.length===0)m="{}";else{let x;if(i==="")x=p.join(","),m="{"+x+"}";else{let g=`,
`+s;x=p.join(g),m=`{
`+s+x+`,
`+d+"}"}}return r.pop(),s=d,m}function D(n){if(n.length===0)return f(n);const d=String.fromCodePoint(n.codePointAt(0));if(!util.isIdStartChar(d))return f(n);for(let l=d.length;l<n.length;l++)if(!util.isIdContinueChar(String.fromCodePoint(n.codePointAt(l))))return f(n);return n}function y(n){if(r.indexOf(n)>=0)throw TypeError("Converting circular structure to JSON5");r.push(n);let d=s;s=s+i;let l=[];for(let m=0;m<n.length;m++){const x=h(String(m),n);l.push(x!==void 0?x:"null")}let p;if(l.length===0)p="[]";else if(i==="")p="["+l.join(",")+"]";else{let m=`,
`+s,x=l.join(m);p=`[
`+s+x+`,
`+d+"]"}return r.pop(),s=d,p}};const JSON5={parse:parse$1,stringify:stringify$1};var lib=JSON5;const EVENT="wss://full-stack-python-production.up.railway.app/_event",UPLOAD="https://full-stack-python-production.up.railway.app/_upload",env={EVENT,UPLOAD},version="0.8.1",reflexEnvironment={version};var cookie={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var hasRequiredCookie;function requireCookie(){if(hasRequiredCookie)return cookie;hasRequiredCookie=1,cookie.parse=u,cookie.serialize=E;var t=Object.prototype.toString,e=Object.prototype.hasOwnProperty,_=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,a=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(D,y){if(typeof D!="string")throw new TypeError("argument str must be a string");var n={},d=D.length;if(d<2)return n;var l=y&&y.decode||h,p=0,m=0,x=0;do{if(m=D.indexOf("=",p),m===-1)break;if(x=D.indexOf(";",p),x===-1)x=d;else if(m>x){p=D.lastIndexOf(";",m-1)+1;continue}var g=o(D,p,m),A=i(D,m,g),F=D.slice(g,A);if(!e.call(n,F)){var v=o(D,m+1,x),k=i(D,x,v);D.charCodeAt(v)===34&&D.charCodeAt(k-1)===34&&(v++,k--);var b=D.slice(v,k);n[F]=C(b,l)}p=x+1}while(p<d);return n}function o(D,y,n){do{var d=D.charCodeAt(y);if(d!==32&&d!==9)return y}while(++y<n);return n}function i(D,y,n){for(;y>n;){var d=D.charCodeAt(--y);if(d!==32&&d!==9)return y+1}return n}function E(D,y,n){var d=n&&n.encode||encodeURIComponent;if(typeof d!="function")throw new TypeError("option encode is invalid");if(!_.test(D))throw new TypeError("argument name is invalid");var l=d(y);if(!a.test(l))throw new TypeError("argument val is invalid");var p=D+"="+l;if(!n)return p;if(n.maxAge!=null){var m=Math.floor(n.maxAge);if(!isFinite(m))throw new TypeError("option maxAge is invalid");p+="; Max-Age="+m}if(n.domain){if(!r.test(n.domain))throw new TypeError("option domain is invalid");p+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");p+="; Path="+n.path}if(n.expires){var x=n.expires;if(!f(x)||isNaN(x.valueOf()))throw new TypeError("option expires is invalid");p+="; Expires="+x.toUTCString()}if(n.httpOnly&&(p+="; HttpOnly"),n.secure&&(p+="; Secure"),n.partitioned&&(p+="; Partitioned"),n.priority){var g=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(g){case"low":p+="; Priority=Low";break;case"medium":p+="; Priority=Medium";break;case"high":p+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var A=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(A){case!0:p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"strict":p+="; SameSite=Strict";break;case"none":p+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return p}function h(D){return D.indexOf("%")!==-1?decodeURIComponent(D):D}function f(D){return t.call(D)==="[object Date]"}function C(D,y){try{return y(D)}catch{return D}}return cookie}var cookieExports=requireCookie();function hasDocumentCookie(){const t=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof t=="boolean"?t:typeof document=="object"&&typeof document.cookie=="string"}function parseCookies(t){return typeof t=="string"?cookieExports.parse(t):typeof t=="object"&&t!==null?t:{}}function readCookie(t,e={}){const _=cleanupCookieValue(t);if(!e.doNotParse)try{return JSON.parse(_)}catch{}return t}function cleanupCookieValue(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}class Cookies{constructor(e,_={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const r=this.cookies;this.cookies=cookieExports.parse(document.cookie),this._checkChanges(r)};const a=typeof document>"u"?"":document.cookie;this.cookies=parseCookies(e||a),this.defaultSetOptions=_,this.HAS_DOCUMENT_COOKIE=hasDocumentCookie()}_emitChange(e){for(let _=0;_<this.changeListeners.length;++_)this.changeListeners[_](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(a=>{e[a]!==this.cookies[a]&&this._emitChange({name:a,value:readCookie(this.cookies[a])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,_={}){return _.doNotUpdate||this.update(),readCookie(this.cookies[e],_)}getAll(e={}){e.doNotUpdate||this.update();const _={};for(let a in this.cookies)_[a]=readCookie(this.cookies[a],e);return _}set(e,_,a){a?a=Object.assign(Object.assign({},this.defaultSetOptions),a):a=this.defaultSetOptions;const r=typeof _=="string"?_:JSON.stringify(_);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:r}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=cookieExports.serialize(e,r,a)),this._emitChange({name:e,value:_,options:a})}remove(e,_){const a=_=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),_),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=cookieExports.serialize(e,"",a)),this._emitChange({name:e,value:void 0,options:_})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const _=this.changeListeners.indexOf(e);_>=0&&this.changeListeners.splice(_,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}function sheetForTag(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function createStyleElement(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var StyleSheet=function(){function t(_){var a=this;this._insertTag=function(r){var s;a.tags.length===0?a.insertionPoint?s=a.insertionPoint.nextSibling:a.prepend?s=a.container.firstChild:s=a.before:s=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(r,s),a.tags.push(r)},this.isSpeedy=_.speedy===void 0?!0:_.speedy,this.tags=[],this.ctr=0,this.nonce=_.nonce,this.key=_.key,this.container=_.container,this.prepend=_.prepend,this.insertionPoint=_.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(a){a.forEach(this._insertTag)},e.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=sheetForTag(r);try{s.insertRule(a,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(a));this.ctr++},e.flush=function(){this.tags.forEach(function(a){var r;return(r=a.parentNode)==null?void 0:r.removeChild(a)}),this.tags=[],this.ctr=0},t}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(t,e){return charat(t,0)^45?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,_){return t.replace(e,_)}function indexof(t,e){return t.indexOf(e)}function charat(t,e){return t.charCodeAt(e)|0}function substr(t,e,_){return t.slice(e,_)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(t,e,_,a,r,s,u){return{value:t,root:e,parent:_,type:a,props:r,children:s,line,column,length:u,return:""}}function copy(t,e){return assign(node("",null,null,"",null,null,0),t,{length:-t.length},e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(t,e){return substr(characters,t,e)}function token$1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line=column=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim(slice(position-1,delimiter(t===91?t+2:t===40?t+1:t)))}function whitespace(t){for(;(character=peek())&&character<33;)next();return token$1(t)>2||token$1(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(t,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:t!==34&&t!==39&&delimiter(character);break;case 40:t===41&&delimiter(t);break;case 92:next();break}return position}function commenter(t,e){for(;next()&&t+character!==57;)if(t+character===84&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(t===47?t:next())}function identifier(t){for(;!token$1(peek());)next();return slice(t,position)}function compile(t){return dealloc(parse("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse(t,e,_,a,r,s,u,o,i){for(var E=0,h=0,f=u,C=0,D=0,y=0,n=1,d=1,l=1,p=0,m="",x=r,g=s,A=a,F=m;d;)switch(y=p,p=next()){case 40:if(y!=108&&charat(F,f-1)==58){indexof(F+=replace(delimit(p),"&","&\f"),"&\f")!=-1&&(l=-1);break}case 34:case 39:case 91:F+=delimit(p);break;case 9:case 10:case 13:case 32:F+=whitespace(y);break;case 92:F+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,_),i);break;default:F+="/"}break;case 123*n:o[E++]=strlen(F)*l;case 125*n:case 59:case 0:switch(p){case 0:case 125:d=0;case 59+h:l==-1&&(F=replace(F,/\f/g,"")),D>0&&strlen(F)-f&&append(D>32?declaration(F+";",a,_,f-1):declaration(replace(F," ","")+";",a,_,f-2),i);break;case 59:F+=";";default:if(append(A=ruleset(F,e,_,E,h,r,o,m,x=[],g=[],f),s),p===123)if(h===0)parse(F,e,A,A,x,s,f,o,g);else switch(C===99&&charat(F,3)===110?100:C){case 100:case 108:case 109:case 115:parse(t,A,A,a&&append(ruleset(t,A,A,0,0,r,o,m,r,x=[],f),g),r,g,f,o,a?x:g);break;default:parse(F,A,A,A,[""],g,0,o,g)}}E=h=D=0,n=l=1,m=F="",f=u;break;case 58:f=1+strlen(F),D=y;default:if(n<1){if(p==123)--n;else if(p==125&&n++==0&&prev()==125)continue}switch(F+=from(p),p*n){case 38:l=h>0?1:(F+="\f",-1);break;case 44:o[E++]=(strlen(F)-1)*l,l=1;break;case 64:peek()===45&&(F+=delimit(next())),C=peek(),h=f=strlen(m=F+=identifier(caret())),p++;break;case 45:y===45&&strlen(F)==2&&(n=0)}}return s}function ruleset(t,e,_,a,r,s,u,o,i,E,h){for(var f=r-1,C=r===0?s:[""],D=sizeof(C),y=0,n=0,d=0;y<a;++y)for(var l=0,p=substr(t,f+1,f=abs(n=u[y])),m=t;l<D;++l)(m=trim(n>0?C[l]+" "+p:replace(p,/&\f/g,C[l])))&&(i[d++]=m);return node(t,e,_,r===0?RULESET:o,i,E,h)}function comment(t,e,_){return node(t,e,_,COMMENT,from(char()),substr(t,2,-2),0)}function declaration(t,e,_,a){return node(t,e,_,DECLARATION,substr(t,0,a),substr(t,a+1,-1),a)}function serialize(t,e){for(var _="",a=sizeof(t),r=0;r<a;r++)_+=e(t[r],r,t,e)||"";return _}function stringify(t,e,_,a){switch(t.type){case LAYER:if(t.children.length)break;case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,a)+"}";case RULESET:t.value=t.props.join(",")}return strlen(_=serialize(t.children,a))?t.return=t.value+"{"+_+"}":""}function middleware(t){var e=sizeof(t);return function(_,a,r,s){for(var u="",o=0;o<e;o++)u+=t[o](_,a,r,s)||"";return u}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}var weakMemoize=function(e){var _=new WeakMap;return function(a){if(_.has(a))return _.get(a);var r=e(a);return _.set(a,r),r}};function memoize(t){var e=Object.create(null);return function(_){return e[_]===void 0&&(e[_]=t(_)),e[_]}}var identifierWithPointTracking=function(e,_,a){for(var r=0,s=0;r=s,s=peek(),r===38&&s===12&&(_[a]=1),!token$1(s);)next();return slice(e,position)},toRules=function(e,_){var a=-1,r=44;do switch(token$1(r)){case 0:r===38&&peek()===12&&(_[a]=1),e[a]+=identifierWithPointTracking(position-1,_,a);break;case 2:e[a]+=delimit(r);break;case 4:if(r===44){e[++a]=peek()===58?"&\f":"",_[a]=e[a].length;break}default:e[a]+=from(r)}while(r=next());return e},getRules=function(e,_){return dealloc(toRules(alloc(e),_))},fixedElements=new WeakMap,compat=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var _=e.value,a=e.parent,r=e.column===a.column&&e.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(e.props.length===1&&_.charCodeAt(0)!==58&&!fixedElements.get(a))&&!r){fixedElements.set(e,!0);for(var s=[],u=getRules(_,s),o=a.props,i=0,E=0;i<u.length;i++)for(var h=0;h<o.length;h++,E++)e.props[E]=s[i]?u[i].replace(/&\f/g,o[h]):o[h]+" "+u[i]}}},removeLabel=function(e){if(e.type==="decl"){var _=e.value;_.charCodeAt(0)===108&&_.charCodeAt(2)===98&&(e.return="",e.value="")}};function prefix(t,e){switch(hash(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 6828:case 4268:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/,"")+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(charat(t,e+4)!==45)break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch")?prefix(replace(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(charat(t,e+1)!==115)break;case 6444:switch(charat(t,strlen(t)-3-(~indexof(t,"!important")&&10))){case 107:return replace(t,":",":"+WEBKIT)+t;case 101:return replace(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(t,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t}break;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return WEBKIT+t+MS+t+t}return t}var prefixer=function(e,_,a,r){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length);break;case KEYFRAMES:return serialize([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],r);case RULESET:if(e.length)return combine(e.props,function(s){switch(match(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(e,{props:[replace(s,/:(read-\w+)/,":"+MOZ+"$1")]})],r);case"::placeholder":return serialize([copy(e,{props:[replace(s,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(e,{props:[replace(s,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(e,{props:[replace(s,/:(plac\w+)/,MS+"input-$1")]})],r)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(e){var _=e.key;if(_==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(n){var d=n.getAttribute("data-emotion");d.indexOf(" ")!==-1&&(document.head.appendChild(n),n.setAttribute("data-s",""))})}var r=e.stylisPlugins||defaultStylisPlugins,s={},u,o=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+_+' "]'),function(n){for(var d=n.getAttribute("data-emotion").split(" "),l=1;l<d.length;l++)s[d[l]]=!0;o.push(n)});var i,E=[compat,removeLabel];{var h,f=[stringify,rulesheet(function(n){h.insert(n)})],C=middleware(E.concat(r,f)),D=function(d){return serialize(compile(d),C)};i=function(d,l,p,m){h=p,D(d?d+"{"+l.styles+"}":l.styles),m&&(y.inserted[l.name]=!0)}}var y={key:_,sheet:new StyleSheet({key:_,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return y.sheet.hydrate(o),y};function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var _=arguments[e];for(var a in _)({}).hasOwnProperty.call(_,a)&&(t[a]=_[a])}return t},_extends.apply(null,arguments)}var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),C=Symbol.for("react.view_transition"),D=Symbol.for("react.client.reference");function y(n){if(typeof n=="object"&&n!==null){var d=n.$$typeof;switch(d){case t:switch(n=n.type,n){case _:case r:case a:case i:case E:case C:return n;default:switch(n=n&&n.$$typeof,n){case u:case o:case f:case h:return n;case s:return n;default:return d}}case e:return d}}}return reactIs_production.ContextConsumer=s,reactIs_production.ContextProvider=u,reactIs_production.Element=t,reactIs_production.ForwardRef=o,reactIs_production.Fragment=_,reactIs_production.Lazy=f,reactIs_production.Memo=h,reactIs_production.Portal=e,reactIs_production.Profiler=r,reactIs_production.StrictMode=a,reactIs_production.Suspense=i,reactIs_production.SuspenseList=E,reactIs_production.isContextConsumer=function(n){return y(n)===s},reactIs_production.isContextProvider=function(n){return y(n)===u},reactIs_production.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===t},reactIs_production.isForwardRef=function(n){return y(n)===o},reactIs_production.isFragment=function(n){return y(n)===_},reactIs_production.isLazy=function(n){return y(n)===f},reactIs_production.isMemo=function(n){return y(n)===h},reactIs_production.isPortal=function(n){return y(n)===e},reactIs_production.isProfiler=function(n){return y(n)===r},reactIs_production.isStrictMode=function(n){return y(n)===a},reactIs_production.isSuspense=function(n){return y(n)===i},reactIs_production.isSuspenseList=function(n){return y(n)===E},reactIs_production.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===_||n===r||n===a||n===i||n===E||typeof n=="object"&&n!==null&&(n.$$typeof===f||n.$$typeof===h||n.$$typeof===u||n.$$typeof===s||n.$$typeof===o||n.$$typeof===D||n.getModuleId!==void 0)},reactIs_production.typeOf=y,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var t=requireReactIs(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=a,s[t.Memo]=r;function u(y){return t.isMemo(y)?r:s[y.$$typeof]||e}var o=Object.defineProperty,i=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,C=Object.prototype;function D(y,n,d){if(typeof n!="string"){if(C){var l=f(n);l&&l!==C&&D(y,l,d)}var p=i(n);E&&(p=p.concat(E(n)));for(var m=u(y),x=u(n),g=0;g<p.length;++g){var A=p[g];if(!_[A]&&!(d&&d[A])&&!(x&&x[A])&&!(m&&m[A])){var F=h(n,A);try{o(y,A,F)}catch{}}}}return y}return hoistNonReactStatics_cjs=D,hoistNonReactStatics_cjs}var hoistNonReactStatics_cjsExports=requireHoistNonReactStatics_cjs();const hoistNonReactStatics$1=getDefaultExportFromCjs(hoistNonReactStatics_cjsExports);var hoistNonReactStatics=function(t,e){return hoistNonReactStatics$1(t,e)},isBrowser=!0;function getRegisteredStyles(t,e,_){var a="";return _.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(a+=r+" ")}),a}var registerStyles=function(e,_,a){var r=e.key+"-"+_.name;(a===!1||isBrowser===!1)&&e.registered[r]===void 0&&(e.registered[r]=_.styles)},insertStyles=function(e,_,a){registerStyles(e,_,a);var r=e.key+"-"+_.name;if(e.inserted[_.name]===void 0){var s=_;do e.insert(_===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function murmur2(t){for(var e=0,_,a=0,r=t.length;r>=4;++a,r-=4)_=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,_=(_&65535)*1540483477+((_>>>16)*59797<<16),_^=_>>>24,e=(_&65535)*1540483477+((_>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(a+2)&255)<<16;case 2:e^=(t.charCodeAt(a+1)&255)<<8;case 1:e^=t.charCodeAt(a)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(e){return e.charCodeAt(1)===45},isProcessableValue=function(e){return e!=null&&typeof e!="boolean"},processStyleName=memoize(function(t){return isCustomProperty(t)?t:t.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(e,_){switch(e){case"animation":case"animationName":if(typeof _=="string")return _.replace(animationRegex,function(a,r,s){return cursor={name:r,styles:s,next:cursor},r})}return unitlessKeys[e]!==1&&!isCustomProperty(e)&&typeof _=="number"&&_!==0?_+"px":_};function handleInterpolation(t,e,_){if(_==null)return"";var a=_;if(a.__emotion_styles!==void 0)return a;switch(typeof _){case"boolean":return"";case"object":{var r=_;if(r.anim===1)return cursor={name:r.name,styles:r.styles,next:cursor},r.name;var s=_;if(s.styles!==void 0){var u=s.next;if(u!==void 0)for(;u!==void 0;)cursor={name:u.name,styles:u.styles,next:cursor},u=u.next;var o=s.styles+";";return o}return createStringFromObject(t,e,_)}case"function":{if(t!==void 0){var i=cursor,E=_(t);return cursor=i,handleInterpolation(t,e,E)}break}}var h=_;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function createStringFromObject(t,e,_){var a="";if(Array.isArray(_))for(var r=0;r<_.length;r++)a+=handleInterpolation(t,e,_[r])+";";else for(var s in _){var u=_[s];if(typeof u!="object"){var o=u;e!=null&&e[o]!==void 0?a+=s+"{"+e[o]+"}":isProcessableValue(o)&&(a+=processStyleName(s)+":"+processStyleValue(s,o)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var i=0;i<u.length;i++)isProcessableValue(u[i])&&(a+=processStyleName(s)+":"+processStyleValue(s,u[i])+";");else{var E=handleInterpolation(t,e,u);switch(s){case"animation":case"animationName":{a+=processStyleName(s)+":"+E+";";break}default:a+=s+"{"+E+"}"}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(t,e,_){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,r="";cursor=void 0;var s=t[0];if(s==null||s.raw===void 0)a=!1,r+=handleInterpolation(_,e,s);else{var u=s;r+=u[0]}for(var o=1;o<t.length;o++)if(r+=handleInterpolation(_,e,t[o]),a){var i=s;r+=i[o]}labelPattern.lastIndex=0;for(var E="",h;(h=labelPattern.exec(r))!==null;)E+="-"+h[1];var f=murmur2(r)+E;return{name:f,styles:r,next:cursor}}var syncFallback=function(e){return e()},useInsertionEffect=React.useInsertionEffect?React.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,__unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(e){return reactExports.forwardRef(function(_,a){var r=reactExports.useContext(EmotionCacheContext);return e(_,r,a)})},ThemeContext=reactExports.createContext({}),useTheme=function(){return reactExports.useContext(ThemeContext)},getTheme=function(e,_){if(typeof _=="function"){var a=_(e);return a}return _extends({},e,_)},createCacheWithTheme=weakMemoize(function(t){return weakMemoize(function(e){return getTheme(t,e)})}),ThemeProvider=function(e){var _=reactExports.useContext(ThemeContext);return e.theme!==_&&(_=createCacheWithTheme(_)(e.theme)),reactExports.createElement(ThemeContext.Provider,{value:_},e.children)};function withTheme(t){var e=t.displayName||t.name||"Component",_=reactExports.forwardRef(function(r,s){var u=reactExports.useContext(ThemeContext);return reactExports.createElement(t,_extends({theme:u,ref:s},r))});return _.displayName="WithTheme("+e+")",hoistNonReactStatics(_,t)}var hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(e,_){var a={};for(var r in _)hasOwn.call(_,r)&&(a[r]=_[r]);return a[typePropName]=e,a},Insertion$1=function(e){var _=e.cache,a=e.serialized,r=e.isStringTag;return registerStyles(_,a,r),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(_,a,r)}),null},Emotion=withEmotionCache(function(t,e,_){var a=t.css;typeof a=="string"&&e.registered[a]!==void 0&&(a=e.registered[a]);var r=t[typePropName],s=[a],u="";typeof t.className=="string"?u=getRegisteredStyles(e.registered,s,t.className):t.className!=null&&(u=t.className+" ");var o=serializeStyles(s,void 0,reactExports.useContext(ThemeContext));u+=e.key+"-"+o.name;var i={};for(var E in t)hasOwn.call(t,E)&&E!=="css"&&E!==typePropName&&(i[E]=t[E]);return i.className=u,_&&(i.ref=_),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:e,serialized:o,isStringTag:typeof r=="string"}),reactExports.createElement(r,i))}),Emotion$1=Emotion,jsx=function(e,_){var a=arguments;if(_==null||!hasOwn.call(_,"css"))return reactExports.createElement.apply(void 0,a);var r=a.length,s=new Array(r);s[0]=Emotion$1,s[1]=createEmotionProps(e,_);for(var u=2;u<r;u++)s[u]=a[u];return reactExports.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(t,e){var _=t.styles,a=serializeStyles([_],void 0,reactExports.useContext(ThemeContext)),r=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var s=e.key+"-global",u=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,i=document.querySelector('style[data-emotion="'+s+" "+a.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),i!==null&&(o=!0,i.setAttribute("data-emotion",s),u.hydrate([i])),r.current=[u,o],function(){u.flush()}},[e]),useInsertionEffectWithLayoutFallback(function(){var s=r.current,u=s[0],o=s[1];if(o){s[1]=!1;return}if(a.next!==void 0&&insertStyles(e,a.next,!0),u.tags.length){var i=u.tags[u.tags.length-1].nextElementSibling;u.before=i,u.flush()}e.insert("",a,u,!1)},[e,a.name]),null});function css(){for(var t=arguments.length,e=new Array(t),_=0;_<t;_++)e[_]=arguments[_];return serializeStyles(e)}function keyframes(){var t=css.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var classnames=function t(e){for(var _=e.length,a=0,r="";a<_;a++){var s=e[a];if(s!=null){var u=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))u=t(s);else{u="";for(var o in s)s[o]&&o&&(u&&(u+=" "),u+=o)}break}default:u=s}u&&(r&&(r+=" "),r+=u)}}return r};function merge(t,e,_){var a=[],r=getRegisteredStyles(t,a,_);return a.length<2?_:r+e(a)}var Insertion=function(e){var _=e.cache,a=e.serializedArr;return useInsertionEffectAlwaysWithSyncFallback(function(){for(var r=0;r<a.length;r++)insertStyles(_,a[r],!1)}),null},ClassNames=withEmotionCache(function(t,e){var _=[],a=function(){for(var i=arguments.length,E=new Array(i),h=0;h<i;h++)E[h]=arguments[h];var f=serializeStyles(E,e.registered);return _.push(f),registerStyles(e,f,!1),e.key+"-"+f.name},r=function(){for(var i=arguments.length,E=new Array(i),h=0;h<i;h++)E[h]=arguments[h];return merge(e.registered,a,classnames(E))},s={css:a,cx:r,theme:reactExports.useContext(ThemeContext)},u=t.children(s);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:e,serializedArr:_}),u)});const emotion_react=Object.freeze(Object.defineProperty({__proto__:null,CacheProvider,ClassNames,Global,ThemeContext,ThemeProvider,__unsafe_useEmotionCache,get createElement(){return jsx},css,get jsx(){return jsx},keyframes,useTheme,withEmotionCache,withTheme},Symbol.toStringTag,{value:"Module"})),initialState={reflex___state____state:{article_id_rx_state_:"",blog_id_rx_state_:"",blog_public_id_rx_state_:"",is_hydrated_rx_state_:!1,router_rx_state_:{session:{client_token:"",client_ip:"",session_id:""},headers:{host:"",origin:"",upgrade:"",connection:"",cookie:"",pragma:"",cache_control:"",user_agent:"",sec_websocket_version:"",sec_websocket_key:"",sec_websocket_extensions:"",accept_encoding:"",accept_language:"",raw_headers:{}},page:{host:"",path:"",raw_path:"",full_path:"",full_raw_path:"",params:{}},url:"",route_id:""}},"reflex___state____state.full_stack_python___navigation___device____nav_device_state":{is_desktop_rx_state_:!1,is_mobile_rx_state_:!1},"reflex___state____state.full_stack_python___navigation___state____nav_state":{},"reflex___state____state.full_stack_python___ui___nav____search_state":{search_term_rx_state_:""},"reflex___state____state.full_stack_python___ui___search_state____search_state":{search_term_rx_state_:""},"reflex___state____state.reflex___state____frontend_event_exception_state":{},"reflex___state____state.reflex___state____on_load_internal_state":{},"reflex___state____state.reflex___state____update_vars_internal_state":{},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state":{auth_token_rx_state_:"",authenticated_user_rx_state_:{id:-1,username:null,enabled:!1},is_authenticated_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state":{authenticated_user_info_rx_state_:null,authenticated_username_rx_state_:null,is_admin_rx_state_:!1,is_customer_rx_state_:!1,my_user_id_rx_state_:null,my_userinfo_id_rx_state_:null},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____admin_confirm_state":{has_pending_purchases_rx_state_:!1,new_purchase_notification_rx_state_:!1,pending_purchases_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_detail_state":{formatted_price_rx_state_:"$0.00",imagen_actual_rx_state_:"",img_idx_rx_state_:0,post_rx_state_:null,post_id_from_route_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_public_state":{limit_rx_state_:20,post_rx_state_:null,post_id_rx_state_:"",post_url_rx_state_:"/articles",posts_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_add_form_state":{content_rx_state_:"",price_rx_state_:"",temp_images_rx_state_:[],title_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state":{blog_post_edit_url_rx_state_:"/blog",blog_post_id_rx_state_:"",formatted_price_rx_state_:"$0.00",imagen_actual_rx_state_:"",img_idx_rx_state_:0,post_rx_state_:null,posts_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state.full_stack_python___blog___state____blog_edit_form_state":{post_content_rx_state_:"",post_publish_active_rx_state_:!1,price_str_rx_state_:"0.0",publish_display_date_rx_state_:"2025-07-18",publish_display_time_rx_state_:"17:26:29"},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_public_state":{posts_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_view_state":{content_rx_state_:"",formatted_price_rx_state_:"$0.00",has_post_rx_state_:!1,imagen_actual_rx_state_:"",img_idx_rx_state_:0,post_rx_state_:null,post_id_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___cart___state____cart_state":{cart_rx_state_:{},cart_details_rx_state_:[],cart_items_count_rx_state_:0,cart_total_rx_state_:0,posts_rx_state_:[],purchase_successful_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___contact___state____contact_state":{did_submit_rx_state_:!1,entries_rx_state_:[],form_data_rx_state_:{},thank_you_message_rx_state_:"Gracias por tu mensaje!"},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___notifications___state____notification_state":{notifications_rx_state_:[],unread_count_rx_state_:0},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___purchases___state____purchase_history_state":{purchases_rx_state_:[]},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___login____login_state":{error_message_rx_state_:"",redirect_to_rx_state_:""},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state":{error_message_rx_state_:"",new_user_id_rx_state_:-1,success_rx_state_:!1},"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state.full_stack_python___auth___state____my_register_state":{}},defaultColorMode="dark",ColorModeContext=reactExports.createContext(null),UploadFilesContext=reactExports.createContext(null),DispatchContext=reactExports.createContext(null),StateContexts={reflex___state____state:reactExports.createContext(null),reflex___state____state__full_stack_python___navigation___device____nav_device_state:reactExports.createContext(null),reflex___state____state__full_stack_python___navigation___state____nav_state:reactExports.createContext(null),reflex___state____state__full_stack_python___ui___nav____search_state:reactExports.createContext(null),reflex___state____state__full_stack_python___ui___search_state____search_state:reactExports.createContext(null),reflex___state____state__reflex___state____frontend_event_exception_state:reactExports.createContext(null),reflex___state____state__reflex___state____on_load_internal_state:reactExports.createContext(null),reflex___state____state__reflex___state____update_vars_internal_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___admin___state____admin_confirm_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_detail_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_public_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_add_form_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state__full_stack_python___blog___state____blog_edit_form_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_public_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_view_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___cart___state____cart_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___contact___state____contact_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___notifications___state____notification_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___purchases___state____purchase_history_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___login____login_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state:reactExports.createContext(null),reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state__full_stack_python___auth___state____my_register_state:reactExports.createContext(null)},EventLoopContext=reactExports.createContext(null),clientStorage={cookies:{},local_storage:{"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.auth_token_rx_state_":{name:"_auth_token",sync:!1}},session_storage:{}},state_name="reflex___state____state",exception_state_name="reflex___state____state.reflex___state____frontend_event_exception_state",onLoadInternalEvent=()=>{const t=[],e=hydrateClientStorage(clientStorage);return e&&Object.keys(e).length!==0&&t.push(Event("reflex___state____state.reflex___state____update_vars_internal_state.update_vars_internal",{vars:e})),t.push(Event("reflex___state____state.reflex___state____on_load_internal_state.on_load_internal")),t},initialEvents=()=>[Event("reflex___state____state.hydrate"),...onLoadInternalEvent()],isDevMode=!1;function UploadFilesProvider({children:t}){const[e,_]=reactExports.useState({});return refs.__clear_selected_files=a=>_(r=>{const s={...r};return delete s[a],s}),reactExports.createElement(UploadFilesContext.Provider,{value:[e,_]},t)}function ClientSide(t){return({children:e,..._})=>{const[a,r]=reactExports.useState(null);return reactExports.useEffect(()=>{r(t)},[]),a?jsx(a,_,e):null}}function EventLoopProvider({children:t}){const e=reactExports.useContext(DispatchContext),[_,a]=useEventLoop(e,initialEvents,clientStorage);return reactExports.createElement(EventLoopContext.Provider,{value:[_,a]},t)}function StateProvider({children:t}){const[e,_]=reactExports.useReducer(applyDelta,initialState.reflex___state____state),[a,r]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___navigation___device____nav_device_state"]),[s,u]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___navigation___state____nav_state"]),[o,i]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___ui___nav____search_state"]),[E,h]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.full_stack_python___ui___search_state____search_state"]),[f,C]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex___state____frontend_event_exception_state"]),[D,y]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex___state____on_load_internal_state"]),[n,d]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex___state____update_vars_internal_state"]),[l,p]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state"]),[m,x]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state"]),[g,A]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____admin_confirm_state"]),[F,v]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_detail_state"]),[k,b]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_public_state"]),[w,S]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_add_form_state"]),[B,T]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state"]),[R,O]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state.full_stack_python___blog___state____blog_edit_form_state"]),[P,N]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_public_state"]),[I,L]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_view_state"]),[$,q]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___cart___state____cart_state"]),[M,U]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___contact___state____contact_state"]),[V,K]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___notifications___state____notification_state"]),[W,j]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___purchases___state____purchase_history_state"]),[z,H]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___login____login_state"]),[Y,J]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state"]),[X,Q]=reactExports.useReducer(applyDelta,initialState["reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state.full_stack_python___auth___state____my_register_state"]),G=reactExports.useMemo(()=>({reflex___state____state:_,"reflex___state____state.full_stack_python___navigation___device____nav_device_state":r,"reflex___state____state.full_stack_python___navigation___state____nav_state":u,"reflex___state____state.full_stack_python___ui___nav____search_state":i,"reflex___state____state.full_stack_python___ui___search_state____search_state":h,"reflex___state____state.reflex___state____frontend_event_exception_state":C,"reflex___state____state.reflex___state____on_load_internal_state":y,"reflex___state____state.reflex___state____update_vars_internal_state":d,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state":p,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state":x,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___admin___state____admin_confirm_state":A,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_detail_state":v,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___articles___state____article_public_state":b,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_add_form_state":S,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state":T,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_post_state.full_stack_python___blog___state____blog_edit_form_state":O,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_public_state":N,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___blog___state____blog_view_state":L,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___cart___state____cart_state":q,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___contact___state____contact_state":U,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___notifications___state____notification_state":K,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.full_stack_python___auth___state____session_state.full_stack_python___purchases___state____purchase_history_state":j,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___login____login_state":H,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state":J,"reflex___state____state.reflex_local_auth___local_auth____local_auth_state.reflex_local_auth___registration____registration_state.full_stack_python___auth___state____my_register_state":Q}),[]);return reactExports.createElement(StateContexts.reflex___state____state,{value:e},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___navigation___device____nav_device_state,{value:a},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___navigation___state____nav_state,{value:s},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___ui___nav____search_state,{value:o},reactExports.createElement(StateContexts.reflex___state____state__full_stack_python___ui___search_state____search_state,{value:E},reactExports.createElement(StateContexts.reflex___state____state__reflex___state____frontend_event_exception_state,{value:f},reactExports.createElement(StateContexts.reflex___state____state__reflex___state____on_load_internal_state,{value:D},reactExports.createElement(StateContexts.reflex___state____state__reflex___state____update_vars_internal_state,{value:n},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state,{value:l},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state,{value:m},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___admin___state____admin_confirm_state,{value:g},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_detail_state,{value:F},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___articles___state____article_public_state,{value:k},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_add_form_state,{value:w},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state,{value:B},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_post_state__full_stack_python___blog___state____blog_edit_form_state,{value:R},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_public_state,{value:P},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___blog___state____blog_view_state,{value:I},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___cart___state____cart_state,{value:$},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___contact___state____contact_state,{value:M},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___notifications___state____notification_state,{value:V},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__full_stack_python___auth___state____session_state__full_stack_python___purchases___state____purchase_history_state,{value:W},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___login____login_state,{value:z},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state,{value:Y},reactExports.createElement(StateContexts.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__reflex_local_auth___registration____registration_state__full_stack_python___auth___state____my_register_state,{value:X},reactExports.createElement(DispatchContext,{value:G},t))))))))))))))))))))))))))}const utils_context=Object.freeze(Object.defineProperty({__proto__:null,ClientSide,ColorModeContext,DispatchContext,EventLoopContext,EventLoopProvider,StateContexts,StateProvider,UploadFilesContext,UploadFilesProvider,clientStorage,defaultColorMode,exception_state_name,initialEvents,initialState,isDevMode,onLoadInternalEvent,state_name},Symbol.toStringTag,{value:"Module"})),debounce_timeout_id={};function debounce(t,e,_){const a=`${t}__${_}`;clearTimeout(debounce_timeout_id[a]),debounce_timeout_id[a]=setTimeout(()=>{e(),delete debounce_timeout_id[a]},_)}const in_throttle={};function throttle(t,e){const _=`${t}__${e}`;return in_throttle[_]?!1:(in_throttle[_]=!0,setTimeout(()=>{delete in_throttle[_]},e),!0)}const EVENTURL=env.EVENT,UPLOADURL=env.UPLOAD,SAME_DOMAIN_HOSTNAMES=["localhost","0.0.0.0","::","0:0:0:0:0:0:0:0"];let token;const TOKEN_KEY="token",cookies=new Cookies,refs={};let event_processing=!1;const event_queue=[],generateUUID=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,_=>{let a=Math.random()*16;return t>0?(a=(t+a)%16|0,t=Math.floor(t/16)):(a=(e+a)%16|0,e=Math.floor(e/16)),(_=="x"?a:a&7|8).toString(16)})},getToken=()=>token||(typeof window<"u"&&(window.sessionStorage.getItem(TOKEN_KEY)||window.sessionStorage.setItem(TOKEN_KEY,generateUUID()),token=window.sessionStorage.getItem(TOKEN_KEY)),token),getBackendURL=t=>{const e=new URL(t);if(typeof window<"u"&&SAME_DOMAIN_HOSTNAMES.includes(e.hostname)){const _=window.location.hostname;e.hostname=_,window.location.protocol==="https:"&&(e.protocol==="ws:"?e.protocol="wss:":e.protocol==="http:"&&(e.protocol="https:"),e.port="")}return e},isBackendDisabled=()=>{const t=document.cookie.split("; ").find(e=>e.startsWith("backend-enabled="));return t!==void 0&&t.split("=")[1]=="false"},isStateful=()=>event_queue.length===0?!1:event_queue.some(t=>t.name.startsWith("reflex___state")),applyDelta=(t,e)=>({...t,...e}),evalReactComponent=async component=>{!window.React&&window.__reflex&&(window.React=window.__reflex.react);const module=await eval("import(dataUri)");return module.default},queueEventIfSocketExists=async(t,e,_,a)=>{e&&await queueEvents(t,e,_,a)};function urlFrom(t){try{return new URL(t)}catch{return}}const applyEvent=async(event,socket,navigate,params)=>{if(event.name=="_redirect"){if((event.payload.path??void 0)===void 0)return!1;if(event.payload.external)return window.open(event.payload.path,"_blank","noopener"),!1;const t=urlFrom(event.payload.path);let e=event.payload.path;if(t){if(t.host!==window.location.host)return window.location.assign(event.payload.path),!1;e=t.pathname+t.search+t.hash}return event.payload.replace?navigate(e,{replace:!0}):navigate(e),!1}if(event.name=="_remove_cookie")return cookies.remove(event.payload.key,{...event.payload.options}),queueEventIfSocketExists(initialEvents(),socket,navigate,params),!1;if(event.name=="_clear_local_storage")return localStorage.clear(),queueEventIfSocketExists(initialEvents(),socket,navigate,params),!1;if(event.name=="_remove_local_storage")return localStorage.removeItem(event.payload.key),queueEventIfSocketExists(initialEvents(),socket,navigate,params),!1;if(event.name=="_clear_session_storage")return sessionStorage.clear(),queueEvents(initialEvents(),socket,navigate,params),!1;if(event.name=="_remove_session_storage")return sessionStorage.removeItem(event.payload.key),queueEvents(initialEvents(),socket,navigate,params),!1;if(event.name=="_download"){const t=document.createElement("a");return t.hidden=!0,t.href=event.payload.url,t.href.includes("getBackendURL(env.UPLOAD)")&&(t.href=eval?.(event.payload.url.replace("getBackendURL(env.UPLOAD)",`"${getBackendURL(env.UPLOAD)}"`))),t.download=event.payload.filename,t.click(),t.remove(),!1}if(event.name=="_set_focus"){const e=(event.payload.ref in refs?refs[event.payload.ref]:event.payload.ref)?.current;return e===void 0||e?.focus===void 0?console.error(`No element found for ref ${event.payload.ref} in _set_focus`):e.focus(),!1}if(event.name=="_blur_focus"){const e=(event.payload.ref in refs?refs[event.payload.ref]:event.payload.ref)?.current;return e===void 0||e?.blur===void 0?console.error(`No element found for ref ${event.payload.ref} in _blur_focus`):e.blur(),!1}if(event.name=="_set_value"){const t=event.payload.ref in refs?refs[event.payload.ref]:event.payload.ref;return t.current&&(t.current.value=event.payload.value),!1}if(event.name=="_call_function"&&typeof event.payload.function!="string"){try{const eval_result=event.payload.function();if(event.payload.callback){const final_result=eval_result&&typeof eval_result.then=="function"?await eval_result:eval_result,callback=typeof event.payload.callback=="string"?eval(event.payload.callback):event.payload.callback;callback(final_result)}}catch(t){console.log("_call_function",t),window&&window?.onerror&&window.onerror(t.message,null,null,null,t)}return!1}if(event.name=="_call_script"||event.name=="_call_function"){try{const eval_result=event.name=="_call_script"?eval(event.payload.javascript_code):eval(event.payload.function)();if(event.payload.callback){const final_result=eval_result&&typeof eval_result.then=="function"?await eval_result:eval_result,callback=typeof event.payload.callback=="string"?eval(event.payload.callback):event.payload.callback;callback(final_result)}}catch(t){console.log("_call_script",t),window&&window?.onerror&&window.onerror(t.message,null,null,null,t)}return!1}return event.token=getToken(),(event.router_data===void 0||Object.keys(event.router_data).length===0)&&(event.router_data={pathname:window.location.pathname,query:{...Object.fromEntries(new URLSearchParams(window.location.search)),...params()},asPath:window.location.pathname+window.location.search+window.location.hash}),socket?(socket.emit("event",event),!0):!1},applyRestEvent=async(t,e,_,a)=>{let r=!1;return t.handler==="uploadFiles"?t.payload.files===void 0||t.payload.files.length===0?await applyEvent(Event(t.name,{files:[]}),e,_,a):(uploadFiles(t.name,t.payload.files,t.payload.upload_id,t.payload.on_upload_progress,e),!1):r},queueEvents=async(t,e,_,a,r)=>{_&&(t=[...t,...Array.from({length:event_queue.length}).map(()=>event_queue.shift())]),event_queue.push(...t.filter(s=>s!=null)),await processEvent(e.current,a,r)},processEvent=async(t,e,_)=>{if(!t&&isStateful()||event_queue.length===0||event_processing)return;event_processing=!0;const a=event_queue.shift();let r=!1;a.handler?r=await applyRestEvent(a,t,e,_):r=await applyEvent(a,t,e,_),r||(event_processing=!1,await processEvent(t,e,_))},connect=async(t,e,_,a,r={},s,u)=>{const o=getBackendURL(EVENTURL);t.current=lookup(o.href,{path:o.pathname,transports:_,protocols:[reflexEnvironment.version],autoUnref:!1}),t.current.io.encoder.replacer=(f,C)=>C===void 0?null:C,t.current.io.decoder.tryParse=f=>{try{return lib.parse(f)}catch{return!1}};function i(){document.visibilityState==="visible"&&(t.current.connected?console.log("Socket is reconnected "):(console.log("Socket is disconnected, attempting to reconnect "),t.current.connect()))}const E=f=>{t.current?.connected&&(console.log("Disconnect websocket on unload"),t.current.disconnect())},h=f=>{f.persisted&&t.current?.connected&&(console.log("Disconnect backend before bfcache on navigation"),t.current.disconnect())};t.current.on("connect",()=>{a([]),window.addEventListener("pagehide",h),window.addEventListener("beforeunload",E),window.addEventListener("unload",E)}),t.current.on("connect_error",f=>{a(C=>[C.slice(-9),f])}),t.current.on("disconnect",()=>{event_processing=!1,window.removeEventListener("unload",E),window.removeEventListener("beforeunload",E),window.removeEventListener("pagehide",h)}),t.current.on("event",async f=>{for(const C in f.delta)e[C](f.delta[C]);applyClientStorageDelta(r,f.delta),event_processing=!f.final,f.events&&queueEvents(f.events,t,!1,s,u)}),t.current.on("reload",async f=>{event_processing=!1,queueEvents([...initialEvents(),f],t,!0,s,u)}),document.addEventListener("visibilitychange",i)},uploadFiles=async(t,e,_,a,r)=>{if(e===void 0||e.length===0)return!1;const s=`__upload_controllers_${_}`;if(refs[s])return console.log("Upload already in progress for ",_),!1;let u=0;const o=h=>{const f=r._callbacks.$event;h.event.target.responseText.trim().split(`
`).slice(u).map(D=>{try{const y=lib.parse(D);f.map((n,d)=>{n(y).then(()=>{d===f.length-1&&(u+=1)}).catch(l=>{h.progress===1&&console.log("Error processing chunk",y,l)})})}catch(y){h.progress===1&&console.log("Error parsing chunk",D,y);return}})},i=new AbortController,E=new FormData;return e.forEach(h=>{E.append("files",h,h.path||h.name)}),refs[s]=i,new Promise((h,f)=>{const C=new XMLHttpRequest;C.onload=function(){C.status>=200&&C.status<300?h({data:C.responseText,status:C.status,statusText:C.statusText,headers:{get:D=>C.getResponseHeader(D)}}):f(new Error(`HTTP error! status: ${C.status}`))},C.onerror=function(){f(new Error("Network error"))},C.onabort=function(){f(new Error("Upload aborted"))},a&&(C.upload.onprogress=function(D){if(D.lengthComputable){const y={loaded:D.loaded,total:D.total,progress:D.loaded/D.total};a(y)}}),C.onprogress=function(D){if(o){const y={event:{target:{responseText:C.responseText}},progress:D.lengthComputable?D.loaded/D.total:0};o(y)}},i.signal.addEventListener("abort",()=>{C.abort()}),C.open("POST",getBackendURL(UPLOADURL)),C.setRequestHeader("Reflex-Client-Token",getToken()),C.setRequestHeader("Reflex-Event-Handler",t);try{C.send(E)}catch(D){f(D)}}).catch(h=>(console.log("Upload error:",h.message),!1)).finally(()=>{delete refs[s]})},Event=(t,e={},_={},a=null)=>({name:t,payload:e,handler:a,event_actions:_}),hydrateClientStorage=t=>{const e={};if(t.cookies)for(const _ in t.cookies){const r=t.cookies[_].name||_;cookies.get(r)!==void 0&&(e[_]=cookies.get(r))}if(t.local_storage&&typeof window<"u")for(const _ in t.local_storage){const a=t.local_storage[_],r=localStorage.getItem(a.name||_);r!==null&&(e[_]=r)}if(t.session_storage&&typeof window<"u")for(const _ in t.session_storage){const a=t.session_storage[_],r=sessionStorage.getItem(a.name||_);r!=null&&(e[_]=r)}return t.cookies||t.local_storage||t.session_storage?e:{}},applyClientStorageDelta=(t,e)=>{const _=Object.keys(e).filter(a=>a.split(".").length===1);if(_.length===1){const a=e[_[0]];if(a.is_hydrated_rx_state_!==void 0&&!a.is_hydrated_rx_state_)return}for(const a in e)for(const r in e[a]){const s=`${a}.${r}`;if(t.cookies&&s in t.cookies){const u={...t.cookies[s]},o=u.name||s;delete u.name,cookies.set(o,e[a][r],u)}else if(t.local_storage&&s in t.local_storage&&typeof window<"u"){const u=t.local_storage[s];localStorage.setItem(u.name||s,e[a][r])}else if(t.session_storage&&s in t.session_storage&&typeof window<"u"){const u=t.session_storage[s];sessionStorage.setItem(u.name||s,e[a][r])}}},useEventLoop=(t,e=()=>[],_={})=>{const a=reactExports.useRef(null),r=useLocation(),s=useNavigate(),u=useParams(),o=reactExports.useRef(r),[i]=useSearchParams(),[E,h]=reactExports.useState([]),f=reactExports.useRef(u);reactExports.useEffect(()=>{const{"*":n,...d}=u;n?f.current={...d,splat:n.split("/")}:f.current=d},[u]);const C=reactExports.useCallback((n,d,l)=>{const p=n.filter(g=>g!=null);d instanceof Array||(d=[d]),l=p.reduce((g,A)=>({...g,...A.event_actions}),l??{});const m=d.filter(g=>g?.preventDefault!==void 0)[0];l?.preventDefault&&m?.preventDefault&&m.preventDefault(),l?.stopPropagation&&m?.stopPropagation&&m.stopPropagation();const x=p.map(g=>g.name).join("+++");l?.temporal&&(!a.current||!a.current.connected)||l?.throttle&&!throttle(x,l.throttle)||(l?.debounce?debounce(x,()=>queueEvents(p,a,!1,s,()=>f.current),l.debounce):queueEvents(p,a,!1,s,()=>f.current))},[]),D=reactExports.useRef(!1);reactExports.useEffect(()=>{D.current||(queueEvents(e().map(n=>({...n,router_data:{pathname:r.pathname,query:{...Object.fromEntries(i.entries()),...f.current},asPath:r.pathname+r.search}})),a,!0,s,()=>f.current),D.current=!0)},[]),reactExports.useEffect(()=>{typeof window>"u"||(window.onerror=function(n,d,l,p,m){return C([Event(`${exception_state_name}.handle_frontend_exception`,{stack:m.stack,component_stack:""})]),!1},window.onunhandledrejection=function(n){return C([Event(`${exception_state_name}.handle_frontend_exception`,{stack:n.reason?.stack,component_stack:""})]),!1})},[]),reactExports.useEffect(()=>(Object.keys(initialState).length>1&&!isBackendDisabled()&&(a.current||connect(a,t,["websocket"],h,_,s,()=>f.current)),()=>{a.current&&a.current.disconnect()}),[]),reactExports.useEffect(()=>{isBackendDisabled()||(async()=>{for(;event_queue.length>0&&!event_processing;)await processEvent(a.current,s,()=>f.current)})()}),reactExports.useEffect(()=>{const n={};if(_.local_storage&&typeof window<"u")for(const l in _.local_storage){const p=_.local_storage[l];if(p.sync){const m=p.name||l;n[m]=l}}const d=l=>{if(n[l.key]){const p={};p[n[l.key]]=l.newValue;const m=Event(`${state_name}.reflex___state____update_vars_internal_state.update_vars_internal`,{vars:p});C([m],l)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)});const y=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(!y.current){y.current=!0;return}if(r.state?.fromNotFound||r.pathname+r.search===o.current.pathname+o.current.search&&r.hash)return;const n=t.reflex___state____state;n!==void 0&&n({is_hydrated_rx_state_:!1}),C(onLoadInternalEvent()),o.current=r},[r,t,onLoadInternalEvent,C]),[C,E]},isTrue=t=>Array.isArray(t)?t.length>0:t===Object(t)?Object.keys(t).length>0:!!t,isNotNullOrUndefined=t=>(t??void 0)!==void 0,getRefValue=t=>{if(!(!t||!t.current))return t.current.type=="checkbox"?t.current.checked:t.current.className?.includes("rt-CheckboxRoot")||t.current.className?.includes("rt-SwitchRoot")?t.current.ariaChecked=="true":t.current.className?.includes("rt-SliderRoot")?t.current.querySelector(".rt-SliderThumb")?.ariaValueNow:t.current.value||t.current.querySelector&&t.current.querySelector(":checked")&&t.current.querySelector(":checked")?.value},getRefValues=t=>{if(t)return t.map(e=>e.current?e.current.value||e.current.getAttribute("aria-valuenow"):null)},spreadArraysOrObjects=(t,e)=>{if(Array.isArray(t)&&Array.isArray(e))return[...t,...e];if(typeof t=="object"&&typeof e=="object")return{...t,...e};throw new Error("Both parameters must be either arrays or objects.")},utils_state=Object.freeze(Object.defineProperty({__proto__:null,Event,applyDelta,applyEvent,applyRestEvent,connect,evalReactComponent,generateUUID,getBackendURL,getRefValue,getRefValues,getToken,hydrateClientStorage,isBackendDisabled,isNotNullOrUndefined,isStateful,isTrue,processEvent,queueEventIfSocketExists,queueEvents,refs,spreadArraysOrObjects,uploadFiles,useEventLoop},Symbol.toStringTag,{value:"Module"}));export{ColorModeContext as C,EventLoopContext as E,StateProvider as S,UploadFilesProvider as U,utils_context as a,emotion_react as b,EventLoopProvider as c,defaultColorMode as d,env as e,Event as f,getBackendURL as g,ClientSide as h,isTrue as i,jsx as j,keyframes as k,StateContexts as l,isNotNullOrUndefined as m,getRefValue as n,refs as r,utils_state as u};
