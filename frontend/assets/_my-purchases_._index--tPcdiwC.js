import{w as f,a as t,v as h}from"./chunk-QMGIS6GS-suYYFPSk.js";import{j as _,h as n,E as k,f as u,l as y,i as w}from"./state-CJhah0mi.js";import{L as C,F,a as I,b as S,B as v,c as b,d as z,e as N,I as j,T as B,D as E}from"./stateful_components-LhXdfQ-j.js";import{ay as e,aU as x,az as o,aR as c,a5 as m,aP as g,a4 as i,a_ as T,aL as D,aK as L}from"./createLucideIcon-DQJ01aAu.js";import"./index-GZitOFEf.js";function q(){const a=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___purchases___state____purchase_history_state),[s,d]=t.useContext(k),l=t.useCallback(r=>s([u("reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___auth___state____session_state.likemodas___purchases___state____purchase_history_state.set_search_query",{value:r.target.value},{})],[r],{}),[s,u]);return _(E,{css:{width:"100%",maxWidth:"400px",marginTop:"1.5em",marginBottom:"1.5em"},debounceTimeout:300,element:T,onChange:l,placeholder:"Buscar por ID o producto...",value:y(a.search_query_rx_state_)?a.search_query_rx_state_:""})}function M(){const a=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state);return _(t.Fragment,{},a.is_admin_rx_state_?_(t.Fragment,{},_(e,{align:"start",className:"rx-Stack",css:{width:"100%",minHeight:"100vh"},direction:"row",gap:"0"},_(o,{css:{width:"16em"}},_(e,{align:"start",className:"rx-Stack",css:{paddingInlineStart:"1em",paddingInlineEnd:"1em",paddingTop:"1.5em",paddingBottom:"1.5em",background:"#2C004B",height:"100vh"},direction:"column",gap:"5"},_(e,{align:"center",className:"rx-Stack",css:{width:"100%",marginBottom:"1.5em"},direction:"row",justify:"center",gap:"3"},_("img",{css:{width:"9em",height:"auto",borderRadius:"25%"},src:"/logo.png"})),_(e,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"1"},_(C,{}),_(F,{}),_(I,{}),_(S,{})),_(e,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),_(e,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"5"},_(e,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"1"},_(v,{}),_(b,{})),_(c,{size:"4"}),_(z,{})))),_(o,{css:{padding:"1em",width:"100%"}},_(t.Fragment,{},_(p,{}))))):_(t.Fragment,{},_(o,{css:{width:"100%"}},_(N,{}),_(o,{css:{paddingTop:"6rem",paddingInlineStart:"1em",paddingInlineEnd:"1em",paddingBottom:"1em",width:"100%"}},_(t.Fragment,{},_(p,{}))),_(o,{css:{position:"fixed",bottom:"1.5rem",right:"1.5rem",zIndex:"1000"}},_(j,{})))))}function $(){const a=t.useContext(n.reflex___state____state);return _(t.Fragment,{},a.is_hydrated_rx_state_?_(M,{}):_(t.Fragment,{},_(e,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},_(x,{size:"3"}))))}function p(){const a=t.useContext(n.reflex___state____state),s=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state);return _(t.Fragment,{},a.is_hydrated_rx_state_&&s.is_authenticated_rx_state_?_(R,{}):_(t.Fragment,{},_(e,{css:{display:"flex",alignItems:"center",justifyContent:"center"}},_(B,{}))))}function H(){const a=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___purchases___state____purchase_history_state);return _(t.Fragment,{},a.filtered_purchases_rx_state_.map((s,d)=>_(D,{css:{width:"100%",padding:"1.5em"},key:d},_(e,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"column",gap:"4"},_(e,{align:"start",className:"rx-Stack",css:{width:"100%"},direction:"row",justify:"between",gap:"3"},_(e,{align:"start",className:"rx-Stack",css:{alignItems:"start"},direction:"column",gap:"3"},_(i,{as:"p",size:"5",weight:"bold"},"Compra del: "+s.purchase_date_formatted),_(i,{as:"p",color:"gray",size:"2"},"ID de Compra: #"+s.id)),_(e,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),_(e,{align:"start",className:"rx-Stack",css:{alignItems:"end"},direction:"column",gap:"3"},_(L,{color:"blue",size:"2",variant:"soft"},s.status),_(m,{size:"6"},s.total_price_cop))),_(c,{size:"4"}),_(e,{align:"start",className:"rx-Stack",css:{alignItems:"start",width:"100%"},direction:"column",gap:"1"},_(i,{as:"p",size:"4",weight:"medium"},"Detalles de Envío:"),_(i,{as:"p",size:"3"},"Nombre: "+s.shipping_name),_(i,{as:"p",size:"3"},"Dirección: "+s.shipping_address+", "+s.shipping_neighborhood+", "+s.shipping_city),_(i,{as:"p",size:"3"},"Teléfono: "+s.shipping_phone)),_(c,{size:"4"}),_(e,{align:"start",className:"rx-Stack",css:{alignItems:"start",width:"100%"},direction:"column",gap:"1"},_(i,{as:"p",size:"4",weight:"medium"},"Artículos Comprados:"),s.items_formatted.map((l,r)=>_(i,{as:"p",key:r,size:"3"},l)))))))}function P(){const a=t.useContext(n.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___auth___state____session_state__likemodas___purchases___state____purchase_history_state);return _(t.Fragment,{},w(a.filtered_purchases_rx_state_)?_(H,{}):_(t.Fragment,{},_(e,{css:{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"2em",paddingBottom:"2em"}},_(i,{as:"p"},"No se encontraron compras para tu búsqueda."))))}function R(){const a=t.useContext(n.reflex___state____state);return _(t.Fragment,{},a.is_hydrated_rx_state_?_(t.Fragment,{},_(e,{align:"start",className:"rx-Stack",css:{alignItems:"start",minHeight:"85vh",width:"100%"},direction:"row",gap:"3"},_(e,{align:"start",className:"rx-Stack",css:{alignItems:"start",padding:"1em",borderRight:"1px solid #ededed",height:"100%",minWidth:"250px"},direction:"column",gap:"3"},_(m,{css:{marginBottom:"1em"},size:"6"},"Mi Cuenta"),_(g,{asChild:!0,css:{width:"100%",padding:"0.5em","&:hover":{color:"var(--accent-8)"}}},_(h,{to:"/my-purchases"},_(i,{as:"p"},"Mis Compras"))),_(g,{asChild:!0,css:{width:"100%",padding:"0.5em","&:hover":{color:"var(--accent-8)"}}},_(h,{to:"/my-account/shipping-info"},_(i,{as:"p"},"Información para envíos")))),_(o,{css:{padding:"2em",width:"100%"}},_(e,{css:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}},_(e,{align:"center",className:"rx-Stack",css:{width:"100%",maxWidth:"960px"},direction:"column",gap:"6"},_(m,{size:"7"},"Mi Historial de Compras"),_(q,{}),_(P,{})))))):_(t.Fragment,{},_(e,{css:{display:"flex",alignItems:"center",justifyContent:"center",height:"85vh"}},_(x,{size:"3"}))))}const G=f(function(){return _(t.Fragment,{},_($,{}),_("title",{},"Mis Compras"),_("meta",{content:"favicon.ico",property:"og:image"}))});export{G as default};
