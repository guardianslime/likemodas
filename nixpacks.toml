# nixpacks.toml (VERSIÓN CORREGIDA)

# 1. Define el entorno de Python.
providers = ["python"]
[python]
version = "3.11"

# 2. Añade los paquetes del sistema necesarios.
#    libzbar0 es crucial para que pyzbar funcione.
[phases.setup]
aptPkgs = ["libjpeg-dev", "zlib1g-dev", "libzbar0"]

# 3. NO se define la fase de instalación. Nixpacks usará
#    "pip install -r requirements.txt" por defecto.

# 4. Define el comando de inicio.
[start]
cmd = "sh ./start.sh"