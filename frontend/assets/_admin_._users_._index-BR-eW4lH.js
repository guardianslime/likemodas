import{E as e,F as t,I as n}from"./chunk-C37GKA54-CqdiFsO7.js";import"./jsx-runtime-D8Rx4V8w.js";import{b as r,j as i,l as a,s as o}from"./state-CoSDZC-w.js";import{$ as s,H as c,N as l,O as u,P as d,Q as f,R as p,a1 as m,f as h,g,h as _,i as v,j as y,k as b,n as x}from"./esm-mLqThSU8.js";import{b as S,c as C,d as w}from"./stateful_components-C7thCzXE.js";import"./createLucideIcon-B8Sw3JMW.js";var T=n(t());function E(){let e=(0,T.useContext)(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return o(T.Fragment,{},e.is_admin_rx_state_?o(T.Fragment,{},o(f,{css:{width:`100%`,minHeight:`100vh`}},o(C,{}),o(f,{css:{padding:`1em`,width:`100%`}},o(c,{css:{padding:`16px`,paddingTop:`2em`},size:`3`},o(d,{align:`stretch`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},o(m,{size:`7`},`Gestión de Usuarios`),o(s,{as:`p`},`Administra los roles y el estado de todos los usuarios registrados.`),o(x,{css:{marginTop:`1.5em`,marginBottom:`1.5em`},size:`4`}),o(b,{css:{width:`100%`},variant:`surface`},o(v,{},o(h,{},o(y,{},`Usuario`),o(y,{},`Email`),o(y,{},`Rol`),o(y,{},`Estado`),o(y,{},`Acciones`))),o(D,{}))))))):o(T.Fragment,{},o(f,{css:{width:`100%`}},o(S,{}),o(f,{css:{paddingTop:`6rem`,paddingInlineStart:`1em`,paddingInlineEnd:`1em`,paddingBottom:`1em`,width:`100%`}},o(c,{css:{padding:`16px`,paddingTop:`2em`},size:`3`},o(d,{align:`stretch`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},o(m,{size:`7`},`Gestión de Usuarios`),o(s,{as:`p`},`Administra los roles y el estado de todos los usuarios registrados.`),o(x,{css:{marginTop:`1.5em`,marginBottom:`1.5em`},size:`4`}),o(b,{css:{width:`100%`},variant:`surface`},o(v,{},o(h,{},o(y,{},`Usuario`),o(y,{},`Email`),o(y,{},`Rol`),o(y,{},`Estado`),o(y,{},`Acciones`))),o(D,{}))))),o(f,{css:{position:`fixed`,bottom:`1.5rem`,right:`1.5rem`,zIndex:`1000`}},o(w,{})))))}function D(){let e=(0,T.useContext)(a.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state),[t,n]=(0,T.useContext)(i);return o(_,{},e.all_users_rx_state_.map((e,n)=>o(h,{key:n},o(g,{},e.user?.username),o(g,{},e.email),o(g,{},o(p,{},e.role)),o(g,{},o(T.Fragment,{},e.is_banned?o(T.Fragment,{},o(p,{color:`red`},`Vetado`)):o(T.Fragment,{},e.is_verified?o(T.Fragment,{},o(p,{color:`green`},`Verificado`)):o(T.Fragment,{},o(p,{color:`orange`},`Sin Verificar`))))),o(g,{},o(d,{align:`start`,className:`rx-Stack`,direction:`row`,gap:`2`},o(l,{onClick:n=>t([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.toggle_admin_role`,{userinfo_id:e.id},{})],[n],{}),size:`1`},e.role===`admin`?`Quitar Admin`:`Hacer Admin`),o(T.Fragment,{},e.is_banned?o(T.Fragment,{},o(l,{color:`green`,onClick:n=>t([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.unban_user`,{userinfo_id:e.id},{})],[n],{}),size:`1`},`Quitar Veto`)):o(T.Fragment,{},o(l,{color:`red`,onClick:n=>t([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.ban_user`,{userinfo_id:e.id,days:7},{})],[n],{}),size:`1`},`Vetar (7 días)`))))))))}function O(){let e=(0,T.useContext)(a.reflex___state____state);return o(T.Fragment,{},e.is_hydrated_rx_state_?o(E,{}):o(T.Fragment,{},o(d,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`100vh`,width:`100%`,background:`var(--gray-2)`}},o(u,{size:`3`}))))}var k=e(function(){return o(T.Fragment,{},o(O,{}),o(`title`,{},`Gestión de Usuarios`),o(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{k as default};