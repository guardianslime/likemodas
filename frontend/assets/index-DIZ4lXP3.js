import{a as r}from"./chunk-QMGIS6GS-CgUBpFMi.js";import{P as R,u as O,c as ae,a as j,B as U}from"./createLucideIcon-DODTJ_VI.js";import{j as h}from"./index-B9RKNTce.js";var ie="Label",X=r.forwardRef((e,o)=>h.jsx(R.label,{...e,ref:o,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));X.displayName=ie;var[q,je]=ae("Form"),G="Form",[ce,P]=q(G),[le,Y]=q(G),Z=r.forwardRef((e,o)=>{const{__scopeForm:t,onClearServerErrors:c=()=>{},...a}=e,l=r.useRef(null),f=O(o,l),[d,v]=r.useState({}),u=r.useCallback(s=>d[s],[d]),p=r.useCallback((s,m)=>v(i=>({...i,[s]:{...i[s]??{},...m}})),[]),x=r.useCallback(s=>{v(m=>({...m,[s]:void 0})),n(m=>({...m,[s]:{}}))},[]),[C,E]=r.useState({}),I=r.useCallback(s=>C[s]??[],[C]),M=r.useCallback((s,m)=>{E(i=>({...i,[s]:[...i[s]??[],m]}))},[]),g=r.useCallback((s,m)=>{E(i=>({...i,[s]:(i[s]??[]).filter(y=>y.id!==m)}))},[]),[A,n]=r.useState({}),F=r.useCallback(s=>A[s]??{},[A]),b=r.useCallback((s,m)=>{n(i=>({...i,[s]:{...i[s]??{},...m}}))},[]),[S,_]=r.useState({}),w=r.useCallback((s,m)=>{_(i=>{const y=new Set(i[s]).add(m);return{...i,[s]:y}})},[]),L=r.useCallback((s,m)=>{_(i=>{const y=new Set(i[s]);return y.delete(m),{...i,[s]:y}})},[]),T=r.useCallback(s=>Array.from(S[s]??[]).join(" ")||void 0,[S]);return h.jsx(ce,{scope:t,getFieldValidity:u,onFieldValidityChange:p,getFieldCustomMatcherEntries:I,onFieldCustomMatcherEntryAdd:M,onFieldCustomMatcherEntryRemove:g,getFieldCustomErrors:F,onFieldCustomErrorsChange:b,onFieldValiditionClear:x,children:h.jsx(le,{scope:t,onFieldMessageIdAdd:w,onFieldMessageIdRemove:L,getFieldDescription:T,children:h.jsx(R.form,{...a,ref:f,onInvalid:j(e.onInvalid,s=>{const m=$(s.currentTarget);m===s.target&&m.focus(),s.preventDefault()}),onSubmit:j(e.onSubmit,c,{checkForDefaultPrevented:!1}),onReset:j(e.onReset,c)})})})});Z.displayName=G;var H="FormField",[de,K]=q(H),ue=r.forwardRef((e,o)=>{const{__scopeForm:t,name:c,serverInvalid:a=!1,...l}=e,d=P(H,t).getFieldValidity(c),v=U();return h.jsx(de,{scope:t,id:v,name:c,serverInvalid:a,children:h.jsx(R.div,{"data-valid":J(d,a),"data-invalid":Q(d,a),...l,ref:o})})});ue.displayName=H;var N="FormLabel",me=r.forwardRef((e,o)=>{const{__scopeForm:t,...c}=e,a=P(N,t),l=K(N,t),f=c.htmlFor||l.id,d=a.getFieldValidity(l.name);return h.jsx(X,{"data-valid":J(d,l.serverInvalid),"data-invalid":Q(d,l.serverInvalid),...c,ref:o,htmlFor:f})});me.displayName=N;var k="FormControl",fe=r.forwardRef((e,o)=>{const{__scopeForm:t,...c}=e,a=P(k,t),l=K(k,t),f=Y(k,t),d=r.useRef(null),v=O(o,d),u=c.name||l.name,p=c.id||l.id,x=a.getFieldCustomMatcherEntries(u),{onFieldValidityChange:C,onFieldCustomErrorsChange:E,onFieldValiditionClear:I}=a,M=r.useCallback(async n=>{if(ee(n.validity)){const i=B(n.validity);C(u,i);return}const F=n.form?new FormData(n.form):new FormData,b=[n.value,F],S=[],_=[];x.forEach(i=>{be(i,b)?_.push(i):Ie(i)&&S.push(i)});const w=S.map(({id:i,match:y})=>[i,y(...b)]),L=Object.fromEntries(w),T=Object.values(L).some(Boolean),s=T;n.setCustomValidity(s?V:"");const m=B(n.validity);if(C(u,m),E(u,L),!T&&_.length>0){const i=_.map(({id:re,match:se})=>se(...b).then(ne=>[re,ne])),y=await Promise.all(i),W=Object.fromEntries(y),te=Object.values(W).some(Boolean);n.setCustomValidity(te?V:"");const oe=B(n.validity);C(u,oe),E(u,W)}},[x,u,E,C]);r.useEffect(()=>{const n=d.current;if(n){const F=()=>M(n);return n.addEventListener("change",F),()=>n.removeEventListener("change",F)}},[M]);const g=r.useCallback(()=>{const n=d.current;n&&(n.setCustomValidity(""),I(u))},[u,I]);r.useEffect(()=>{const n=d.current?.form;if(n)return n.addEventListener("reset",g),()=>n.removeEventListener("reset",g)},[g]),r.useEffect(()=>{const n=d.current,F=n?.closest("form");if(F&&l.serverInvalid){const b=$(F);b===n&&b.focus()}},[l.serverInvalid]);const A=a.getFieldValidity(u);return h.jsx(R.input,{"data-valid":J(A,l.serverInvalid),"data-invalid":Q(A,l.serverInvalid),"aria-invalid":l.serverInvalid?!0:void 0,"aria-describedby":f.getFieldDescription(u),title:"",...c,ref:v,id:p,name:u,onInvalid:j(e.onInvalid,n=>{const F=n.currentTarget;M(F)}),onChange:j(e.onChange,n=>{g()})})});fe.displayName=k;var V="This value is not valid",ve={badInput:V,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},D="FormMessage",he=r.forwardRef((e,o)=>{const{match:t,name:c,...a}=e,l=K(D,e.__scopeForm),f=c??l.name;return t===void 0?h.jsx(z,{...a,ref:o,name:f,children:e.children||V}):typeof t=="function"?h.jsx(Fe,{match:t,...a,ref:o,name:f}):h.jsx(Ce,{match:t,...a,ref:o,name:f})});he.displayName=D;var Ce=r.forwardRef((e,o)=>{const{match:t,forceMatch:c=!1,name:a,children:l,...f}=e,v=P(D,f.__scopeForm).getFieldValidity(a);return c||v?.[t]?h.jsx(z,{ref:o,...f,name:a,children:l??ve[t]}):null}),Fe=r.forwardRef((e,o)=>{const{match:t,forceMatch:c=!1,name:a,id:l,children:f,...d}=e,v=P(D,d.__scopeForm),u=r.useRef(null),p=O(o,u),x=U(),C=l??x,E=r.useMemo(()=>({id:C,match:t}),[C,t]),{onFieldCustomMatcherEntryAdd:I,onFieldCustomMatcherEntryRemove:M}=v;r.useEffect(()=>(I(a,E),()=>M(a,E.id)),[E,a,I,M]);const g=v.getFieldValidity(a),n=v.getFieldCustomErrors(a)[C];return c||g&&!ee(g)&&n?h.jsx(z,{id:C,ref:p,...d,name:a,children:f??V}):null}),z=r.forwardRef((e,o)=>{const{__scopeForm:t,id:c,name:a,...l}=e,f=Y(D,t),d=U(),v=c??d,{onFieldMessageIdAdd:u,onFieldMessageIdRemove:p}=f;return r.useEffect(()=>(u(a,v),()=>p(a,v)),[a,v,u,p]),h.jsx(R.span,{id:v,...l,ref:o})}),Ee="FormSubmit",ye=r.forwardRef((e,o)=>{const{__scopeForm:t,...c}=e;return h.jsx(R.button,{type:"submit",...c,ref:o})});ye.displayName=Ee;function B(e){const o={};for(const t in e)o[t]=e[t];return o}function ge(e){return e instanceof HTMLElement}function pe(e){return"validity"in e}function Me(e){return pe(e)&&(e.validity.valid===!1||e.getAttribute("aria-invalid")==="true")}function $(e){const o=e.elements,[t]=Array.from(o).filter(ge).filter(Me);return t}function be(e,o){return e.match.constructor.name==="AsyncFunction"||xe(e.match,o)}function Ie(e){return e.match.constructor.name==="Function"}function xe(e,o){return e(...o)instanceof Promise}function ee(e){let o=!1;for(const t in e){const c=t;if(c!=="valid"&&c!=="customError"&&e[c]){o=!0;break}}return o}function J(e,o){if(e?.valid===!0&&!o)return!0}function Q(e,o){if(e?.valid===!1||o)return!0}var Ve=Z;export{Ve as R};
