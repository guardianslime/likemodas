import{E as e,F as t,I as n}from"./chunk-C37GKA54-Cf4nyTIr.js";import"./jsx-runtime-zuKkPY9E.js";import{b as r,e as i,f as a,j as o,l as s,s as c}from"./state-C4UvaJM8.js";import{P as l,Q as u,R as d,S as f,a2 as p,a3 as m,d as h}from"./esm-Cc6flT3n.js";import{B as g,C as _,b as v,c as y,d as b,u as x,y as S}from"./stateful_components-DhOtndcj.js";import"./createLucideIcon-B3aLAEAR.js";var C=n(t()),w=n(_());function T(){let e=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(C.Fragment,{},e.is_loading_rx_state_?c(C.Fragment,{},c(u,{size:`3`})):c(O,{}))}function E(){let[e,t]=(0,C.useContext)(o),n=(0,C.useCallback)(t=>e([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.create_support_ticket`,{reason:`La talla, medida o número del pedido no es lo que esperabas`},{})],[t],{}),[e,r]);return c(l,{css:{width:`100%`},onClick:n,variant:`outline`},`La talla, medida o número del pedido no es lo que esperabas`)}function D(){let e=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(C.Fragment,{},e.is_admin_rx_state_?c(C.Fragment,{},c(f,{css:{width:`100%`,minHeight:`100vh`}},c(v,{}),c(f,{css:{padding:`1em`,width:`100%`}},c(C.Fragment,{},c(k,{}))))):c(C.Fragment,{},c(f,{css:{width:`100%`}},c(y,{}),c(f,{css:{paddingTop:`6rem`,paddingInlineStart:`1em`,paddingInlineEnd:`1em`,paddingBottom:`1em`,width:`100%`}},c(C.Fragment,{},c(k,{}))),c(f,{css:{position:`fixed`,bottom:`1.5rem`,right:`1.5rem`,zIndex:`1000`}},c(b,{})))))}function O(){let e=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(C.Fragment,{},a(e.current_ticket_rx_state_)?c(C.Fragment,{},c(d,{align:`start`,className:`rx-Stack`,css:{width:`100%`,maxWidth:`800px`},direction:`column`,gap:`4`},c(x,{}),c(j,{}),c(A,{}),c(N,{}))):c(C.Fragment,{},c(d,{align:`start`,className:`rx-Stack`,css:{width:`100%`,maxWidth:`700px`},direction:`column`,gap:`3`},c(x,{}),c(m,{css:{marginTop:`1.5em`},size:`5`},`¿Cuál es el motivo de tu solicitud?`),c(m,{color:`gray`,css:{marginTop:`1em`},size:`4`},`Devolución`),c(F,{}),c(m,{color:`gray`,css:{marginTop:`1.5em`},size:`4`},`Cambio`),c(E,{}))))}function k(){let e=(0,C.useContext)(s.reflex___state____state),t=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state);return c(C.Fragment,{},e.is_hydrated_rx_state_&&t.is_authenticated_rx_state_?c(C.Fragment,{},c(d,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,minHeight:`85vh`,padding:`2em`}},c(T,{}))):c(C.Fragment,{},c(d,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`}},c(S,{}))))}function A(){let e=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(d,{align:`start`,className:`rx-Stack`,css:{width:`100%`,maxHeight:`60vh`,overflowY:`auto`,padding:`1em`},direction:`column`,gap:`3`},e.ticket_messages_rx_state_.map((t,n)=>c(f,{css:{background:t.author_id===e.current_ticket_purchase_rx_state_?.userinfo_id?`var(--accent-4)`:`var(--gray-4)`,padding:`0.75em 1em`,borderRadius:`lg`,maxWidth:`80%`,alignSelf:t.author_id===e.current_ticket_purchase_rx_state_?.userinfo_id?`flex-end`:`flex-start`},key:n},c(d,{align:`start`,className:`rx-Stack`,css:{alignItems:`start`},direction:`column`,gap:`1`},c(p,{as:`p`,size:`2`,weight:`bold`},t.author_username),c(p,{as:`p`,css:{whiteSpace:`pre-wrap`}},t.content),c(p,{as:`p`,color:`gray`,css:{textAlign:`right`},size:`1`},t.created_at_formatted)))))}function j(){let e=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state);return c(m,{css:{marginTop:`1.5em`,textAlign:`left`},size:`5`},`Asunto: `+e.current_ticket_rx_state_?.subject)}function M(){let e=(0,C.useContext)(s.reflex___state____state);return c(C.Fragment,{},e.is_hydrated_rx_state_?c(D,{}):c(C.Fragment,{},c(d,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`100vh`,width:`100%`,background:`var(--gray-2)`}},c(u,{size:`3`}))))}function N(){let[e,t]=(0,C.useContext)(o),n=(0,C.useCallback)(t=>{let n=t.target;t.preventDefault();let i={...Object.fromEntries(new FormData(n).entries())};((...t)=>e([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.post_support_message`,{form_data:i},{})],t,{}))(t),n.reset()});return c(g,{className:`Root `,css:{width:`100%`},onSubmit:n},c(d,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`row`,gap:`3`},c(P,{}),c(l,{type:`submit`},`Enviar`)))}function P(){let e=(0,C.useContext)(s.reflex___state____state__reflex_local_auth___local_auth____local_auth_state__likemodas___state____app_state),[t,n]=(0,C.useContext)(o),a=(0,C.useCallback)(e=>t([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.set_new_message_content`,{content:e.target.value},{})],[e],{}),[t,r]);return c(w.default,{css:{flexGrow:`1`},debounceTimeout:300,element:h,name:`message_content`,onChange:a,placeholder:`Escribe tu mensaje...`,value:i(e.new_message_content_rx_state_)?e.new_message_content_rx_state_:``})}function F(){let[e,t]=(0,C.useContext)(o);return c(d,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`3`},[`El pedido no cumple con las características`,`El pedido tiene defectos de fábrica`,`El pedido no es el correcto`].map((t,n)=>c(l,{css:{width:`100%`},key:n,onClick:n=>e([r(`reflex___state____state.reflex_local_auth___local_auth____local_auth_state.likemodas___state____app_state.create_support_ticket`,{reason:t},{})],[n],{}),variant:`outline`},t)))}var I=e(function(){return c(C.Fragment,{},c(M,{}),c(`title`,{},`Devolución o Cambio`),c(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{I as default};